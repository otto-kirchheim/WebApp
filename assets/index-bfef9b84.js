var Wi=Object.defineProperty;var Fi=(t,e,n)=>e in t?Wi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _n=(t,e,n)=>(Fi(t,typeof e!="symbol"?e+"":e,n),n),zi=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Ht=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var wt=(t,e,n)=>(zi(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var ne="top",ce="bottom",de="right",se="left",rn="auto",Et=[ne,ce,de,se],Ge="start",dt="end",Ba="clippingParents",is="viewport",rt="popper",Da="reference",On=Et.reduce(function(t,e){return t.concat([e+"-"+Ge,e+"-"+dt])},[]),rs=[].concat(Et,[rn]).reduce(function(t,e){return t.concat([e,e+"-"+Ge,e+"-"+dt])},[]),Ma="beforeRead",La="read",$a="afterRead",ka="beforeMain",Ia="main",xa="afterMain",Oa="beforeWrite",Ra="write",Ya="afterWrite",Pa=[Ma,La,$a,ka,Ia,xa,Oa,Ra,Ya];function Se(t){return t?(t.nodeName||"").toLowerCase():null}function ge(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Je(t){var e=ge(t).Element;return t instanceof e||t instanceof Element}function fe(t){var e=ge(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function os(t){if(typeof ShadowRoot>"u")return!1;var e=ge(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qi(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},a=e.attributes[n]||{},i=e.elements[n];!fe(i)||!Se(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){var c=a[l];c===!1?i.removeAttribute(l):i.setAttribute(l,c===!0?"":c)}))})}function Ui(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var a=e.elements[s],i=e.attributes[s]||{},l=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),c=l.reduce(function(r,d){return r[d]="",r},{});!fe(a)||!Se(a)||(Object.assign(a.style,c),Object.keys(i).forEach(function(r){a.removeAttribute(r)}))})}}const ls={name:"applyStyles",enabled:!0,phase:"write",fn:qi,effect:Ui,requires:["computeStyles"]};function we(t){return t.split("-")[0]}var Ze=Math.max,Jt=Math.min,ut=Math.round;function Rn(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ha(){return!/^((?!chrome|android).)*safari/i.test(Rn())}function mt(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),a=1,i=1;e&&fe(t)&&(a=t.offsetWidth>0&&ut(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&ut(s.height)/t.offsetHeight||1);var l=Je(t)?ge(t):window,c=l.visualViewport,r=!Ha()&&n,d=(s.left+(r&&c?c.offsetLeft:0))/a,o=(s.top+(r&&c?c.offsetTop:0))/i,u=s.width/a,m=s.height/i;return{width:u,height:m,top:o,right:d+u,bottom:o+m,left:d,x:d,y:o}}function cs(t){var e=mt(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function Va(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&os(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function $e(t){return ge(t).getComputedStyle(t)}function ji(t){return["table","td","th"].indexOf(Se(t))>=0}function He(t){return((Je(t)?t.ownerDocument:t.document)||window.document).documentElement}function on(t){return Se(t)==="html"?t:t.assignedSlot||t.parentNode||(os(t)?t.host:null)||He(t)}function Is(t){return!fe(t)||$e(t).position==="fixed"?null:t.offsetParent}function Zi(t){var e=/firefox/i.test(Rn()),n=/Trident/i.test(Rn());if(n&&fe(t)){var s=$e(t);if(s.position==="fixed")return null}var a=on(t);for(os(a)&&(a=a.host);fe(a)&&["html","body"].indexOf(Se(a))<0;){var i=$e(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function kt(t){for(var e=ge(t),n=Is(t);n&&ji(n)&&$e(n).position==="static";)n=Is(n);return n&&(Se(n)==="html"||Se(n)==="body"&&$e(n).position==="static")?e:n||Zi(t)||e}function ds(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Nt(t,e,n){return Ze(t,Jt(e,n))}function Ki(t,e,n){var s=Nt(t,e,n);return s>n?n:s}function Wa(){return{top:0,right:0,bottom:0,left:0}}function Fa(t){return Object.assign({},Wa(),t)}function za(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var Gi=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Fa(typeof e!="number"?e:za(e,Et))};function Ji(t){var e,n=t.state,s=t.name,a=t.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,c=we(n.placement),r=ds(c),d=[se,de].indexOf(c)>=0,o=d?"height":"width";if(!(!i||!l)){var u=Gi(a.padding,n),m=cs(i),h=r==="y"?ne:se,g=r==="y"?ce:de,f=n.rects.reference[o]+n.rects.reference[r]-l[r]-n.rects.popper[o],E=l[r]-n.rects.reference[r],B=kt(i),L=B?r==="y"?B.clientHeight||0:B.clientWidth||0:0,$=f/2-E/2,D=u[h],M=L-m[o]-u[g],_=L/2-m[o]/2+$,v=Nt(D,_,M),I=r;n.modifiersData[s]=(e={},e[I]=v,e.centerOffset=v-_,e)}}function Xi(t){var e=t.state,n=t.options,s=n.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||Va(e.elements.popper,a)&&(e.elements.arrow=a))}const qa={name:"arrow",enabled:!0,phase:"main",fn:Ji,effect:Xi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ft(t){return t.split("-")[1]}var Qi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function er(t){var e=t.x,n=t.y,s=window,a=s.devicePixelRatio||1;return{x:ut(e*a)/a||0,y:ut(n*a)/a||0}}function xs(t){var e,n=t.popper,s=t.popperRect,a=t.placement,i=t.variation,l=t.offsets,c=t.position,r=t.gpuAcceleration,d=t.adaptive,o=t.roundOffsets,u=t.isFixed,m=l.x,h=m===void 0?0:m,g=l.y,f=g===void 0?0:g,E=typeof o=="function"?o({x:h,y:f}):{x:h,y:f};h=E.x,f=E.y;var B=l.hasOwnProperty("x"),L=l.hasOwnProperty("y"),$=se,D=ne,M=window;if(d){var _=kt(n),v="clientHeight",I="clientWidth";if(_===ge(n)&&(_=He(n),$e(_).position!=="static"&&c==="absolute"&&(v="scrollHeight",I="scrollWidth")),_=_,a===ne||(a===se||a===de)&&i===dt){D=ce;var w=u&&_===M&&M.visualViewport?M.visualViewport.height:_[v];f-=w-s.height,f*=r?1:-1}if(a===se||(a===ne||a===ce)&&i===dt){$=de;var y=u&&_===M&&M.visualViewport?M.visualViewport.width:_[I];h-=y-s.width,h*=r?1:-1}}var R=Object.assign({position:c},d&&Qi),Y=o===!0?er({x:h,y:f}):{x:h,y:f};if(h=Y.x,f=Y.y,r){var N;return Object.assign({},R,(N={},N[D]=L?"0":"",N[$]=B?"0":"",N.transform=(M.devicePixelRatio||1)<=1?"translate("+h+"px, "+f+"px)":"translate3d("+h+"px, "+f+"px, 0)",N))}return Object.assign({},R,(e={},e[D]=L?f+"px":"",e[$]=B?h+"px":"",e.transform="",e))}function tr(t){var e=t.state,n=t.options,s=n.gpuAcceleration,a=s===void 0?!0:s,i=n.adaptive,l=i===void 0?!0:i,c=n.roundOffsets,r=c===void 0?!0:c,d={placement:we(e.placement),variation:ft(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xs(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:r})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xs(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const us={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tr,data:{}};var Vt={passive:!0};function nr(t){var e=t.state,n=t.instance,s=t.options,a=s.scroll,i=a===void 0?!0:a,l=s.resize,c=l===void 0?!0:l,r=ge(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&d.forEach(function(o){o.addEventListener("scroll",n.update,Vt)}),c&&r.addEventListener("resize",n.update,Vt),function(){i&&d.forEach(function(o){o.removeEventListener("scroll",n.update,Vt)}),c&&r.removeEventListener("resize",n.update,Vt)}}const ms={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nr,data:{}};var sr={left:"right",right:"left",bottom:"top",top:"bottom"};function Zt(t){return t.replace(/left|right|bottom|top/g,function(e){return sr[e]})}var ar={start:"end",end:"start"};function Os(t){return t.replace(/start|end/g,function(e){return ar[e]})}function fs(t){var e=ge(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function hs(t){return mt(He(t)).left+fs(t).scrollLeft}function ir(t,e){var n=ge(t),s=He(t),a=n.visualViewport,i=s.clientWidth,l=s.clientHeight,c=0,r=0;if(a){i=a.width,l=a.height;var d=Ha();(d||!d&&e==="fixed")&&(c=a.offsetLeft,r=a.offsetTop)}return{width:i,height:l,x:c+hs(t),y:r}}function rr(t){var e,n=He(t),s=fs(t),a=(e=t.ownerDocument)==null?void 0:e.body,i=Ze(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Ze(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-s.scrollLeft+hs(t),r=-s.scrollTop;return $e(a||n).direction==="rtl"&&(c+=Ze(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:l,x:c,y:r}}function ps(t){var e=$e(t),n=e.overflow,s=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+s)}function Ua(t){return["html","body","#document"].indexOf(Se(t))>=0?t.ownerDocument.body:fe(t)&&ps(t)?t:Ua(on(t))}function Bt(t,e){var n;e===void 0&&(e=[]);var s=Ua(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),i=ge(s),l=a?[i].concat(i.visualViewport||[],ps(s)?s:[]):s,c=e.concat(l);return a?c:c.concat(Bt(on(l)))}function Yn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function or(t,e){var n=mt(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Rs(t,e,n){return e===is?Yn(ir(t,n)):Je(e)?or(e,n):Yn(rr(He(t)))}function lr(t){var e=Bt(on(t)),n=["absolute","fixed"].indexOf($e(t).position)>=0,s=n&&fe(t)?kt(t):t;return Je(s)?e.filter(function(a){return Je(a)&&Va(a,s)&&Se(a)!=="body"}):[]}function cr(t,e,n,s){var a=e==="clippingParents"?lr(t):[].concat(e),i=[].concat(a,[n]),l=i[0],c=i.reduce(function(r,d){var o=Rs(t,d,s);return r.top=Ze(o.top,r.top),r.right=Jt(o.right,r.right),r.bottom=Jt(o.bottom,r.bottom),r.left=Ze(o.left,r.left),r},Rs(t,l,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function ja(t){var e=t.reference,n=t.element,s=t.placement,a=s?we(s):null,i=s?ft(s):null,l=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,r;switch(a){case ne:r={x:l,y:e.y-n.height};break;case ce:r={x:l,y:e.y+e.height};break;case de:r={x:e.x+e.width,y:c};break;case se:r={x:e.x-n.width,y:c};break;default:r={x:e.x,y:e.y}}var d=a?ds(a):null;if(d!=null){var o=d==="y"?"height":"width";switch(i){case Ge:r[d]=r[d]-(e[o]/2-n[o]/2);break;case dt:r[d]=r[d]+(e[o]/2-n[o]/2);break}}return r}function ht(t,e){e===void 0&&(e={});var n=e,s=n.placement,a=s===void 0?t.placement:s,i=n.strategy,l=i===void 0?t.strategy:i,c=n.boundary,r=c===void 0?Ba:c,d=n.rootBoundary,o=d===void 0?is:d,u=n.elementContext,m=u===void 0?rt:u,h=n.altBoundary,g=h===void 0?!1:h,f=n.padding,E=f===void 0?0:f,B=Fa(typeof E!="number"?E:za(E,Et)),L=m===rt?Da:rt,$=t.rects.popper,D=t.elements[g?L:m],M=cr(Je(D)?D:D.contextElement||He(t.elements.popper),r,o,l),_=mt(t.elements.reference),v=ja({reference:_,element:$,strategy:"absolute",placement:a}),I=Yn(Object.assign({},$,v)),w=m===rt?I:_,y={top:M.top-w.top+B.top,bottom:w.bottom-M.bottom+B.bottom,left:M.left-w.left+B.left,right:w.right-M.right+B.right},R=t.modifiersData.offset;if(m===rt&&R){var Y=R[a];Object.keys(y).forEach(function(N){var C=[de,ce].indexOf(N)>=0?1:-1,S=[ne,ce].indexOf(N)>=0?"y":"x";y[N]+=Y[S]*C})}return y}function dr(t,e){e===void 0&&(e={});var n=e,s=n.placement,a=n.boundary,i=n.rootBoundary,l=n.padding,c=n.flipVariations,r=n.allowedAutoPlacements,d=r===void 0?rs:r,o=ft(s),u=o?c?On:On.filter(function(g){return ft(g)===o}):Et,m=u.filter(function(g){return d.indexOf(g)>=0});m.length===0&&(m=u);var h=m.reduce(function(g,f){return g[f]=ht(t,{placement:f,boundary:a,rootBoundary:i,padding:l})[we(f)],g},{});return Object.keys(h).sort(function(g,f){return h[g]-h[f]})}function ur(t){if(we(t)===rn)return[];var e=Zt(t);return[Os(t),e,Os(e)]}function mr(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,c=l===void 0?!0:l,r=n.fallbackPlacements,d=n.padding,o=n.boundary,u=n.rootBoundary,m=n.altBoundary,h=n.flipVariations,g=h===void 0?!0:h,f=n.allowedAutoPlacements,E=e.options.placement,B=we(E),L=B===E,$=r||(L||!g?[Zt(E)]:ur(E)),D=[E].concat($).reduce(function(Z,J){return Z.concat(we(J)===rn?dr(e,{placement:J,boundary:o,rootBoundary:u,padding:d,flipVariations:g,allowedAutoPlacements:f}):J)},[]),M=e.rects.reference,_=e.rects.popper,v=new Map,I=!0,w=D[0],y=0;y<D.length;y++){var R=D[y],Y=we(R),N=ft(R)===Ge,C=[ne,ce].indexOf(Y)>=0,S=C?"width":"height",x=ht(e,{placement:R,boundary:o,rootBoundary:u,altBoundary:m,padding:d}),b=C?N?de:se:N?ce:ne;M[S]>_[S]&&(b=Zt(b));var O=Zt(b),k=[];if(i&&k.push(x[Y]<=0),c&&k.push(x[b]<=0,x[O]<=0),k.every(function(Z){return Z})){w=R,I=!1;break}v.set(R,k)}if(I)for(var P=g?3:1,z=function(J){var oe=D.find(function(le){var X=v.get(le);if(X)return X.slice(0,J).every(function(K){return K})});if(oe)return w=oe,"break"},q=P;q>0;q--){var W=z(q);if(W==="break")break}e.placement!==w&&(e.modifiersData[s]._skip=!0,e.placement=w,e.reset=!0)}}const Za={name:"flip",enabled:!0,phase:"main",fn:mr,requiresIfExists:["offset"],data:{_skip:!1}};function Ys(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ps(t){return[ne,de,ce,se].some(function(e){return t[e]>=0})}function fr(t){var e=t.state,n=t.name,s=e.rects.reference,a=e.rects.popper,i=e.modifiersData.preventOverflow,l=ht(e,{elementContext:"reference"}),c=ht(e,{altBoundary:!0}),r=Ys(l,s),d=Ys(c,a,i),o=Ps(r),u=Ps(d);e.modifiersData[n]={referenceClippingOffsets:r,popperEscapeOffsets:d,isReferenceHidden:o,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":o,"data-popper-escaped":u})}const Ka={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fr};function hr(t,e,n){var s=we(t),a=[se,ne].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=i[0],c=i[1];return l=l||0,c=(c||0)*a,[se,de].indexOf(s)>=0?{x:c,y:l}:{x:l,y:c}}function pr(t){var e=t.state,n=t.options,s=t.name,a=n.offset,i=a===void 0?[0,0]:a,l=rs.reduce(function(o,u){return o[u]=hr(u,e.rects,i),o},{}),c=l[e.placement],r=c.x,d=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=r,e.modifiersData.popperOffsets.y+=d),e.modifiersData[s]=l}const Ga={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pr};function gr(t){var e=t.state,n=t.name;e.modifiersData[n]=ja({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const gs={name:"popperOffsets",enabled:!0,phase:"read",fn:gr,data:{}};function Er(t){return t==="x"?"y":"x"}function br(t){var e=t.state,n=t.options,s=t.name,a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,c=l===void 0?!1:l,r=n.boundary,d=n.rootBoundary,o=n.altBoundary,u=n.padding,m=n.tether,h=m===void 0?!0:m,g=n.tetherOffset,f=g===void 0?0:g,E=ht(e,{boundary:r,rootBoundary:d,padding:u,altBoundary:o}),B=we(e.placement),L=ft(e.placement),$=!L,D=ds(B),M=Er(D),_=e.modifiersData.popperOffsets,v=e.rects.reference,I=e.rects.popper,w=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,y=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Y={x:0,y:0};if(_){if(i){var N,C=D==="y"?ne:se,S=D==="y"?ce:de,x=D==="y"?"height":"width",b=_[D],O=b+E[C],k=b-E[S],P=h?-I[x]/2:0,z=L===Ge?v[x]:I[x],q=L===Ge?-I[x]:-v[x],W=e.elements.arrow,Z=h&&W?cs(W):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Wa(),oe=J[C],le=J[S],X=Nt(0,v[x],Z[x]),K=$?v[x]/2-P-X-oe-y.mainAxis:z-X-oe-y.mainAxis,ae=$?-v[x]/2+P+X+le+y.mainAxis:q+X+le+y.mainAxis,me=e.elements.arrow&&kt(e.elements.arrow),Te=me?D==="y"?me.clientTop||0:me.clientLeft||0:0,st=(N=R==null?void 0:R[D])!=null?N:0,_t=b+K-st-Te,Tt=b+ae-st,vn=Nt(h?Jt(O,_t):O,b,h?Ze(k,Tt):k);_[D]=vn,Y[D]=vn-b}if(c){var Ns,Hi=D==="x"?ne:se,Vi=D==="x"?ce:de,ze=_[M],Pt=M==="y"?"height":"width",Bs=ze+E[Hi],Ds=ze-E[Vi],yn=[ne,se].indexOf(B)!==-1,Ms=(Ns=R==null?void 0:R[M])!=null?Ns:0,Ls=yn?Bs:ze-v[Pt]-I[Pt]-Ms+y.altAxis,$s=yn?ze+v[Pt]+I[Pt]-Ms-y.altAxis:Ds,ks=h&&yn?Ki(Ls,ze,$s):Nt(h?Ls:Bs,ze,h?$s:Ds);_[M]=ks,Y[M]=ks-ze}e.modifiersData[s]=Y}}const Ja={name:"preventOverflow",enabled:!0,phase:"main",fn:br,requiresIfExists:["offset"]};function vr(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yr(t){return t===ge(t)||!fe(t)?fs(t):vr(t)}function _r(t){var e=t.getBoundingClientRect(),n=ut(e.width)/t.offsetWidth||1,s=ut(e.height)/t.offsetHeight||1;return n!==1||s!==1}function Tr(t,e,n){n===void 0&&(n=!1);var s=fe(e),a=fe(e)&&_r(e),i=He(e),l=mt(t,a,n),c={scrollLeft:0,scrollTop:0},r={x:0,y:0};return(s||!s&&!n)&&((Se(e)!=="body"||ps(i))&&(c=yr(e)),fe(e)?(r=mt(e,!0),r.x+=e.clientLeft,r.y+=e.clientTop):i&&(r.x=hs(i))),{x:l.left+c.scrollLeft-r.x,y:l.top+c.scrollTop-r.y,width:l.width,height:l.height}}function wr(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function a(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(c){if(!n.has(c)){var r=e.get(c);r&&a(r)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||a(i)}),s}function Cr(t){var e=wr(t);return Pa.reduce(function(n,s){return n.concat(e.filter(function(a){return a.phase===s}))},[])}function Sr(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ar(t){var e=t.reduce(function(n,s){var a=n[s.name];return n[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Hs={placement:"bottom",modifiers:[],strategy:"absolute"};function Vs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function ln(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,a=e.defaultOptions,i=a===void 0?Hs:a;return function(c,r,d){d===void 0&&(d=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hs,i),modifiersData:{},elements:{reference:c,popper:r},attributes:{},styles:{}},u=[],m=!1,h={state:o,setOptions:function(B){var L=typeof B=="function"?B(o.options):B;f(),o.options=Object.assign({},i,o.options,L),o.scrollParents={reference:Je(c)?Bt(c):c.contextElement?Bt(c.contextElement):[],popper:Bt(r)};var $=Cr(Ar([].concat(s,o.options.modifiers)));return o.orderedModifiers=$.filter(function(D){return D.enabled}),g(),h.update()},forceUpdate:function(){if(!m){var B=o.elements,L=B.reference,$=B.popper;if(Vs(L,$)){o.rects={reference:Tr(L,kt($),o.options.strategy==="fixed"),popper:cs($)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(y){return o.modifiersData[y.name]=Object.assign({},y.data)});for(var D=0;D<o.orderedModifiers.length;D++){if(o.reset===!0){o.reset=!1,D=-1;continue}var M=o.orderedModifiers[D],_=M.fn,v=M.options,I=v===void 0?{}:v,w=M.name;typeof _=="function"&&(o=_({state:o,options:I,name:w,instance:h})||o)}}}},update:Sr(function(){return new Promise(function(E){h.forceUpdate(),E(o)})}),destroy:function(){f(),m=!0}};if(!Vs(c,r))return h;h.setOptions(d).then(function(E){!m&&d.onFirstUpdate&&d.onFirstUpdate(E)});function g(){o.orderedModifiers.forEach(function(E){var B=E.name,L=E.options,$=L===void 0?{}:L,D=E.effect;if(typeof D=="function"){var M=D({state:o,name:B,instance:h,options:$}),_=function(){};u.push(M||_)}})}function f(){u.forEach(function(E){return E()}),u=[]}return h}}var Nr=ln(),Br=[ms,gs,us,ls],Dr=ln({defaultModifiers:Br}),Mr=[ms,gs,us,ls,Ga,Za,Ja,qa,Ka],Es=ln({defaultModifiers:Mr});const Xa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:xa,afterRead:$a,afterWrite:Ya,applyStyles:ls,arrow:qa,auto:rn,basePlacements:Et,beforeMain:ka,beforeRead:Ma,beforeWrite:Oa,bottom:ce,clippingParents:Ba,computeStyles:us,createPopper:Es,createPopperBase:Nr,createPopperLite:Dr,detectOverflow:ht,end:dt,eventListeners:ms,flip:Za,hide:Ka,left:se,main:Ia,modifierPhases:Pa,offset:Ga,placements:rs,popper:rt,popperGenerator:ln,popperOffsets:gs,preventOverflow:Ja,read:La,reference:Da,right:de,start:Ge,top:ne,variationPlacements:On,viewport:is,write:Ra},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Lr=1e6,$r=1e3,Pn="transitionend",kr=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Ir=t=>{do t+=Math.floor(Math.random()*Lr);while(document.getElementById(t));return t},Qa=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},ei=t=>{const e=Qa(t);return e&&document.querySelector(e)?e:null},De=t=>{const e=Qa(t);return e?document.querySelector(e):null},xr=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),a=Number.parseFloat(n);return!s&&!a?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*$r)},ti=t=>{t.dispatchEvent(new Event(Pn))},Me=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Re=t=>Me(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,bt=t=>{if(!Me(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Ye=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",ni=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?ni(t.parentNode):null},Xt=()=>{},It=t=>{t.offsetHeight},si=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Tn=[],Or=t=>{document.readyState==="loading"?(Tn.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Tn)e()}),Tn.push(t)):t()},he=()=>document.documentElement.dir==="rtl",Ee=t=>{Or(()=>{const e=si();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Ne=t=>{typeof t=="function"&&t()},ai=(t,e,n=!0)=>{if(!n){Ne(t);return}const s=5,a=xr(e)+s;let i=!1;const l=({target:c})=>{c===e&&(i=!0,e.removeEventListener(Pn,l),Ne(t))};e.addEventListener(Pn,l),setTimeout(()=>{i||ti(e)},a)},bs=(t,e,n,s)=>{const a=t.length;let i=t.indexOf(e);return i===-1?!n&&s?t[a-1]:t[0]:(i+=n?1:-1,s&&(i=(i+a)%a),t[Math.max(0,Math.min(i,a-1))])},Rr=/[^.]*(?=\..*)\.|.*/,Yr=/\..*/,Pr=/::\d+$/,wn={};let Ws=1;const ii={mouseenter:"mouseover",mouseleave:"mouseout"},Hr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ri(t,e){return e&&`${e}::${Ws++}`||t.uidEvent||Ws++}function oi(t){const e=ri(t);return t.uidEvent=e,wn[e]=wn[e]||{},wn[e]}function Vr(t,e){return function n(s){return vs(s,{delegateTarget:t}),n.oneOff&&T.off(t,s.type,e),e.apply(t,[s])}}function Wr(t,e,n){return function s(a){const i=t.querySelectorAll(e);for(let{target:l}=a;l&&l!==this;l=l.parentNode)for(const c of i)if(c===l)return vs(a,{delegateTarget:l}),s.oneOff&&T.off(t,a.type,e,n),n.apply(l,[a])}}function li(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function ci(t,e,n){const s=typeof e=="string",a=s?n:e||n;let i=di(t);return Hr.has(i)||(i=t),[s,a,i]}function Fs(t,e,n,s,a){if(typeof e!="string"||!t)return;let[i,l,c]=ci(e,n,s);e in ii&&(l=(g=>function(f){if(!f.relatedTarget||f.relatedTarget!==f.delegateTarget&&!f.delegateTarget.contains(f.relatedTarget))return g.call(this,f)})(l));const r=oi(t),d=r[c]||(r[c]={}),o=li(d,l,i?n:null);if(o){o.oneOff=o.oneOff&&a;return}const u=ri(l,e.replace(Rr,"")),m=i?Wr(t,n,l):Vr(t,l);m.delegationSelector=i?n:null,m.callable=l,m.oneOff=a,m.uidEvent=u,d[u]=m,t.addEventListener(c,m,i)}function Hn(t,e,n,s,a){const i=li(e[n],s,a);i&&(t.removeEventListener(n,i,Boolean(a)),delete e[n][i.uidEvent])}function Fr(t,e,n,s){const a=e[n]||{};for(const i of Object.keys(a))if(i.includes(s)){const l=a[i];Hn(t,e,n,l.callable,l.delegationSelector)}}function di(t){return t=t.replace(Yr,""),ii[t]||t}const T={on(t,e,n,s){Fs(t,e,n,s,!1)},one(t,e,n,s){Fs(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[a,i,l]=ci(e,n,s),c=l!==e,r=oi(t),d=r[l]||{},o=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(d).length)return;Hn(t,r,l,i,a?n:null);return}if(o)for(const u of Object.keys(r))Fr(t,r,u,e.slice(1));for(const u of Object.keys(d)){const m=u.replace(Pr,"");if(!c||e.includes(m)){const h=d[u];Hn(t,r,l,h.callable,h.delegationSelector)}}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=si(),a=di(e),i=e!==a;let l=null,c=!0,r=!0,d=!1;i&&s&&(l=s.Event(e,n),s(t).trigger(l),c=!l.isPropagationStopped(),r=!l.isImmediatePropagationStopped(),d=l.isDefaultPrevented());let o=new Event(e,{bubbles:c,cancelable:!0});return o=vs(o,n),d&&o.preventDefault(),r&&t.dispatchEvent(o),o.defaultPrevented&&l&&l.preventDefault(),o}};function vs(t,e){for(const[n,s]of Object.entries(e||{}))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}const Oe=new Map,Cn={set(t,e,n){Oe.has(t)||Oe.set(t,new Map);const s=Oe.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Oe.has(t)&&Oe.get(t).get(e)||null},remove(t,e){if(!Oe.has(t))return;const n=Oe.get(t);n.delete(e),n.size===0&&Oe.delete(t)}};function zs(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Sn(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Le={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Sn(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Sn(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let a=s.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),e[a]=zs(t.dataset[s])}return e},getDataAttribute(t,e){return zs(t.getAttribute(`data-bs-${Sn(e)}`))}};class xt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Me(n)?Le.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Me(n)?Le.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const s of Object.keys(n)){const a=n[s],i=e[s],l=Me(i)?"element":kr(i);if(!new RegExp(a).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${l}" but expected type "${a}".`)}}}const zr="5.2.3";class ve extends xt{constructor(e,n){super(),e=Re(e),e&&(this._element=e,this._config=this._getConfig(n),Cn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cn.remove(this._element,this.constructor.DATA_KEY),T.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){ai(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Cn.get(Re(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return zr}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const cn=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;T.on(document,n,`[data-bs-dismiss="${s}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Ye(this))return;const i=De(this)||this.closest(`.${s}`);t.getOrCreateInstance(i)[e]()})},qr="alert",Ur="bs.alert",ui=`.${Ur}`,jr=`close${ui}`,Zr=`closed${ui}`,Kr="fade",Gr="show";class dn extends ve{static get NAME(){return qr}close(){if(T.trigger(this._element,jr).defaultPrevented)return;this._element.classList.remove(Gr);const n=this._element.classList.contains(Kr);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),T.trigger(this._element,Zr),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=dn.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}cn(dn,"close");Ee(dn);const Jr="button",Xr="bs.button",Qr=`.${Xr}`,eo=".data-api",to="active",qs='[data-bs-toggle="button"]',no=`click${Qr}${eo}`;class un extends ve{static get NAME(){return Jr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(to))}static jQueryInterface(e){return this.each(function(){const n=un.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}T.on(document,no,qs,t=>{t.preventDefault();const e=t.target.closest(qs);un.getOrCreateInstance(e).toggle()});Ee(un);const H={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Ye(n)&&bt(n))}},so="swipe",vt=".bs.swipe",ao=`touchstart${vt}`,io=`touchmove${vt}`,ro=`touchend${vt}`,oo=`pointerdown${vt}`,lo=`pointerup${vt}`,co="touch",uo="pen",mo="pointer-event",fo=40,ho={endCallback:null,leftCallback:null,rightCallback:null},po={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qt extends xt{constructor(e,n){super(),this._element=e,!(!e||!Qt.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ho}static get DefaultType(){return po}static get NAME(){return so}dispose(){T.off(this._element,vt)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ne(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=fo)return;const n=e/this._deltaX;this._deltaX=0,n&&Ne(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(T.on(this._element,oo,e=>this._start(e)),T.on(this._element,lo,e=>this._end(e)),this._element.classList.add(mo)):(T.on(this._element,ao,e=>this._start(e)),T.on(this._element,io,e=>this._move(e)),T.on(this._element,ro,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===uo||e.pointerType===co)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const go="carousel",Eo="bs.carousel",Ve=`.${Eo}`,mi=".data-api",bo="ArrowLeft",vo="ArrowRight",yo=500,Ct="next",at="prev",ot="left",Kt="right",_o=`slide${Ve}`,An=`slid${Ve}`,To=`keydown${Ve}`,wo=`mouseenter${Ve}`,Co=`mouseleave${Ve}`,So=`dragstart${Ve}`,Ao=`load${Ve}${mi}`,No=`click${Ve}${mi}`,fi="carousel",Wt="active",Bo="slide",Do="carousel-item-end",Mo="carousel-item-start",Lo="carousel-item-next",$o="carousel-item-prev",hi=".active",pi=".carousel-item",ko=hi+pi,Io=".carousel-item img",xo=".carousel-indicators",Oo="[data-bs-slide], [data-bs-slide-to]",Ro='[data-bs-ride="carousel"]',Yo={[bo]:Kt,[vo]:ot},Po={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ho={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ot extends ve{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(xo,this._element),this._addEventListeners(),this._config.ride===fi&&this.cycle()}static get Default(){return Po}static get DefaultType(){return Ho}static get NAME(){return go}next(){this._slide(Ct)}nextWhenVisible(){!document.hidden&&bt(this._element)&&this.next()}prev(){this._slide(at)}pause(){this._isSliding&&ti(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){T.one(this._element,An,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){T.one(this._element,An,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const a=e>s?Ct:at;this._slide(a,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&T.on(this._element,To,e=>this._keydown(e)),this._config.pause==="hover"&&(T.on(this._element,wo,()=>this.pause()),T.on(this._element,Co,()=>this._maybeEnableCycle())),this._config.touch&&Qt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of H.find(Io,this._element))T.on(s,So,a=>a.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(ot)),rightCallback:()=>this._slide(this._directionToOrder(Kt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),yo+this._config.interval))}};this._swipeHelper=new Qt(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Yo[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=H.findOne(hi,this._indicatorsElement);n.classList.remove(Wt),n.removeAttribute("aria-current");const s=H.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Wt),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),a=e===Ct,i=n||bs(this._getItems(),s,a,this._config.wrap);if(i===s)return;const l=this._getItemIndex(i),c=h=>T.trigger(this._element,h,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:l});if(c(_o).defaultPrevented||!s||!i)return;const d=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=i;const o=a?Mo:Do,u=a?Lo:$o;i.classList.add(u),It(i),s.classList.add(o),i.classList.add(o);const m=()=>{i.classList.remove(o,u),i.classList.add(Wt),s.classList.remove(Wt,u,o),this._isSliding=!1,c(An)};this._queueCallback(m,s,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(Bo)}_getActive(){return H.findOne(ko,this._element)}_getItems(){return H.find(pi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return he()?e===ot?at:Ct:e===ot?Ct:at}_orderToDirection(e){return he()?e===at?ot:Kt:e===at?Kt:ot}static jQueryInterface(e){return this.each(function(){const n=Ot.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}T.on(document,No,Oo,function(t){const e=De(this);if(!e||!e.classList.contains(fi))return;t.preventDefault();const n=Ot.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Le.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});T.on(window,Ao,()=>{const t=H.find(Ro);for(const e of t)Ot.getOrCreateInstance(e)});Ee(Ot);const Vo="collapse",Wo="bs.collapse",Rt=`.${Wo}`,Fo=".data-api",zo=`show${Rt}`,qo=`shown${Rt}`,Uo=`hide${Rt}`,jo=`hidden${Rt}`,Zo=`click${Rt}${Fo}`,Nn="show",ct="collapse",Ft="collapsing",Ko="collapsed",Go=`:scope .${ct} .${ct}`,Jo="collapse-horizontal",Xo="width",Qo="height",el=".collapse.show, .collapse.collapsing",Vn='[data-bs-toggle="collapse"]',tl={parent:null,toggle:!0},nl={parent:"(null|element)",toggle:"boolean"};class Dt extends ve{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=H.find(Vn);for(const a of s){const i=ei(a),l=H.find(i).filter(c=>c===this._element);i!==null&&l.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tl}static get DefaultType(){return nl}static get NAME(){return Vo}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(el).filter(c=>c!==this._element).map(c=>Dt.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||T.trigger(this._element,zo).defaultPrevented)return;for(const c of e)c.hide();const s=this._getDimension();this._element.classList.remove(ct),this._element.classList.add(Ft),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Ft),this._element.classList.add(ct,Nn),this._element.style[s]="",T.trigger(this._element,qo)},l=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[s]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||T.trigger(this._element,Uo).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,It(this._element),this._element.classList.add(Ft),this._element.classList.remove(ct,Nn);for(const a of this._triggerArray){const i=De(a);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Ft),this._element.classList.add(ct),T.trigger(this._element,jo)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Nn)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Re(e.parent),e}_getDimension(){return this._element.classList.contains(Jo)?Xo:Qo}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Vn);for(const n of e){const s=De(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=H.find(Go,this._config.parent);return H.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(Ko,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Dt.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}T.on(document,Zo,Vn,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=ei(this),n=H.find(e);for(const s of n)Dt.getOrCreateInstance(s,{toggle:!1}).toggle()});Ee(Dt);const Us="dropdown",sl="bs.dropdown",tt=`.${sl}`,ys=".data-api",al="Escape",js="Tab",il="ArrowUp",Zs="ArrowDown",rl=2,ol=`hide${tt}`,ll=`hidden${tt}`,cl=`show${tt}`,dl=`shown${tt}`,gi=`click${tt}${ys}`,Ei=`keydown${tt}${ys}`,ul=`keyup${tt}${ys}`,lt="show",ml="dropup",fl="dropend",hl="dropstart",pl="dropup-center",gl="dropdown-center",Ue='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',El=`${Ue}.${lt}`,Gt=".dropdown-menu",bl=".navbar",vl=".navbar-nav",yl=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",_l=he()?"top-end":"top-start",Tl=he()?"top-start":"top-end",wl=he()?"bottom-end":"bottom-start",Cl=he()?"bottom-start":"bottom-end",Sl=he()?"left-start":"right-start",Al=he()?"right-start":"left-start",Nl="top",Bl="bottom",Dl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ml={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ce extends ve{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,Gt)[0]||H.prev(this._element,Gt)[0]||H.findOne(Gt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Dl}static get DefaultType(){return Ml}static get NAME(){return Us}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ye(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!T.trigger(this._element,cl,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(vl))for(const s of[].concat(...document.body.children))T.on(s,"mouseover",Xt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(lt),this._element.classList.add(lt),T.trigger(this._element,dl,e)}}hide(){if(Ye(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!T.trigger(this._element,ol,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))T.off(s,"mouseover",Xt);this._popper&&this._popper.destroy(),this._menu.classList.remove(lt),this._element.classList.remove(lt),this._element.setAttribute("aria-expanded","false"),Le.removeDataAttribute(this._menu,"popper"),T.trigger(this._element,ll,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Me(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Us.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Xa>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Me(this._config.reference)?e=Re(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Es(e,this._menu,n)}_isShown(){return this._menu.classList.contains(lt)}_getPlacement(){const e=this._parent;if(e.classList.contains(fl))return Sl;if(e.classList.contains(hl))return Al;if(e.classList.contains(pl))return Nl;if(e.classList.contains(gl))return Bl;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(ml)?n?Tl:_l:n?Cl:wl}_detectNavbar(){return this._element.closest(bl)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Le.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const s=H.find(yl,this._menu).filter(a=>bt(a));s.length&&bs(s,n,e===Zs,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Ce.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===rl||e.type==="keyup"&&e.key!==js)return;const n=H.find(El);for(const s of n){const a=Ce.getInstance(s);if(!a||a._config.autoClose===!1)continue;const i=e.composedPath(),l=i.includes(a._menu);if(i.includes(a._element)||a._config.autoClose==="inside"&&!l||a._config.autoClose==="outside"&&l||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===js||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:a._element};e.type==="click"&&(c.clickEvent=e),a._completeHide(c)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===al,a=[il,Zs].includes(e.key);if(!a&&!s||n&&!s)return;e.preventDefault();const i=this.matches(Ue)?this:H.prev(this,Ue)[0]||H.next(this,Ue)[0]||H.findOne(Ue,e.delegateTarget.parentNode),l=Ce.getOrCreateInstance(i);if(a){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),i.focus())}}T.on(document,Ei,Ue,Ce.dataApiKeydownHandler);T.on(document,Ei,Gt,Ce.dataApiKeydownHandler);T.on(document,gi,Ce.clearMenus);T.on(document,ul,Ce.clearMenus);T.on(document,gi,Ue,function(t){t.preventDefault(),Ce.getOrCreateInstance(this).toggle()});Ee(Ce);const Ks=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Gs=".sticky-top",zt="padding-right",Js="margin-right";class Wn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,zt,n=>n+e),this._setElementAttributes(Ks,zt,n=>n+e),this._setElementAttributes(Gs,Js,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,zt),this._resetElementAttributes(Ks,zt),this._resetElementAttributes(Gs,Js)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const a=this.getWidth(),i=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+a)return;this._saveInitialAttribute(l,n);const c=window.getComputedStyle(l).getPropertyValue(n);l.style.setProperty(n,`${s(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Le.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=a=>{const i=Le.getDataAttribute(a,n);if(i===null){a.style.removeProperty(n);return}Le.removeDataAttribute(a,n),a.style.setProperty(n,i)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Me(e)){n(e);return}for(const s of H.find(e,this._element))n(s)}}const bi="backdrop",Ll="fade",Xs="show",Qs=`mousedown.bs.${bi}`,$l={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class vi extends xt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return $l}static get DefaultType(){return kl}static get NAME(){return bi}show(e){if(!this._config.isVisible){Ne(e);return}this._append();const n=this._getElement();this._config.isAnimated&&It(n),n.classList.add(Xs),this._emulateAnimation(()=>{Ne(e)})}hide(e){if(!this._config.isVisible){Ne(e);return}this._getElement().classList.remove(Xs),this._emulateAnimation(()=>{this.dispose(),Ne(e)})}dispose(){this._isAppended&&(T.off(this._element,Qs),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ll),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Re(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),T.on(e,Qs,()=>{Ne(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){ai(e,this._getElement(),this._config.isAnimated)}}const Il="focustrap",xl="bs.focustrap",en=`.${xl}`,Ol=`focusin${en}`,Rl=`keydown.tab${en}`,Yl="Tab",Pl="forward",ea="backward",Hl={autofocus:!0,trapElement:null},Vl={autofocus:"boolean",trapElement:"element"};class yi extends xt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Hl}static get DefaultType(){return Vl}static get NAME(){return Il}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),T.off(document,en),T.on(document,Ol,e=>this._handleFocusin(e)),T.on(document,Rl,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,T.off(document,en))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=H.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===ea?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===Yl&&(this._lastTabNavDirection=e.shiftKey?ea:Pl)}}const Wl="modal",Fl="bs.modal",ye=`.${Fl}`,zl=".data-api",ql="Escape",Ul=`hide${ye}`,jl=`hidePrevented${ye}`,_i=`hidden${ye}`,Ti=`show${ye}`,Zl=`shown${ye}`,Kl=`resize${ye}`,Gl=`click.dismiss${ye}`,Jl=`mousedown.dismiss${ye}`,Xl=`keydown.dismiss${ye}`,Ql=`click${ye}${zl}`,ta="modal-open",ec="fade",na="show",Bn="modal-static",tc=".modal.show",nc=".modal-dialog",sc=".modal-body",ac='[data-bs-toggle="modal"]',ic={backdrop:!0,focus:!0,keyboard:!0},rc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class j extends ve{constructor(e,n){super(e,n),this._dialog=H.findOne(nc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wn,this._addEventListeners()}static get Default(){return ic}static get DefaultType(){return rc}static get NAME(){return Wl}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||T.trigger(this._element,Ti,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ta),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||T.trigger(this._element,Ul).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(na),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])T.off(e,ye);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new vi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yi({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=H.findOne(sc,this._dialog);n&&(n.scrollTop=0),It(this._element),this._element.classList.add(na);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,T.trigger(this._element,Zl,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){T.on(this._element,Xl,e=>{if(e.key===ql){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),T.on(window,Kl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),T.on(this._element,Jl,e=>{T.one(this._element,Gl,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ta),this._resetAdjustments(),this._scrollBar.reset(),T.trigger(this._element,_i)})}_isAnimated(){return this._element.classList.contains(ec)}_triggerBackdropTransition(){if(T.trigger(this._element,jl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Bn)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Bn),this._queueCallback(()=>{this._element.classList.remove(Bn),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const a=he()?"paddingLeft":"paddingRight";this._element.style[a]=`${n}px`}if(!s&&e){const a=he()?"paddingRight":"paddingLeft";this._element.style[a]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=j.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}T.on(document,Ql,ac,function(t){const e=De(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),T.one(e,Ti,a=>{a.defaultPrevented||T.one(e,_i,()=>{bt(this)&&this.focus()})});const n=H.findOne(tc);n&&j.getInstance(n).hide(),j.getOrCreateInstance(e).toggle(this)});cn(j);Ee(j);const oc="offcanvas",lc="bs.offcanvas",Ie=`.${lc}`,wi=".data-api",cc=`load${Ie}${wi}`,dc="Escape",sa="show",aa="showing",ia="hiding",uc="offcanvas-backdrop",Ci=".offcanvas.show",mc=`show${Ie}`,fc=`shown${Ie}`,hc=`hide${Ie}`,ra=`hidePrevented${Ie}`,Si=`hidden${Ie}`,pc=`resize${Ie}`,gc=`click${Ie}${wi}`,Ec=`keydown.dismiss${Ie}`,bc='[data-bs-toggle="offcanvas"]',vc={backdrop:!0,keyboard:!0,scroll:!1},yc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Pe extends ve{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vc}static get DefaultType(){return yc}static get NAME(){return oc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||T.trigger(this._element,mc,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(aa);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(sa),this._element.classList.remove(aa),T.trigger(this._element,fc,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||T.trigger(this._element,hc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ia),this._backdrop.hide();const n=()=>{this._element.classList.remove(sa,ia),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wn().reset(),T.trigger(this._element,Si)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){T.trigger(this._element,ra);return}this.hide()},n=Boolean(this._config.backdrop);return new vi({className:uc,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new yi({trapElement:this._element})}_addEventListeners(){T.on(this._element,Ec,e=>{if(e.key===dc){if(!this._config.keyboard){T.trigger(this._element,ra);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const n=Pe.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}T.on(document,gc,bc,function(t){const e=De(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ye(this))return;T.one(e,Si,()=>{bt(this)&&this.focus()});const n=H.findOne(Ci);n&&n!==e&&Pe.getInstance(n).hide(),Pe.getOrCreateInstance(e).toggle(this)});T.on(window,cc,()=>{for(const t of H.find(Ci))Pe.getOrCreateInstance(t).show()});T.on(window,pc,()=>{for(const t of H.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Pe.getOrCreateInstance(t).hide()});cn(Pe);Ee(Pe);const _c=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Tc=/^aria-[\w-]*$/i,wc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Cc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Sc=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?_c.has(n)?Boolean(wc.test(t.nodeValue)||Cc.test(t.nodeValue)):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))},Ai={"*":["class","dir","id","lang","role",Tc],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ac(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const a=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...a.body.querySelectorAll("*"));for(const l of i){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const r=[].concat(...l.attributes),d=[].concat(e["*"]||[],e[c]||[]);for(const o of r)Sc(o,d)||l.removeAttribute(o.nodeName)}return a.body.innerHTML}const Nc="TemplateFactory",Bc={allowList:Ai,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Dc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Mc={entry:"(string|element|function|null)",selector:"(string|element)"};class Lc extends xt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Bc}static get DefaultType(){return Dc}static get NAME(){return Nc}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,i]of Object.entries(this._config.content))this._setContent(e,i,a);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},Mc)}_setContent(e,n,s){const a=H.findOne(s,e);if(a){if(n=this._resolvePossibleFunction(n),!n){a.remove();return}if(Me(n)){this._putElementInTemplate(Re(n),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(n);return}a.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Ac(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const $c="tooltip",kc=new Set(["sanitize","allowList","sanitizeFn"]),Dn="fade",Ic="modal",qt="show",xc=".tooltip-inner",oa=`.${Ic}`,la="hide.bs.modal",St="hover",Mn="focus",Oc="click",Rc="manual",Yc="hide",Pc="hidden",Hc="show",Vc="shown",Wc="inserted",Fc="click",zc="focusin",qc="focusout",Uc="mouseenter",jc="mouseleave",Zc={AUTO:"auto",TOP:"top",RIGHT:he()?"left":"right",BOTTOM:"bottom",LEFT:he()?"right":"left"},Kc={allowList:Ai,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class yt extends ve{constructor(e,n){if(typeof Xa>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Kc}static get DefaultType(){return Gc}static get NAME(){return $c}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),T.off(this._element.closest(oa),la,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=T.trigger(this._element,this.constructor.eventName(Hc)),s=(ni(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(a),T.trigger(this._element,this.constructor.eventName(Wc))),this._popper=this._createPopper(a),a.classList.add(qt),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))T.on(c,"mouseover",Xt);const l=()=>{T.trigger(this._element,this.constructor.eventName(Vc)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||T.trigger(this._element,this.constructor.eventName(Yc)).defaultPrevented)return;if(this._getTipElement().classList.remove(qt),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))T.off(a,"mouseover",Xt);this._activeTrigger[Oc]=!1,this._activeTrigger[Mn]=!1,this._activeTrigger[St]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),T.trigger(this._element,this.constructor.eventName(Pc)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Dn,qt),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=Ir(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Dn),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Lc({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[xc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Dn)}_isShown(){return this.tip&&this.tip.classList.contains(qt)}_createPopper(e){const n=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,s=Zc[n.toUpperCase()];return Es(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")T.on(this._element,this.constructor.eventName(Fc),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==Rc){const s=n===St?this.constructor.eventName(Uc):this.constructor.eventName(zc),a=n===St?this.constructor.eventName(jc):this.constructor.eventName(qc);T.on(this._element,s,this._config.selector,i=>{const l=this._initializeOnDelegatedTarget(i);l._activeTrigger[i.type==="focusin"?Mn:St]=!0,l._enter()}),T.on(this._element,a,this._config.selector,i=>{const l=this._initializeOnDelegatedTarget(i);l._activeTrigger[i.type==="focusout"?Mn:St]=l._element.contains(i.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},T.on(this._element.closest(oa),la,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Le.getDataAttributes(this._element);for(const s of Object.keys(n))kc.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Re(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=yt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ee(yt);const Jc="popover",Xc=".popover-header",Qc=".popover-body",ed={...yt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},td={...yt.DefaultType,content:"(null|string|element|function)"};class mn extends yt{static get Default(){return ed}static get DefaultType(){return td}static get NAME(){return Jc}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xc]:this._getTitle(),[Qc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=mn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ee(mn);const nd="scrollspy",sd="bs.scrollspy",_s=`.${sd}`,ad=".data-api",id=`activate${_s}`,ca=`click${_s}`,rd=`load${_s}${ad}`,od="dropdown-item",it="active",ld='[data-bs-spy="scroll"]',Ln="[href]",cd=".nav, .list-group",da=".nav-link",dd=".nav-item",ud=".list-group-item",md=`${da}, ${dd} > ${da}, ${ud}`,fd=".dropdown",hd=".dropdown-toggle",pd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class fn extends ve{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pd}static get DefaultType(){return gd}static get NAME(){return nd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Re(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(T.off(this._config.target,ca),T.on(this._config.target,ca,Ln,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,a=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:a,behavior:"smooth"});return}s.scrollTop=a}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=l=>this._targetLinks.get(`#${l.target.id}`),s=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(n(l))},a=(this._rootElement||document.documentElement).scrollTop,i=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&c){if(s(l),!a)return;continue}!i&&!c&&s(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=H.find(Ln,this._config.target);for(const n of e){if(!n.hash||Ye(n))continue;const s=H.findOne(n.hash,this._element);bt(s)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(it),this._activateParents(e),T.trigger(this._element,id,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(od)){H.findOne(hd,e.closest(fd)).classList.add(it);return}for(const n of H.parents(e,cd))for(const s of H.prev(n,md))s.classList.add(it)}_clearActiveClass(e){e.classList.remove(it);const n=H.find(`${Ln}.${it}`,e);for(const s of n)s.classList.remove(it)}static jQueryInterface(e){return this.each(function(){const n=fn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}T.on(window,rd,()=>{for(const t of H.find(ld))fn.getOrCreateInstance(t)});Ee(fn);const Ed="tab",bd="bs.tab",nt=`.${bd}`,vd=`hide${nt}`,yd=`hidden${nt}`,_d=`show${nt}`,Td=`shown${nt}`,wd=`click${nt}`,Cd=`keydown${nt}`,Sd=`load${nt}`,Ad="ArrowLeft",ua="ArrowRight",Nd="ArrowUp",ma="ArrowDown",je="active",fa="fade",$n="show",Bd="dropdown",Dd=".dropdown-toggle",Md=".dropdown-menu",kn=":not(.dropdown-toggle)",Ld='.list-group, .nav, [role="tablist"]',$d=".nav-item, .list-group-item",kd=`.nav-link${kn}, .list-group-item${kn}, [role="tab"]${kn}`,Ni='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',In=`${kd}, ${Ni}`,Id=`.${je}[data-bs-toggle="tab"], .${je}[data-bs-toggle="pill"], .${je}[data-bs-toggle="list"]`;class Xe extends ve{constructor(e){super(e),this._parent=this._element.closest(Ld),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),T.on(this._element,Cd,n=>this._keydown(n)))}static get NAME(){return Ed}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?T.trigger(n,vd,{relatedTarget:e}):null;T.trigger(e,_d,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(je),this._activate(De(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add($n);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),T.trigger(e,Td,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(fa))}_deactivate(e,n){if(!e)return;e.classList.remove(je),e.blur(),this._deactivate(De(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove($n);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),T.trigger(e,yd,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(fa))}_keydown(e){if(![Ad,ua,Nd,ma].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[ua,ma].includes(e.key),s=bs(this._getChildren().filter(a=>!Ye(a)),e.target,n,!0);s&&(s.focus({preventScroll:!0}),Xe.getOrCreateInstance(s).show())}_getChildren(){return H.find(In,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=De(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(Bd))return;const a=(i,l)=>{const c=H.findOne(i,s);c&&c.classList.toggle(l,n)};a(Dd,je),a(Md,$n),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(je)}_getInnerElement(e){return e.matches(In)?e:H.findOne(In,e)}_getOuterElement(e){return e.closest($d)||e}static jQueryInterface(e){return this.each(function(){const n=Xe.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}T.on(document,wd,Ni,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Ye(this)&&Xe.getOrCreateInstance(this).show()});T.on(window,Sd,()=>{for(const t of H.find(Id))Xe.getOrCreateInstance(t)});Ee(Xe);const xd="toast",Od="bs.toast",We=`.${Od}`,Rd=`mouseover${We}`,Yd=`mouseout${We}`,Pd=`focusin${We}`,Hd=`focusout${We}`,Vd=`hide${We}`,Wd=`hidden${We}`,Fd=`show${We}`,zd=`shown${We}`,qd="fade",ha="hide",Ut="show",jt="showing",Ud={animation:"boolean",autohide:"boolean",delay:"number"},jd={animation:!0,autohide:!0,delay:5e3};class hn extends ve{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return jd}static get DefaultType(){return Ud}static get NAME(){return xd}show(){if(T.trigger(this._element,Fd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(qd);const n=()=>{this._element.classList.remove(jt),T.trigger(this._element,zd),this._maybeScheduleHide()};this._element.classList.remove(ha),It(this._element),this._element.classList.add(Ut,jt),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||T.trigger(this._element,Vd).defaultPrevented)return;const n=()=>{this._element.classList.add(ha),this._element.classList.remove(jt,Ut),T.trigger(this._element,Wd)};this._element.classList.add(jt),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ut),super.dispose()}isShown(){return this._element.classList.contains(Ut)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){T.on(this._element,Rd,e=>this._onInteraction(e,!0)),T.on(this._element,Yd,e=>this._onInteraction(e,!1)),T.on(this._element,Pd,e=>this._onInteraction(e,!0)),T.on(this._element,Hd,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=hn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}cn(hn);Ee(hn);window.addEventListener("load",()=>{p.check("datenBerechnung")&&p.check("VorgabenU")&&p.check("VorgabenGeld")&&Ts(p.get("datenBerechnung"),p.get("VorgabenGeld"))});function Ts(t,e=p.get("VorgabenGeld")){if(t===!0)return ee("btnNeuBerech");Object.setPrototypeOf(e,{getMonat:function(c){let r=this[1];const d=Object.keys(this).map(Number);if(d.length>1&&c>1&&Math.max(...d.filter(o=>o<=c))>1)for(let o=2;o<=c;o++)typeof this[o]<"u"&&(r={...r,...this[o]});return r}});const n=p.get("VorgabenU").pers.TB,s=Array.from({length:12},()=>[]),a=document.getElementById("tbodyBerechnung");a.innerHTML='<tr><th rowspan="2">Bereitschaftszeiten</th></tr><tr></tr><tr><th>Bereitschaftszulage</th></tr><tr><th>LRE 1</th></tr><tr><th>LRE 2</th></tr><tr><th>LRE 3</th></tr><tr><th>Privat-PKW</th></tr><tr><th>Summe Bereitschaft</th></tr><tr><th><table class="table table-borderless m-0"><tbody>			<tr><td class="py-0">Anzahl der</td><td class="py-0">>8</td></tr>			<tr><td class="py-0">Abwesenheiten nach</td><td class="py-0">>14</td>			</tr><tr><td class="py-0">FGr-TV / LfTV / RVB</td><td class="py-0">>24</td></tr>		 </tbody></table></th></tr><tr><th><table class="table table-borderless m-0"><tbody>			<tr><td class="py-0">steuerfreie Abwesen-</td><td class="py-0">>8</td></tr>			<tr><td class="py-0">heiten § 9 EStG</td><td class="py-0">>14</td>		 </tbody></table></th></tr><tr><th>Summe EWT</th></tr><tr><th>Summe Nebenbezüge</th></tr><tr><th>Summe Gesamt</th></tr>';const i=c=>c===null?"&nbsp;":c;Array.from(a.children).forEach((c,r)=>{for(const[d,o]of Object.entries(t)){const u=d-1;let m=document.createElement("td"),h;switch(r){case 0:o.B.B!==0&&(m.textContent=o.B.B);break;case 1:o.B.B!==0&&(m.textContent=n==="Tarifkraft"?l(o.B.B):Math.round((o.B.B-600)/8/60,0));break;case 2:o.B.B!==0&&(s[u][0]=n==="Tarifkraft"?Math.round(o.B.B/60,0)*e.getMonat(d)[n]:Math.round((o.B.B-600)/8/60,0)*e.getMonat(d)[n],m.textContent=s[u][0].toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 3:o.B.L1!==0&&(s[u][0]+=Math.round(o.B.L1,0)*e.getMonat(d).LRE1,m.textContent=(Math.round(o.B.L1,0)*e.getMonat(d).LRE1).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 4:o.B.L2!==0&&(s[u][0]+=Math.round(o.B.L2,0)*e.getMonat(d).LRE2,m.textContent=(Math.round(o.B.L2,0)*e.getMonat(d).LRE2).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 5:o.B.L3!==0&&(s[u][0]+=Math.round(o.B.L3,0)*e.getMonat(d).LRE3,m.textContent=(Math.round(o.B.L3,0)*e.getMonat(d).LRE3).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 6:o.B.K!==0&&(h=Math.round(o.B.K,0)*(n==="Tarifkraft"?e.getMonat(d).PrivatPKWTarif:e.getMonat(d).PrivatPKWBeamter),s[u][0]+=h,m.textContent=h.toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 7:s[u].length!==0?m.textContent=s[u][0].toLocaleString("de-DE",{style:"currency",currency:"EUR"}):s[u][0]||(s[u][0]=0);break;case 8:n==="Tarifkraft"&&(o.E.A8!==0&&(s[u][1]=o.E.A8*e.getMonat(d).TE8),o.E.A14!==0&&(s[u][1]+=o.E.A14*e.getMonat(d).TE14),o.E.A24!==0&&(s[u][1]+=o.E.A24*e.getMonat(d).TE24)),(o.E.A8>0||o.E.A14>0||o.E.A24>0)&&(m.innerHTML=`${i(o.E.A8)} <br />${i(o.E.A14)} <br />${i(o.E.A24)}`);break;case 9:n!=="Tarifkraft"&&(o.E.S8!==0&&(s[u][1]=o.E.S8*e.getMonat(d).BE8),o.E.S14!==0&&(s[u][1]+=o.E.S14*e.getMonat(d).BE14)),(o.E.S8>0||o.E.S14>0)&&(m.innerHTML=`${i(o.E.S8)} <br /> ${i(o.E.S14)}`),c.appendChild(m);break;case 10:s[u].length>1?m.textContent=s[u][1].toLocaleString("de-DE",{style:"currency",currency:"EUR"}):s[u][1]||(s[u][1]=0);break;case 11:o.N.F===0?s[u][2]=0:(n!=="Tarifkraft"?s[u][2]=0:s[u][2]=o.N.F*e.getMonat(d).Fahrentsch,m.textContent=s[u][2].toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 12:s[u].length!==0&&(s[u][0]||s[u][1]||s[u][2])&&(m.textContent=(Number(s[u][0])+Number(s[u][1])+Number(s[u][2])).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break}c.appendChild(m)}});function l(c){const r=Math.floor(c/60),d=Math.round(c%60,0);return`${r}:${d.toString().padStart(2,"0")}`}}var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tn={},Zd={get exports(){return tn},set exports(t){tn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){var n=1e3,s=6e4,a=36e5,i="millisecond",l="second",c="minute",r="hour",d="day",o="week",u="month",m="quarter",h="year",g="date",f="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var C=["th","st","nd","rd"],S=N%100;return"["+N+(C[(S-20)%10]||C[S]||C[0])+"]"}},$=function(N,C,S){var x=String(N);return!x||x.length>=C?N:""+Array(C+1-x.length).join(S)+N},D={s:$,z:function(N){var C=-N.utcOffset(),S=Math.abs(C),x=Math.floor(S/60),b=S%60;return(C<=0?"+":"-")+$(x,2,"0")+":"+$(b,2,"0")},m:function N(C,S){if(C.date()<S.date())return-N(S,C);var x=12*(S.year()-C.year())+(S.month()-C.month()),b=C.clone().add(x,u),O=S-b<0,k=C.clone().add(x+(O?-1:1),u);return+(-(x+(S-b)/(O?b-k:k-b))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:u,y:h,w:o,d,D:g,h:r,m:c,s:l,ms:i,Q:m}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},M="en",_={};_[M]=L;var v=function(N){return N instanceof R},I=function N(C,S,x){var b;if(!C)return M;if(typeof C=="string"){var O=C.toLowerCase();_[O]&&(b=O),S&&(_[O]=S,b=O);var k=C.split("-");if(!b&&k.length>1)return N(k[0])}else{var P=C.name;_[P]=C,b=P}return!x&&b&&(M=b),b||!x&&M},w=function(N,C){if(v(N))return N.clone();var S=typeof C=="object"?C:{};return S.date=N,S.args=arguments,new R(S)},y=D;y.l=I,y.i=v,y.w=function(N,C){return w(N,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var R=function(){function N(S){this.$L=I(S.locale,null,!0),this.parse(S)}var C=N.prototype;return C.parse=function(S){this.$d=function(x){var b=x.date,O=x.utc;if(b===null)return new Date(NaN);if(y.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var k=b.match(E);if(k){var P=k[2]-1||0,z=(k[7]||"0").substring(0,3);return O?new Date(Date.UTC(k[1],P,k[3]||1,k[4]||0,k[5]||0,k[6]||0,z)):new Date(k[1],P,k[3]||1,k[4]||0,k[5]||0,k[6]||0,z)}}return new Date(b)}(S),this.$x=S.x||{},this.init()},C.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},C.$utils=function(){return y},C.isValid=function(){return this.$d.toString()!==f},C.isSame=function(S,x){var b=w(S);return this.startOf(x)<=b&&b<=this.endOf(x)},C.isAfter=function(S,x){return w(S)<this.startOf(x)},C.isBefore=function(S,x){return this.endOf(x)<w(S)},C.$g=function(S,x,b){return y.u(S)?this[x]:this.set(b,S)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(S,x){var b=this,O=!!y.u(x)||x,k=y.p(S),P=function(X,K){var ae=y.w(b.$u?Date.UTC(b.$y,K,X):new Date(b.$y,K,X),b);return O?ae:ae.endOf(d)},z=function(X,K){return y.w(b.toDate()[X].apply(b.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(K)),b)},q=this.$W,W=this.$M,Z=this.$D,J="set"+(this.$u?"UTC":"");switch(k){case h:return O?P(1,0):P(31,11);case u:return O?P(1,W):P(0,W+1);case o:var oe=this.$locale().weekStart||0,le=(q<oe?q+7:q)-oe;return P(O?Z-le:Z+(6-le),W);case d:case g:return z(J+"Hours",0);case r:return z(J+"Minutes",1);case c:return z(J+"Seconds",2);case l:return z(J+"Milliseconds",3);default:return this.clone()}},C.endOf=function(S){return this.startOf(S,!1)},C.$set=function(S,x){var b,O=y.p(S),k="set"+(this.$u?"UTC":""),P=(b={},b[d]=k+"Date",b[g]=k+"Date",b[u]=k+"Month",b[h]=k+"FullYear",b[r]=k+"Hours",b[c]=k+"Minutes",b[l]=k+"Seconds",b[i]=k+"Milliseconds",b)[O],z=O===d?this.$D+(x-this.$W):x;if(O===u||O===h){var q=this.clone().set(g,1);q.$d[P](z),q.init(),this.$d=q.set(g,Math.min(this.$D,q.daysInMonth())).$d}else P&&this.$d[P](z);return this.init(),this},C.set=function(S,x){return this.clone().$set(S,x)},C.get=function(S){return this[y.p(S)]()},C.add=function(S,x){var b,O=this;S=Number(S);var k=y.p(x),P=function(W){var Z=w(O);return y.w(Z.date(Z.date()+Math.round(W*S)),O)};if(k===u)return this.set(u,this.$M+S);if(k===h)return this.set(h,this.$y+S);if(k===d)return P(1);if(k===o)return P(7);var z=(b={},b[c]=s,b[r]=a,b[l]=n,b)[k]||1,q=this.$d.getTime()+S*z;return y.w(q,this)},C.subtract=function(S,x){return this.add(-1*S,x)},C.format=function(S){var x=this,b=this.$locale();if(!this.isValid())return b.invalidDate||f;var O=S||"YYYY-MM-DDTHH:mm:ssZ",k=y.z(this),P=this.$H,z=this.$m,q=this.$M,W=b.weekdays,Z=b.months,J=function(K,ae,me,Te){return K&&(K[ae]||K(x,O))||me[ae].slice(0,Te)},oe=function(K){return y.s(P%12||12,K,"0")},le=b.meridiem||function(K,ae,me){var Te=K<12?"AM":"PM";return me?Te.toLowerCase():Te},X={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:y.s(q+1,2,"0"),MMM:J(b.monthsShort,q,Z,3),MMMM:J(Z,q),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:J(b.weekdaysMin,this.$W,W,2),ddd:J(b.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(P),HH:y.s(P,2,"0"),h:oe(1),hh:oe(2),a:le(P,z,!0),A:le(P,z,!1),m:String(z),mm:y.s(z,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:k};return O.replace(B,function(K,ae){return ae||X[K]||k.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(S,x,b){var O,k=y.p(x),P=w(S),z=(P.utcOffset()-this.utcOffset())*s,q=this-P,W=y.m(this,P);return W=(O={},O[h]=W/12,O[u]=W,O[m]=W/3,O[o]=(q-z)/6048e5,O[d]=(q-z)/864e5,O[r]=q/a,O[c]=q/s,O[l]=q/n,O)[k]||q,b?W:y.a(W)},C.daysInMonth=function(){return this.endOf(u).$D},C.$locale=function(){return _[this.$L]},C.locale=function(S,x){if(!S)return this.$L;var b=this.clone(),O=I(S,x,!0);return O&&(b.$L=O),b},C.clone=function(){return y.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},N}(),Y=R.prototype;return w.prototype=Y,[["$ms",i],["$s",l],["$m",c],["$H",r],["$W",d],["$M",u],["$y",h],["$D",g]].forEach(function(N){Y[N[1]]=function(C){return this.$g(C,N[0],N[1])}}),w.extend=function(N,C){return N.$i||(N(C,R,w),N.$i=!0),w},w.locale=I,w.isDayjs=v,w.unix=function(N){return w(1e3*N)},w.en=_[M],w.Ls=_,w.p={},w})})(Zd);const A=tn;var pa={},Kd={get exports(){return pa},set exports(t){pa=t}};(function(t,e){(function(n,s){t.exports=s(tn)})(_e,function(n){function s(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var a=s(n),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function l(r,d,o){var u=i[o];return Array.isArray(u)&&(u=u[d?0:1]),u.replace("%d",r)}var c={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(r){return r+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l}};return a.default.locale(c,null,!0),c})})(Kd);var Fn={},Gd={get exports(){return Fn},set exports(t){Fn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){return function(n,s,a){var i=s.prototype,l=function(r){var d=r.date,o=r.utc;return Array.isArray(d)?o?d.length?new Date(Date.UTC.apply(null,d)):new Date:d.length===1?a(String(d[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(d))):d},c=i.parse;i.parse=function(r){r.date=l.bind(this)(r),c.bind(this)(r)}}})})(Gd);const pn=Fn;var zn={},Jd={get exports(){return zn},set exports(t){zn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},r=function(f){return(f=+f)+(f>68?1900:2e3)},d=function(f){return function(E){this[f]=+E}},o=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var B=E.match(/([+-]|\d\d)/g),L=60*B[1]+(+B[2]||0);return L===0?0:B[0]==="+"?-L:L}(f)}],u=function(f){var E=c[f];return E&&(E.indexOf?E:E.s.concat(E.f))},m=function(f,E){var B,L=c.meridiem;if(L){for(var $=1;$<=24;$+=1)if(f.indexOf(L($,0,E))>-1){B=$>12;break}}else B=f===(E?"pm":"PM");return B},h={A:[l,function(f){this.afternoon=m(f,!1)}],a:[l,function(f){this.afternoon=m(f,!0)}],S:[/\d/,function(f){this.milliseconds=100*+f}],SS:[a,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[i,d("seconds")],ss:[i,d("seconds")],m:[i,d("minutes")],mm:[i,d("minutes")],H:[i,d("hours")],h:[i,d("hours")],HH:[i,d("hours")],hh:[i,d("hours")],D:[i,d("day")],DD:[a,d("day")],Do:[l,function(f){var E=c.ordinal,B=f.match(/\d+/);if(this.day=B[0],E)for(var L=1;L<=31;L+=1)E(L).replace(/\[|\]/g,"")===f&&(this.day=L)}],M:[i,d("month")],MM:[a,d("month")],MMM:[l,function(f){var E=u("months"),B=(u("monthsShort")||E.map(function(L){return L.slice(0,3)})).indexOf(f)+1;if(B<1)throw new Error;this.month=B%12||B}],MMMM:[l,function(f){var E=u("months").indexOf(f)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(f){this.year=r(f)}],YYYY:[/\d{4}/,d("year")],Z:o,ZZ:o};function g(f){var E,B;E=f,B=c&&c.formats;for(var L=(f=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(w,y,R){var Y=R&&R.toUpperCase();return y||B[R]||n[R]||B[Y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,C,S){return C||S.slice(1)})})).match(s),$=L.length,D=0;D<$;D+=1){var M=L[D],_=h[M],v=_&&_[0],I=_&&_[1];L[D]=I?{regex:v,parser:I}:M.replace(/^\[|\]$/g,"")}return function(w){for(var y={},R=0,Y=0;R<$;R+=1){var N=L[R];if(typeof N=="string")Y+=N.length;else{var C=N.regex,S=N.parser,x=w.slice(Y),b=C.exec(x)[0];S.call(y,b),w=w.replace(b,"")}}return function(O){var k=O.afternoon;if(k!==void 0){var P=O.hours;k?P<12&&(O.hours+=12):P===12&&(O.hours=0),delete O.afternoon}}(y),y}}return function(f,E,B){B.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(r=f.parseTwoDigitYear);var L=E.prototype,$=L.parse;L.parse=function(D){var M=D.date,_=D.utc,v=D.args;this.$u=_;var I=v[1];if(typeof I=="string"){var w=v[2]===!0,y=v[3]===!0,R=w||y,Y=v[2];y&&(Y=v[2]),c=this.$locale(),!w&&Y&&(c=B.Ls[Y]),this.$d=function(x,b,O){try{if(["x","X"].indexOf(b)>-1)return new Date((b==="X"?1e3:1)*x);var k=g(b)(x),P=k.year,z=k.month,q=k.day,W=k.hours,Z=k.minutes,J=k.seconds,oe=k.milliseconds,le=k.zone,X=new Date,K=q||(P||z?1:X.getDate()),ae=P||X.getFullYear(),me=0;P&&!z||(me=z>0?z-1:X.getMonth());var Te=W||0,st=Z||0,_t=J||0,Tt=oe||0;return le?new Date(Date.UTC(ae,me,K,Te,st,_t,Tt+60*le.offset*1e3)):O?new Date(Date.UTC(ae,me,K,Te,st,_t,Tt)):new Date(ae,me,K,Te,st,_t,Tt)}catch{return new Date("")}}(M,I,_),this.init(),Y&&Y!==!0&&(this.$L=this.locale(Y).$L),R&&M!=this.format(I)&&(this.$d=new Date("")),c={}}else if(I instanceof Array)for(var N=I.length,C=1;C<=N;C+=1){v[1]=I[C-1];var S=B.apply(this,v);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}C===N&&(this.$d=new Date(""))}else $.call(this,D)}}})})(Jd);const ws=zn;var qn={},Xd={get exports(){return qn},set exports(t){qn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){var n,s,a=1e3,i=6e4,l=36e5,c=864e5,r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,o=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:d,months:o,days:c,hours:l,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},h=function(M){return M instanceof D},g=function(M,_,v){return new D(M,v,_.$l)},f=function(M){return s.p(M)+"s"},E=function(M){return M<0},B=function(M){return E(M)?Math.ceil(M):Math.floor(M)},L=function(M){return Math.abs(M)},$=function(M,_){return M?E(M)?{negative:!0,format:""+L(M)+_}:{negative:!1,format:""+M+_}:{negative:!1,format:""}},D=function(){function M(v,I,w){var y=this;if(this.$d={},this.$l=w,v===void 0&&(this.$ms=0,this.parseFromMilliseconds()),I)return g(v*m[f(I)],this);if(typeof v=="number")return this.$ms=v,this.parseFromMilliseconds(),this;if(typeof v=="object")return Object.keys(v).forEach(function(N){y.$d[f(N)]=v[N]}),this.calMilliseconds(),this;if(typeof v=="string"){var R=v.match(u);if(R){var Y=R.slice(2).map(function(N){return N!=null?Number(N):0});return this.$d.years=Y[0],this.$d.months=Y[1],this.$d.weeks=Y[2],this.$d.days=Y[3],this.$d.hours=Y[4],this.$d.minutes=Y[5],this.$d.seconds=Y[6],this.calMilliseconds(),this}}return this}var _=M.prototype;return _.calMilliseconds=function(){var v=this;this.$ms=Object.keys(this.$d).reduce(function(I,w){return I+(v.$d[w]||0)*m[w]},0)},_.parseFromMilliseconds=function(){var v=this.$ms;this.$d.years=B(v/d),v%=d,this.$d.months=B(v/o),v%=o,this.$d.days=B(v/c),v%=c,this.$d.hours=B(v/l),v%=l,this.$d.minutes=B(v/i),v%=i,this.$d.seconds=B(v/a),v%=a,this.$d.milliseconds=v},_.toISOString=function(){var v=$(this.$d.years,"Y"),I=$(this.$d.months,"M"),w=+this.$d.days||0;this.$d.weeks&&(w+=7*this.$d.weeks);var y=$(w,"D"),R=$(this.$d.hours,"H"),Y=$(this.$d.minutes,"M"),N=this.$d.seconds||0;this.$d.milliseconds&&(N+=this.$d.milliseconds/1e3);var C=$(N,"S"),S=v.negative||I.negative||y.negative||R.negative||Y.negative||C.negative,x=R.format||Y.format||C.format?"T":"",b=(S?"-":"")+"P"+v.format+I.format+y.format+x+R.format+Y.format+C.format;return b==="P"||b==="-P"?"P0D":b},_.toJSON=function(){return this.toISOString()},_.format=function(v){var I=v||"YYYY-MM-DDTHH:mm:ss",w={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return I.replace(r,function(y,R){return R||String(w[y])})},_.as=function(v){return this.$ms/m[f(v)]},_.get=function(v){var I=this.$ms,w=f(v);return w==="milliseconds"?I%=1e3:I=w==="weeks"?B(I/m[w]):this.$d[w],I===0?0:I},_.add=function(v,I,w){var y;return y=I?v*m[f(I)]:h(v)?v.$ms:g(v,this).$ms,g(this.$ms+y*(w?-1:1),this)},_.subtract=function(v,I){return this.add(v,I,!0)},_.locale=function(v){var I=this.clone();return I.$l=v,I},_.clone=function(){return g(this.$ms,this)},_.humanize=function(v){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!v)},_.milliseconds=function(){return this.get("milliseconds")},_.asMilliseconds=function(){return this.as("milliseconds")},_.seconds=function(){return this.get("seconds")},_.asSeconds=function(){return this.as("seconds")},_.minutes=function(){return this.get("minutes")},_.asMinutes=function(){return this.as("minutes")},_.hours=function(){return this.get("hours")},_.asHours=function(){return this.as("hours")},_.days=function(){return this.get("days")},_.asDays=function(){return this.as("days")},_.weeks=function(){return this.get("weeks")},_.asWeeks=function(){return this.as("weeks")},_.months=function(){return this.get("months")},_.asMonths=function(){return this.as("months")},_.years=function(){return this.get("years")},_.asYears=function(){return this.as("years")},M}();return function(M,_,v){n=v,s=v().$utils(),v.duration=function(y,R){var Y=v.locale();return g(y,{$l:Y},R)},v.isDuration=h;var I=_.prototype.add,w=_.prototype.subtract;_.prototype.add=function(y,R){return h(y)&&(y=y.asMilliseconds()),I.bind(this)(y,R)},_.prototype.subtract=function(y,R){return h(y)&&(y=y.asMilliseconds()),w.bind(this)(y,R)}}})})(Xd);const Bi=qn;var Un={},Qd={get exports(){return Un},set exports(t){Un=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){var n="day";return function(s,a,i){var l=function(d){return d.add(4-d.isoWeekday(),n)},c=a.prototype;c.isoWeekYear=function(){return l(this).year()},c.isoWeek=function(d){if(!this.$utils().u(d))return this.add(7*(d-this.isoWeek()),n);var o,u,m,h,g=l(this),f=(o=this.isoWeekYear(),u=this.$u,m=(u?i.utc:i)().year(o).startOf("year"),h=4-m.isoWeekday(),m.isoWeekday()>4&&(h+=7),m.add(h,n));return g.diff(f,"week")+1},c.isoWeekday=function(d){return this.$utils().u(d)?this.day()||7:this.day(this.day()%7?d:d-7)};var r=c.startOf;c.startOf=function(d,o){var u=this.$utils(),m=!!u.u(o)||o;return u.p(d)==="isoweek"?m?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):r.bind(this)(d,o)}}})})(Qd);const Di=Un;var jn={},eu={get exports(){return jn},set exports(t){jn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){return function(n,s){s.prototype.weekday=function(a){var i=this.$locale().weekStart||0,l=this.$W,c=(l<i?l+7:l)-i;return this.$utils().u(a)?c:this.subtract(c,"day").add(a,"day")}}})})(eu);const tu=jn;var Zn={},nu={get exports(){return Zn},set exports(t){Zn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){return function(n,s){s.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(nu);const su=Zn;var Kn={},au={get exports(){return Kn},set exports(t){Kn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){return function(n,s){s.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(au);const iu=Kn;var Gn={},ru={get exports(){return Gn},set exports(t){Gn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,a,i){var l=a.prototype,c=l.format;i.en.formats=n,l.format=function(r){r===void 0&&(r="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,o=function(u,m){return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,g,f){var E=f&&f.toUpperCase();return g||m[f]||n[f]||m[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(B,L,$){return L||$.slice(1)})})}(r,d===void 0?{}:d);return c.call(this,o)}}})})(ru);const Cs=Gn;var Jn={},ou={get exports(){return Jn},set exports(t){Jn=t}};(function(t,e){(function(n,s){t.exports=s()})(_e,function(){return function(n,s,a){var i=function(l,c){if(!c||!c.length||!c[0]||c.length===1&&!c[0].length)return null;var r;c.length===1&&c[0].length>0&&(c=c[0]),r=c[0];for(var d=1;d<c.length;d+=1)c[d].isValid()&&!c[d][l](r)||(r=c[d]);return r};a.max=function(){var l=[].slice.call(arguments,0);return i("isAfter",l)},a.min=function(){var l=[].slice.call(arguments,0);return i("isBefore",l)}}})})(ou);const lu=Jn,cu={NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"},ga=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];/*!
 * feiertage.js
 * @repository https://github.com/sfakir/feiertagejs
 * @docs https://github.com/sfakir/feiertagejs/blob/master/docs.md
 *
 * Copyright 2015-2021 Simon Fakir
 * Released under the MIT license
 */const du="de";let Ea=du;const uu={de:cu};function mu(t,e){fu(e);const n=t.getFullYear(),s=Ss(t);return hu(n,e).indexOf(s)!==-1}function fu(t){if(t==null)throw new Error("Region must not be undefined or null");if(ga.indexOf(t)===-1)throw new Error(`Invalid region: ${t}! Must be one of ${ga.toString()}`)}function hu(t,e){return pu(t,e).map(s=>Ss(s.date))}function pu(t,e){const n=Nu(t),s=qe(new Date(n.getTime()),-2),a=qe(new Date(n.getTime()),1),i=qe(new Date(n.getTime()),39),l=qe(new Date(n.getTime()),49),c=qe(new Date(n.getTime()),50),r=[...gu(t),G("KARFREITAG",s),G("OSTERMONTAG",a),G("CHRISTIHIMMELFAHRT",i),G("PFINGSTMONTAG",c)];return bu(t,e,r),vu(t,e,n,l,r),yu(e,n,r),_u(t,e,r),Tu(t,e,r),wu(t,e,r),Cu(t,e,r),Su(t,e,r),Au(t,e,r),Eu(t,e,r),r.sort((d,o)=>d.date.getTime()-o.date.getTime())}function gu(t){return[G("NEUJAHRSTAG",ie(t,1,1)),G("TAG_DER_ARBEIT",ie(t,5,1)),G("DEUTSCHEEINHEIT",ie(t,10,3)),G("ERSTERWEIHNACHTSFEIERTAG",ie(t,12,25)),G("ZWEITERWEIHNACHTSFEIERTAG",ie(t,12,26))]}function Eu(t,e,n){e==="AUGSBURG"&&n.push(G("AUGSBURGER_FRIEDENSFEST",ie(t,8,8)))}function bu(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="ST"||e==="ALL")&&n.push(G("HEILIGEDREIKOENIGE",ie(t,1,6)))}function vu(t,e,n,s,a){(e==="BB"||e==="ALL")&&a.push(G("OSTERSONNTAG",n),G("PFINGSTSONNTAG",s))}function yu(t,e,n){if(t==="BW"||t==="BY"||t==="AUGSBURG"||t==="HE"||t==="NW"||t==="RP"||t==="SL"||t==="ALL"){const s=qe(new Date(e.getTime()),60);n.push(G("FRONLEICHNAM",s))}}function _u(t,e,n){(e==="SL"||e==="BY"||e==="AUGSBURG"||e==="ALL")&&n.push(G("MARIAHIMMELFAHRT",ie(t,8,15)))}function Tu(t,e,n){(t===2017||e==="NI"||e==="BB"||e==="HB"||e==="HH"||e==="MV"||e==="SN"||e==="ST"||e==="TH"||e==="SH"||e==="ALL")&&n.push(G("REFORMATIONSTAG",ie(t,10,31)))}function wu(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="NW"||e==="RP"||e==="SL"||e==="ALL")&&n.push(G("ALLERHEILIGEN",ie(t,11,1)))}function Cu(t,e,n){if(e==="SN"||e==="ALL"){const s=Bu(t);n.push(G("BUBETAG",ie(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate())))}}function Su(t,e,n){t>=2019&&(e==="TH"||e==="ALL")&&n.push(G("WELTKINDERTAG",ie(t,9,20)))}function Au(t,e,n){t<=2018||((e==="BE"||e==="ALL")&&n.push(G("WELTFRAUENTAG",ie(t,3,8))),e==="MV"&&t>=2023&&n.push(G("WELTFRAUENTAG",ie(t,3,8))))}function Nu(t){const e=Math.floor(t/100),n=t-19*Math.floor(t/19),s=Math.floor((e-17)/25);let a=e-Math.floor(e/4)-Math.floor((e-s)/3)+19*n+15;a-=30*Math.floor(a/30),a-=Math.floor(a/28)*(1-Math.floor(a/28)*Math.floor(29/(a+1))*Math.floor((21-n)/11));let i=t+Math.floor(t/4)+a+2-e+Math.floor(e/4);i-=7*Math.floor(i/7);const l=a-i,c=3+Math.floor((l+40)/44),r=l+28-31*Math.floor(c/4);return new Date(t,c-1,r)}function Bu(t){const e=new Date(t,11,25,12,0,0),n=32;let s=e.getDay()%7;s===0&&(s=7);const a=s+n;let i=new Date(e.getTime());return i=qe(i,-a),i}function qe(t,e){const n=new Date(t);return n.setDate(t.getDate()+e),n}function ie(t,e,n){return new Date(t,e-1,n)}function G(t,e){return{name:t,date:e,dateString:ba(e),trans(n=Ea){return console.warn('FeiertageJs: You are using "Holiday.trans() method. This will be replaced in the next major version with translate()"'),this.translate(n)},translate(n=Ea){return n==null?void 0:uu[n][this.name]},getNormalizedDate(){return Ss(this.date)},equals(n){const s=ba(n);return this.dateString===s}}}function ba(t){const e=new Date(t.getTime()-t.getTimezoneOffset()*60*1e3);return e.setUTCHours(0,0,0,0),e.toISOString().slice(0,10)}function Ss(t){const e=new Date(t);return e.setHours(0,0,0,0),e.getTime()}class Du{constructor(e,n,s){if(!n.name)throw Error("Name fehlt");if(!n.title&&!n.editing)throw Error("Title fehlt");this.index=s,this.name=n.name,this.title=n.title,this.breakpoints=n.breakpoints,this.sortable=n.sortable,this.sorted=n.sorted,this.direction=n.direction,this.type=n.type,this.parser=n.parser,this.classes=n.classes,this.visible=n.visible,n.editing&&(this.editing=n.editing),this.CustomTable=e}}class Mu{constructor(e,n){this.array=n.map((s,a)=>new Du(e,s,a)),this.CustomTable=e}}class Q{constructor(e,n){this.CustomTable=e,this.columns=e.columns,this.cells=n}deleteRow(){this.CustomTable.rows.array=this.CustomTable.rows.array.filter(e=>e!==this),this.CustomTable.drawRows()}val(e){this.cells=e,this.CustomTable.drawRows()}}class Lu{constructor(e,n){_n(this,"array",[]);this.array=n.map(s=>new Q(e,s)),this.CustomTable=e}add(e){this.array.push(new Q(this.CustomTable,e)),this.CustomTable.drawRows()}load(e,n=!1){n||(this.array.length=0),e.forEach(s=>this.array.push(new Q(this.CustomTable,s))),this.CustomTable.drawRows()}}var sn,Mi,$t,Xn,an,Li;class Yt{constructor(e,n){Ht(this,sn);Ht(this,$t);Ht(this,an);_n(this,"rows",{});if(typeof e=="string")this.table=e,this.$el=document.querySelector(`#${e}`);else if(e instanceof HTMLTableElement)this.table=e.id,this.$el=e;else throw Error("Tabellen Fehler");this.$el.instance=this,this.state={},this.o={breakpoints:{xs:480,sm:576,md:768,lg:992,xl:1200,xxl:1400}},this.options=c(n);let s=this,a=s.$el.tHead,i=s.$el.tBodies,l=s.$el.tFoot;if(s.$el.classList.add("customtable",...s.options.classes),(!a||a.length===0)&&s.$el.createTHead(),(!i||i.length===0)&&s.$el.createTBody(),(!l||l.length===0)&&s.$el.createTFoot(),s.state=d(),s.state.editing){const o={enabled:s.options.editing.enabled,name:"editing",title:"",type:"editing",breakpoints:"",sortable:!1,editing:s.options.editing,classes:["customtable-editing"],visible:!0},u=this.maxBreakpoint(s.options.columns),m=u>0?Object.entries(this.o.breakpoints).find(h=>h[1]===u)[0]:"";o.classes.push(`customtable-toggle-${m}`),s.options.columns.unshift(o)}return s.columns=new Mu(s,s.options.columns),s.rows=new Lu(s,s.options.rows),s.draw(),s.$el.tFoot.length===0&&s.$el.tHead.deleteTFoot(),s.$el.tHead.length===0&&s.$el.tHead.deleteTHead(),console.log(this),this;function c(o){var u,m,h,g,f,E,B,L,$,D,M,_;if(!o.columns)throw Error("Spalten fehlen");return{columns:o.columns.map(v=>{if(!v.name)throw Error("Spalten Name fehlt");return{name:v.name,title:v.title??"",breakpoints:v.breakpoints??null,sortable:v.sortable??!1,sorted:v.sorted??!1,direction:v.direction??null,type:v.type??"text",parser:v.parser??r,classes:v.classes??[],visible:v.visible??!0}}),rows:o.rows??[],empty:o.empty??"Keine Daten gefunden",sorting:{enabled:((u=o.sorting)==null?void 0:u.enabled)??!1},editing:{enabled:((m=o.editing)==null?void 0:m.enabled)??!1,addText:((h=o.editing)==null?void 0:h.addText)??"Neue Zeile",editText:((g=o.editing)==null?void 0:g.editText)??'<span class="material-icons-round small-icons" aria-hidden="true">edit</span>',deleteText:((f=o.editing)==null?void 0:f.deleteText)??'<span class="material-icons-round small-icons" aria-hidden="true">delete</span>',deleteAllText:((E=o.editing)==null?void 0:E.deleteAllText)??"Alle Zeilen löschen",addRow:((B=o.editing)==null?void 0:B.addRow)??function(){},editRow:((L=o.editing)==null?void 0:L.editRow)??function(){},showRow:(($=o.editing)==null?void 0:$.showRow)??function(){},deleteRow:((D=o.editing)==null?void 0:D.deleteRow)??function(){},deleteAllRows:((M=o.editing)==null?void 0:M.deleteAllRows)??wt(s,sn,Mi),customButton:((_=o.editing)==null?void 0:_.customButton)??null},classes:o.classes??[],customFunction:o.customFunction??null}}function r(o){switch(this.type){case"text":return o;case"number":return o+"";case"time":return o.length>0?o:"--:--";default:return o}}function d(){var o,u;return{sorting:((o=s.options.sorting)==null?void 0:o.enabled)??null,editing:((u=s.options.editing)==null?void 0:u.enabled)??null}}}getRows(){return this.rows.array}getArray(){return this.rows.array.map(e=>Object.values(e.cells))}draw(){var e,n;(e=this.options.customFunction)!=null&&e.beforeDraw&&this.options.customFunction.beforeDraw(this),this.drawHeader(),this.drawFooter(),this.drawRows(),(n=this.options.customFunction)!=null&&n.afterDraw&&this.options.customFunction.afterDraw(this)}drawFooter(){var a,i,l;(a=this.options.customFunction)!=null&&a.beforeDrawFooter&&this.options.customFunction.beforeDrawFooter(this);let e=this;const n=e.$el.tFoot;if(n.innerHTML="",e.state.editing){let c=document.createElement("tr");c.classList.add("customtable-editing");let r=document.createElement("td");r.colSpan=e.columns.array.length+1;let d=document.createElement("div");d.classList.add("justify-content-sm-evenly");let o=s(["btn","btn-primary"],e.options.editing.addText,e.options.editing.addRow),u=s(["btn","btn-danger"],e.options.editing.deleteAllText,e.options.editing.deleteAllRows);d.appendChild(o),((i=e.options.editing.customButton)==null?void 0:i.length)>0&&e.options.editing.customButton.forEach(m=>{let h=s(m.classes,m.text,m.function);d.appendChild(h)}),d.appendChild(u),r.appendChild(d),c.appendChild(r),n.appendChild(c)}(l=this.options.customFunction)!=null&&l.afterDrawFooter&&this.options.customFunction.afterDrawFooter(this);function s(c=["btn","btn-primary"],r="Button",d=()=>{}){let o=document.createElement("button");return o.classList.add(...c),o.innerText=r,o.title=r,o.addEventListener("click",u=>{u.stopPropagation(),u.preventDefault(),d()}),o}}drawRows(){var l,c,r;(l=this.options.customFunction)!=null&&l.beforeDrawRows&&this.options.customFunction.beforeDrawRows(this);let e=this;const n=e.$el.tHead,s=e.$el.tBodies[0],a=e.$el.tFoot;s.innerHTML="";const i=e.columns.array.find(d=>d.sorted);if(i&&wt(c=e,$t,Xn).call(c,i.index,i.direction),e.rows.array.length>0){for(const d of e.rows.array){let o=document.createElement("tr");d.columns.array.forEach(u=>{if(!u.visible)return;let m=document.createElement("td");if(u.editing){let h=document.createElement("div");h.classList.add("btn-group","btn-group-sm"),h.setAttribute("role","group");const g=(B,L,$,D="button")=>{const M=document.createElement("button");return M.classList.add(...B),M.innerHTML=L,M.title=D,M.addEventListener("click",_=>{_.stopPropagation(),_.preventDefault(),$(d)}),M},f=g(["btn","btn-outline-primary"],u.editing.editText,e.options.editing.editRow,"edit"),E=g(["btn","btn-outline-danger"],u.editing.deleteText,e.options.editing.deleteRow,"delete");h.append(f),h.append(E),m.appendChild(h)}else m.innerHTML=u.parser(d.cells[u.name]);u.breakpoints&&(m.dataset.breakpoints=u.breakpoints),u.classes.length>0&&m.classList.add(...u.classes),o.append(m)}),o.addEventListener("click",u=>{u.view.innerWidth>e.maxBreakpoint()||(u.stopPropagation(),e.options.editing.showRow(d))}),o.data=d,d.$el=o,s.appendChild(o)}n.style.display="",a.querySelector(".btn-danger").style.display=""}else{let d=document.createElement("tr");d.classList.add("customtable-empty");let o=document.createElement("td");o.colSpan=e.columns.array.length+1,o.innerText=e.options.empty,d.appendChild(o),s.appendChild(d),n.style.display="none",a.querySelector(".btn-danger").style.display="none"}(r=this.options.customFunction)!=null&&r.afterDrawRows&&this.options.customFunction.afterDrawRows(this)}drawHeader(){var l,c;(l=this.options.customFunction)!=null&&l.beforeDrawHeader&&this.options.customFunction.beforeDrawHeader(this);let e=this;const n=e.$el.tHead;n.innerHTML="";let s=document.createElement("tr");s.classList.add("customtable-header","table-primary"),e.columns.array.forEach(r=>{if(!r.visible)return;let d=document.createElement("th");r.classes.length>0&&d.classList.add(r.classes),d.innerHTML=r.title,r.breakpoints&&(d.dataset.breakpoints=r.breakpoints),e.state.sorting&&r.sortable&&a(d,r),r.$el=d,s.appendChild(d)}),n.appendChild(s),(c=this.options.customFunction)!=null&&c.afterDrawHeader&&this.options.customFunction.afterDrawHeader(this);function a(r,d){r.classList.add("customtable-sortable");let o=document.createElement("span");o.classList.add("customtableIcon"),i(d,r,o),r.append(o),r.addEventListener("click",u=>{var h;const m=u.target.closest("th");wt(h=e,an,Li).call(h,m)})}function i(r,d,o){var m;if(!r.sorted)return o.classList.add("customtable-sort");let u=r.direction.toLowerCase();wt(m=e,$t,Xn).call(m,r.index,u.toUpperCase()),d.classList.add(`customtable-${u}`),o.classList.add(u=="asc"?"customtable-sort-asc":"customtable-sort-desc")}}breakpoints(e){return e||(e=this.columns.array),Array.from(new Set([].concat(...e.filter(n=>n.breakpoints).map(n=>n.breakpoints.split(" ")))))}maxBreakpoint(e){return Math.max(...this.breakpoints(e).map(n=>this.o.breakpoints[n]))}}sn=new WeakSet,Mi=function(){this.rows.array.length=0,this.draw()},$t=new WeakSet,Xn=function(e,n){const s={ASC:[1,-1],DESC:[-1,1],default:[1,-1]};let a=this.rows.array,i=(l,c)=>{let r=l.cells[l.columns.array[e].name],d=c.cells[c.columns.array[e].name];return typeof r=="string"&&(r=r.toLowerCase()),typeof d=="string"&&(d=d.toLowerCase()),d.localeCompare(r,void 0,{numeric:!0})*(s[n]||s.default)[1]};a.sort(i)},an=new WeakSet,Li=function(e){const n=this.columns.array.find(a=>a.$el==e),s=n.direction==="ASC"?"DESC":"ASC";this.columns.array.forEach(a=>{a.sorted=!1,a.direction=null}),n.direction=s,n.sorted=!0,this.draw()};function Mt(t,e){return new Yt(t,e)}class $u{constructor(e){const n=this;let s,a,i,l,c,r;function d(){o(),u(),m(),a=h(),i.appendChild(a),r.timeout!==!1&&r.timeout>0&&(s=setTimeout(n.Close,r.timeout))}function o(){r={message:(e==null?void 0:e.message)??"Operation performed successfully.",dismissible:(e==null?void 0:e.dismissible)??!0,timeout:(e==null?void 0:e.timeout)??5e3,status:e!=null&&e.status?e.status.toLowerCase().trim():"",actions:(e==null?void 0:e.actions)??[],fixed:(e==null?void 0:e.fixed)??!1,position:(e==null?void 0:e.position)??"br",container:(e==null?void 0:e.container)??document.body,width:e==null?void 0:e.width,speed:e==null?void 0:e.speed,icon:e==null?void 0:e.icon}}function u(){let f=L();f===void 0&&(console.warn("SnackBar: Could not find target container "+r.container),f=document.body),i=E(f);function E($){let D,M=g();for(let _=0;_<$.children.length;_++)if(D=$.children.item(_),D.nodeType===1&&D.classList.length>0&&D.classList.contains("js-snackbar-container")&&D.classList.contains(M))return D;return B($)}function B($){let D=document.createElement("div");return D.classList.add("js-snackbar-container"),r.fixed&&D.classList.add("js-snackbar-container--fixed"),$.appendChild(D),D}function L(){return typeof r.container=="string"?document.querySelector(r.container):r.container}}function m(){i.classList.add(g());let f="js-snackbar-container--fixed";r.fixed?i.classList.add(f):i.classList.remove(f)}function h(){const f=B(),E=L();return f.appendChild(E),f;function B(){let w=document.createElement("div");return w.classList.add("js-snackbar__wrapper"),w.style.height="0px",w.style.opacity="0",w.style.marginTop="0px",w.style.marginBottom="0px",v(w),I(w),w}function L(){const w=document.createElement("div");return w.classList.add("js-snackbar","js-snackbar--show"),$(w),D(w),M(w),_(w),w}function $(w){if(!r.status)return;const y=document.createElement("span");y.classList.add("js-snackbar__status"),R(y),Y(y),w.appendChild(y);function R(N){switch(r.status){case"success":case"green":N.classList.add("js-snackbar--success");break;case"warning":case"alert":case"orange":N.classList.add("js-snackbar--warning");break;case"danger":case"error":case"red":N.classList.add("js-snackbar--danger");break;default:N.classList.add("js-snackbar--info");break}}function Y(N){if(!r.icon)return;const C=document.createElement("span");switch(C.classList.add("js-snackbar__icon"),r.icon){case"exclamation":case"warn":case"danger":C.innerText="!";break;case"info":case"question":case"question-mark":C.innerText="?";break;case"plus":case"add":C.innerText="+";break;default:r.icon.length>1&&console.warn("Invalid icon character provided: ",r.icon),C.innerText=r.icon.substr(0,1);break}N.appendChild(C)}}function D(w){c=document.createElement("div"),c.classList.add("js-snackbar__message-wrapper"),l=document.createElement("span"),l.classList.add("js-snackbar__message"),l.innerHTML=r.message,c.appendChild(l),w.appendChild(c)}function M(w){if(typeof r.actions!="object")return;r.actions.forEach(R=>{y(w,R)});function y(R,Y){const N=document.createElement("span");N.classList.add("js-snackbar__action",...Y.class??[]),N.textContent=Y.text,typeof Y.function=="function"?Y.dismiss===!0?N.onclick=function(){Y.function(),n.Close()}:N.onclick=Y.function:N.onclick=n.Close,R.appendChild(N)}}function _(w){if(!r.dismissible)return;const y=document.createElement("span");y.classList.add("js-snackbar__close"),y.innerText="×",y.onclick=n.Close,w.appendChild(y)}function v(w){r.width&&(w.style.width=r.width)}function I(w){const{speed:y}=r;switch(typeof y){case"number":w.style.transitionDuration=y+"ms";break;case"string":w.style.transitionDuration=y;break}}}function g(){switch(r.position){case"bl":return"js-snackbar-container--bottom-left";case"tl":return"js-snackbar-container--top-left";case"tr":return"js-snackbar-container--top-right";case"tc":case"tm":return"js-snackbar-container--top-center";case"bc":case"bm":return"js-snackbar-container--bottom-center";default:return"js-snackbar-container--bottom-right"}}this.Open=()=>{const f=B();a.style.height=f+"px",a.style.opacity=1,a.style.marginTop="5px",a.style.marginBottom="5px";const E=()=>{a.removeEventListener("transitioned",E),a.style.height=null};return a.addEventListener("transitioned",E),this;function B(){const L=window.getComputedStyle(c);return l.scrollHeight+parseFloat(L.getPropertyValue("padding-top"))+parseFloat(L.getPropertyValue("padding-bottom"))}},this.Close=()=>{s&&clearInterval(s);const f=a.scrollHeight,E=a.style.transition;a.style.transition="",requestAnimationFrame(()=>{a.style.height=f+"px",a.style.opacity=1,a.style.marginTop="0px",a.style.marginBottom="0px",a.style.transition=E,requestAnimationFrame(()=>{a.style.height="0px",a.style.opacity=0})}),setTimeout(function(){i.removeChild(a)},1e3)},d(),n.Open()}}const U=t=>new $u(t);A.locale("de");A.extend(pn);A.extend(ws);A.extend(Cs);A.extend(Di);A.extend(tu);A.extend(Bi);A.extend(iu);A.extend(su);A.extend(lu);window.addEventListener("load",()=>{const t=a=>A(a).format("DD.MM.YYYY, LT"),e=a=>a||"",n=Mt("tableBZ",{columns:[{name:"beginB",title:"Von",parser:t,sortable:!0,sorted:!0,direction:"ASC"},{name:"endeB",title:"Bis",parser:t,sortable:!0},{name:"pauseB",title:"Pause",parser:e,breakpoints:"xs"}],rows:ke(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const a=va(n,"Zeitraum hinzufügen");a.row=n,new j(a).show()},editRow:a=>{const i=va(a,"Zeitraum bearbeiten");i.row=a,new j(i).show()},showRow:a=>{const i=_a(a,"Zeitraum anzeigen");i.row=a,new j(i).show()},deleteRow:a=>{a.deleteRow(),F("tableBZ",n)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?")&&(n.rows.load([]),re(!1),p.set("dataBZ",[]))}}}),s=Mt("tableBE",{columns:[{name:"tagBE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"auftragsnummerBE",title:"Auftrags-Nr.",classes:["custom-text-truncate"]},{name:"beginBE",title:"Von",breakpoints:"sm",type:"time"},{name:"endeBE",title:"Bis",breakpoints:"sm",type:"time"},{name:"lreBE",title:"LRE",breakpoints:""},{name:"privatkmBE",title:"Privat Km",parser:e,breakpoints:"md"}],rows:pt(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const a=ya(s,"Einsatz hinzufügen");a.row=s,new j(a).show()},editRow:a=>{const i=ya(a,"Einsatz bearbeiten");i.row=a,new j(i).show()},showRow:a=>{const i=_a(a,"Einsatz anzeigen");i.row=a,new j(i).show()},deleteRow:a=>{a.deleteRow(),F("tableBE",s)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?")&&(s.rows.load([]),re(!1),p.set("dataBE",[]))}}});document.querySelector("#btnESZ").addEventListener("click",ku),document.querySelector("#btnESE").addEventListener("click",Iu),document.getElementById("btnSaveB").addEventListener("click",()=>{gn(document.getElementById("btnSaveB"))}),document.getElementById("btnDownloadB").addEventListener("click",()=>{As(document.getElementById("btnDownloadB"),"B")})});function ku(){const{modal:t,form:e}=ue("Neue Bereitschaft eingeben",!0,null,n,xe(),s);new j(t).show();function n(){const a=document.createElement("div");a.className="modal-body row";const i=p.get("VorgabenU",{0:{Name:"B1 + Nacht",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:10,zeit:"07:00"},nacht:!0,beginnN:{tag:7,zeit:"19:30"},endeN:{tag:10,zeit:"06:15"}},1:{Name:"B1 + Nacht (ab Sa)",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:10,zeit:"07:00"},nacht:!0,beginnN:{tag:6,zeit:"19:45"},endeN:{tag:10,zeit:"06:15"}},2:{Name:"B1",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:10,zeit:"07:00"},nacht:!1,beginnN:{tag:7,zeit:"19:30"},endeN:{tag:10,zeit:"06:15"}},3:{Name:"B2",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:6,zeit:"19:45"},nacht:!1,beginnN:{tag:6,zeit:"19:45"},endeN:{tag:10,zeit:"06:15"}}}),l=+p.get("Monat"),c=+p.get("Jahr"),r=i.vorgabenB?i.vorgabenB:i;a.appendChild(pe({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Auswahl Bereitschaft",name:"vorgabeB",value:A([c,l-1,1]).isSameOrAfter(A("2023-04-01"))?"2":"0",options:Object.entries(r).map(h=>({value:h[0],text:h[1].Name})),eventListener:()=>$i(r[a.querySelector("#vorgabeB").value])}));let d=a.querySelector("#vorgabeB").value,o=A([c,l-1,A().date()]).isoWeekday(r[d].beginnB.tag);o.isSameOrBefore(A([c,l-1]).startOf("M"))?o=o.add(1,"w"):o.isSameOrAfter(A([c,l-1]).endOf("M"))&&(o=o.subtract(1,"w")),a.appendChild(document.createElement("hr")),a.appendChild(be("Bereitschafts Anfang")),a.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bA",value:o.format("YYYY-MM-DD"),type:"Date",required:!0,min:o.startOf("M").format("YYYY-MM-DD"),max:o.endOf("M").format("YYYY-MM-DD"),eventListener:()=>xu(r[a.querySelector("#vorgabeB").value],A(a.querySelector("#bA").value))})),a.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"bAT",value:r[d].beginnB.zeit,type:"time",required:!0,disabled:!0})),a.appendChild(be("Bereitschafts Ende")),a.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bE",value:o.isoWeekday(r[d].endeB.tag).format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:o.startOf("M").format("YYYY-MM-DD"),max:o.add(1,"M").endOf("M").format("YYYY-MM-DD")})),a.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"bET",value:r[d].endeB.zeit,type:"time",required:!0,disabled:!0})),a.appendChild(document.createElement("hr")),a.appendChild(et({checkClass:"form-check form-switch bereitschaft",id:"nacht",text:"Nachtschicht",status:r[d].nacht,eventListener:ki}));const u=document.createElement("div");u.id="nachtschicht",u.className="row m-0 p-0",r[d].nacht||(u.style="display: none;"),a.appendChild(u),u.appendChild(be("Nacht Anfang")),u.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nA",value:o.isoWeekday(r[d].beginnN.tag).format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:o.startOf("M").format("YYYY-MM-DD"),max:o.add(1,"M").endOf("M").format("YYYY-MM-DD")})),u.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"nAT",value:r[d].beginnN.zeit,type:"time",required:!0,disabled:!0})),u.appendChild(be("Nacht Ende")),u.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nE",value:o.isoWeekday(r[d].endeN.tag).format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:o.startOf("M").format("YYYY-MM-DD"),max:o.add(1,"M").endOf("M").format("YYYY-MM-DD")})),u.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"nET",value:r[d].endeN.zeit,type:"time",required:!0,disabled:!0}));const m=document.createElement("hr");return m.classList.add("mt-3"),a.appendChild(m),a.appendChild(et({checkClass:"form-check form-switch bereitschaft",id:"eigen",text:"Eingabe Eigene Werte?",status:!1,eventListener:()=>Ou(r[a.querySelector("#vorgabeB").value],A(a.querySelector("#bA").value))})),a}function s(){return a=>{e.checkValidity&&!e.checkValidity()||(a.preventDefault(),Yu(p.get("accessToken")),j.getInstance(t).hide(),F("tableBZ",document.querySelector("#tableBZ").CustomTable))}}}function va(t,e){const{modal:n,form:s}=ue(e,!0,"sm",a,xe(null,t instanceof Q?"Speichern":null),i);return n;function a(){const l=document.createElement("div");if(l.className="modal-body row",t instanceof Q)t.columns.array.forEach(c=>{let r,d,o;switch(c.name){case"editing":break;case"beginB":case"endeB":r=A(t.cells[c.name]),d=r.startOf("M").format("YYYY-MM-DDTHH:mm"),o=r.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),l.appendChild(V({divClass:"form-floating col-12 pb-3",title:c.title,name:c.name,value:A(t.cells[c.name]).format("YYYY-MM-DDTHH:mm"),type:"datetime-local",required:!0,min:d,max:o}));break;default:l.appendChild(V({divClass:"form-floating col-12",title:c.title,name:c.name,value:c.parser(t.cells[c.name]),type:"number",min:0,max:60}));break}});else if(t instanceof Yt){const c=+p.get("Monat"),r=+p.get("Jahr");t.columns.array.forEach(d=>{let o,u,m;switch(d.name){case"editing":break;case"beginB":case"endeB":o=A([r,c-1,A().date()]),u=o.startOf("M").format("YYYY-MM-DDTHH:mm"),m=o.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),l.appendChild(V({divClass:"form-floating col-12 pb-3",title:d.title,name:d.name,value:null,type:"datetime-local",required:!0,min:u,max:m}));break;default:l.appendChild(V({divClass:"form-floating col-12",title:d.title,name:d.name,value:"",type:"number",min:0,max:60}));break}})}return l}function i(){return l=>{if(s.checkValidity&&!s.checkValidity())return;l.preventDefault();const c=n.row,r={beginB:A(s.querySelector("#beginB").value).toISOString(),endeB:A(s.querySelector("#endeB").value).toISOString(),pauseB:Number(s.querySelector("#pauseB").value)};c instanceof Q?c.val(r):c.rows.add(r),j.getInstance(n).hide(),F("tableBZ",c.CustomTable||c)}}}function Iu(){const{modal:t,form:e}=ue("Neuen Bereitschaftseinsatz eingeben",!0,null,n,xe(),s);new j(t).show();function n(){const a=document.createElement("div");a.className="modal-body row";const i=A([+p.get("Jahr"),+p.get("Monat")-1,A().date()]);a.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Datum",name:"Datum",value:i.format("YYYY-MM-DD"),type:"date",required:!0,min:i.startOf("M").format("YYYY-MM-DD"),max:i.endOf("M").format("YYYY-MM-DD")})),a.appendChild(V({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:"SAPNR",value:"",type:"text",required:!0})),a.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Von",name:"ZeitVon",value:null,type:"time",required:!0})),a.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Bis",name:"ZeitBis",value:null,type:"time",required:!0})),a.appendChild(pe({divClass:"form-floating col-12 col-sm-6 pb-3",title:"LRE",name:"LRE",value:null,options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),a.appendChild(Oi()),a.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Privat Km",name:"privatkm",value:"",type:"number",min:0}));const l=document.createElement("div");return l.className="col-12",l.appendChild(et({checkClass:"form-check form-switch bereitschaft",id:"berZeit",text:"zusätzliche Bereitschaftszeit Eingeben?<br><small>(z.B. LRE3 Außerhalb der Bereitschaft.)</small>",status:!1})),a.appendChild(l),a}function s(){return a=>{e.checkValidity&&!e.checkValidity()||(a.preventDefault(),Ru(),j.getInstance(t).hide(),F("tableBE",document.querySelector("#tableBE").CustomTable))}}}function ya(t,e){const{modal:n,form:s}=ue(e,!0,null,a,xe(null,t instanceof Q?"Speichern":null),i);return n;function a(){const l=document.createElement("div");l.className="modal-body row";let c;if(t instanceof Q)c=A(t.cells.tagBE,"DD.MM.YYYY");else if(t instanceof Yt){const r=+p.get("Monat"),d=+p.get("Jahr");c=A([d,r-1,A().date()])}else throw Error("unbekannter Fehler");return t.columns.array.forEach(r=>{switch(r.name){case"tagBE":l.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:r.title,name:r.name,value:c.format("YYYY-MM-DD"),type:"date",required:!0,min:c.startOf("M").format("YYYY-MM-DD"),max:c.endOf("M").format("YYYY-MM-DD")}));break;case"auftragsnummerBE":l.appendChild(V({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:r.name,value:t.cells&&t.cells[r.name]||"",type:"text",required:!0}));break;case"beginBE":case"endeBE":l.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:r.title,name:r.name,value:t.cells&&t.cells[r.name]||"",type:"time",required:!0}));break;case"lreBE":l.appendChild(pe({divClass:"form-floating col-12 col-sm-6 pb-3",title:r.title,name:r.name,value:t.cells&&t.cells[r.name]||"",options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),l.appendChild(Oi());break;case"privatkmBE":l.appendChild(V({divClass:"form-floating col-12 col-sm-6",title:r.title,name:r.name,value:t.cells&&t.cells[r.name]||"",type:"number",min:0}));break}}),l}function i(){return l=>{if(s.checkValidity&&!s.checkValidity())return;l.preventDefault();const c=n.row,r={tagBE:A(s.querySelector("#tagBE").value).format("DD.MM.YYYY"),auftragsnummerBE:s.querySelector("#auftragsnummerBE").value,beginBE:s.querySelector("#beginBE").value,endeBE:s.querySelector("#endeBE").value,lreBE:s.querySelector("#lreBE").value,privatkmBE:Number(s.querySelector("#privatkmBE").value)??0};c instanceof Q?c.val(r):c.rows.add(r),j.getInstance(n).hide(),F("tableBE",c.CustomTable||c)}}}function _a(t,e){const{modal:n}=ue(e,!1,"sm",s,En);return n;function s(){const a=document.createElement("div");return a.className="modal-body",t.columns.array.forEach(i=>{i.editing||a.appendChild(Ke({divClass:"",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])}))}),a}}function ke(t){if(t==null){if(!p.check("dataBZ"))return[];t=p.get("dataBZ")}if(t.length===0||bn(t[0]))return t;const e=[];return t.forEach((n,s)=>{e[s]={beginB:n[0],endeB:n[1],pauseB:n[2]===""?0:Number(n[2])}}),e}function pt(t){if(t==null){if(!p.check("dataBE"))return[];t=p.get("dataBE")}if(t.length===0||bn(t[0]))return t;const e=[];return t.forEach((n,s)=>{e[s]={tagBE:n[0],auftragsnummerBE:n[1],beginBE:n[2],endeBE:n[3],lreBE:n[4],privatkmBE:n[5]===""?0:Number(n[5])}}),e}function $i(t,e=A(document.getElementById("bA").value)){document.getElementById("bA").value=e.isoWeekday(t.beginnB.tag).format("YYYY-MM-DD"),document.getElementById("bAT").value=t.beginnB.zeit,document.getElementById("bE").value=e.isoWeekday(t.endeB.tag).format("YYYY-MM-DD"),document.getElementById("bET").value=t.endeB.zeit,document.getElementById("nacht").checked=t.nacht,document.getElementById("nA").value=e.isoWeekday(t.beginnN.tag).format("YYYY-MM-DD"),document.getElementById("nAT").value=t.beginnN.zeit,document.getElementById("nE").value=e.isoWeekday(t.endeN.tag).format("YYYY-MM-DD"),document.getElementById("nET").value=t.endeN.zeit,ki()}function ki(){document.getElementById("nacht").checked?document.getElementById("nachtschicht").style.display="flex":document.getElementById("nachtschicht").style.display="none"}function xu(t,e){document.getElementById("bE").value=e.isoWeekday(t.endeB.tag).format("YYYY-MM-DD"),document.getElementById("bET").value=t.endeB.zeit,document.getElementById("nA").value=e.isoWeekday(t.beginnN.tag).format("YYYY-MM-DD"),document.getElementById("nAT").value=t.beginnN.zeit,document.getElementById("nE").value=e.isoWeekday(t.endeN.tag).format("YYYY-MM-DD"),document.getElementById("nET").value=t.endeN.zeit}function Ou(t,e){document.getElementById("eigen").checked?(document.getElementById("bAT").disabled=!1,document.getElementById("bE").disabled=!1,document.getElementById("bET").disabled=!1,document.getElementById("nA").disabled=!1,document.getElementById("nAT").disabled=!1,document.getElementById("nE").disabled=!1,document.getElementById("nET").disabled=!1):(document.getElementById("bAT").disabled=!0,document.getElementById("bE").disabled=!0,document.getElementById("bET").disabled=!0,document.getElementById("nA").disabled=!0,document.getElementById("nAT").disabled=!0,document.getElementById("nE").disabled=!0,document.getElementById("nET").disabled=!0,$i(t,e))}function Ru(){Fe("btnESE");const t={tagBE:A(document.getElementById("Datum").value).format("DD.MM.YYYY"),auftragsnummerBE:document.getElementById("SAPNR").value,beginBE:document.getElementById("ZeitVon").value,endeBE:document.getElementById("ZeitBis").value,lreBE:document.querySelector("#LRE").value,privatkmBE:Number(document.getElementById("privatkm").value)},e=document.getElementById("berZeit").checked;console.log(t);const n=document.getElementById("tableBE").instance;if(n.rows.add(t),F("tableBE",n),document.getElementById("SAPNR").value="",document.getElementById("ZeitVon").value="",document.getElementById("ZeitBis").value="",document.getElementById("privatkm").value="",document.getElementById("berZeit").checked=!1,document.getElementById("LRE").value="",e){t.tagBE=document.getElementById("Datum").value;const s=A(`${t.tagBE}T${t.beginBE}`),a=A(`${t.tagBE}T${t.endeBE}`).isBefore(s)?A(`${t.tagBE}T${t.endeBE}`).add(1,"d"):A(`${t.tagBE}T${t.endeBE}`),i=te("tableBZ"),l=At(s,a,a,a,!1,i);if(l==null){ee("btnESE"),U({message:"Bereitschaft<br/>Zeitraum bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}p.set("dataBZ",l),document.getElementById("tableBZ").instance.rows.load(ke(l)),U({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}ee("btnESE")}async function Yu(t){Fe("btnESZ");const e=A(`${document.getElementById("bA").value}T${document.getElementById("bAT").value}`),n=A(`${document.getElementById("bE").value}T${document.getElementById("bET").value}`),s=document.getElementById("nacht").checked;let a,i;s===!0?(a=A(`${document.getElementById("nA").value}T${document.getElementById("nAT").value}`),i=A(`${document.getElementById("nE").value}T${document.getElementById("nET").value}`)):(a=n,i=n);const l=+document.getElementById("Monat").value,c=+document.getElementById("Jahr").value;let r=[],d=te("tableBZ"),o=[];if(console.log({bereitschaftsAnfang:e,bereitschaftsEnde:n,nachtAnfang:a,nachtEnde:i,nacht:s,monat:l,jahr:c,accessToken:t}),e.isSame(n,"M"))r=At(e,n,a,i,s,d);else if(navigator.onLine){const u=n.month(),m=n.year(),h=A([m,u]);let g,f,E;if(h.isBefore(a))g=i.clone(),f=a.clone(),E=h.clone();else if(h.isAfter(i))g=i.clone(),E=h.clone(),f=n.clone(),i=n.clone();else if(h.isAfter(a)&&h.isBefore(i))g=A([m,u,1,i.hour(),i.minute()]),f=A([m,u,1,a.hour(),a.minute()]),E=g.clone();else throw Error("Fehler bei Nacht und Bereitschaft");d=At(e,h,a,g,s,d);try{const B=await Ae(`${u+1}&${m}`);if(B.statusCode!=200){console.log("Fehler");return}let L=B.data.datenB.datenBZ;console.log(L),o=At(E,n,f,i,s,L);const $={BZ:o,Monat:u+1,Jahr:m},D=await Ae("saveData",$,"POST");if(D.statusCode!=200){console.log("Fehler:",D.message),U({message:"Bereitschaft<br/>Es ist ein Fehler beim Monatswechsel aufgetreten",status:"error",timeout:3e3,position:"br",fixed:!0});return}console.log(D.data),U({message:`Bereitschaft<br/>Daten für Monat ${u+1} gespeichert`,status:"success",timeout:3e3,position:"br",fixed:!0})}catch(B){console.log(B);return}console.log("Daten Monat 1",d),console.log("Daten Monat 2",o),r=d}else{U({message:"Bereitschaft<br/>Offline: <br/>Kein Monatswechsel möglich!",status:"error",dismissible:!1,timeout:!1,position:"br",actions:[{text:"ohne wechsel fortsetzten?",function:()=>{if(r=At(e,A([n.year(),n.month()]),a,i,s,d),r==null){ee("btnESZ"),U({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}p.set("dataBZ",r),document.getElementById("tableBZ").instance.rows.load(ke(r)),ee("btnESZ"),U({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})},dismiss:!0,class:["text-primary"]},{text:"Abbrechen",function:()=>{ee("btnESZ")},dismiss:!0}],fixed:!0});return}if(r==null){ee("btnESZ"),U({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}p.set("dataBZ",r),document.getElementById("tableBZ").instance.rows.load(ke(r)),ee("btnESZ"),U({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}function At(t,e,n,s,a,i){console.groupCollapsed("Vorgaben"),console.log("nacht: "+a),console.log("Bereitschafts Anfang: "+t.toDate()),console.log("Bereitschafts Ende: "+e.toDate()),console.log("Nacht Anfang: "+n.toDate()),console.log("Nacht Ende: "+s.toDate()),console.groupEnd("Vorgaben");let l,c,r,d,o,u,m,h,g,f,E,B;const L=b=>{const O=A(b,"HH:mm");return{hours:O.hour(),minutes:O.minute()}},$=p.get("VorgabenU"),D=A.duration(L($.aZ.eT)),M=A.duration(L($.aZ.eTF)),_=A.duration(L($.aZ.bT)),v=10,I=30,w=45,y=A.duration({hours:8}),R=[_,_,_,_,_,y,y,_],Y=[D,D,D,D,M,y,y,D],N=[0,I,I,I,I,0,0,0],C=(b,O,k,P,z,q)=>{console.group("B2");let W;const Z=b.day();return console.log(`Wochentag Bereitschafts Anfang: ${Z} --- ${b.format("dd")}`),b.isSame(O,"d")||(z===!0?W=b.add(1,"d").startOf("d").add(k[Z]):W=b.add(1,"d").startOf("d").add(y),console.log(`Merker B2.1: ${W.toDate()}`)),b.isSame(O,"d")|q===!1&&(P===!0?W=b.startOf("d").add(k[Z===0?6:Z-1]):W=b.startOf("d").add(y),console.log(`Merker B2.2: ${W.toDate()}`)),W.isSameOrBefore(b)&&(z===!0?W=b.add(1,"d").startOf("d").add(k[Z]):W=b.add(1,"d").startOf("d").add(y),console.log(`Merker B2.3: ${W.toDate()}`)),console.groupEnd("B2"),W},S=(b,O=0)=>(b=b.add(O,"d"),!(mu(b.toDate(),"HE")|b.isoWeekday()>5));m=S(t),console.log(`Arbeitstag Heute: ${m} --- ${t.format("dd")}`),h=S(t,1),console.log(`Arbeitstag Morgen: ${h} --- ${t.add(1,"d").format("dd")}`),d=t.clone();const x=i.length;for(;i.length<26&&t.isBefore(e);){console.groupCollapsed("Bereitschafts Ende"),o=C(t,n,R,m,h,a),console.log(`Bereitschafts Ende A: ${o.toDate()}`),u=t.add(1,"d").hour(8).minute(0),console.log(`Bereitschafts Ende B: ${u.toDate()}`),console.groupEnd("Bereitschafts Ende"),d=A.min(o,u,n,e),console.log(`Bereitschafts Ende Merker: ${d.toDate()}`),console.groupCollapsed("Bereitschafts Anfang"),l=n.add(1,"d").hour(s.hour()).minute(s.minute()),console.log(`Bereitschafts Anfang Nacht: ${l.toDate()}`),r=C(t,n,Y,m,h,a),console.log(`Bereitschafts Anfang A: ${r.toDate()}`),console.groupEnd("Bereitschafts Anfang"),c=t.isSame(d,"d")?A.min(l,r,u):A.min(A.max(r,u),l),console.log(`Bereitschafts Anfang Merker: ${c.toDate()}`),console.groupCollapsed("Berechnung Pause"),f=t.startOf("d").add(D),g===w?g=0:g=t.isSame(f)?N[t.day()]:0,B=t.hour(s.hour()).minute(s.minute()),E=f.hour(s.hour()).add(v,"h").minute(s.minute()),t.isSame(B)|t.isSame(E)&&(g=w),console.groupEnd("Berechnung Pause"),console.log(`Pausen Zeit: ${g}`),console.log(`Eingabe Tabelle: ${t.format("L, LT")} --- ${d.format("L, LT")} --- ${g}`);let b={beginB:t.toISOString(),endeB:d.toISOString(),pauseB:g};i.some(O=>JSON.stringify(O)===JSON.stringify(b))?console.log("Bereitschaftszeitraum bereits vorhanden"):i.push(b),console.group("Übernehme Daten neuer Tag"),t=c.clone(),console.log("Bereitschafts Anfang: "+t.toDate()),t.isAfter(n)&&(n=n.add(1,"d")),console.log(`Nacht Anfang: ${n.toDate()}`),n.isAfter(s)&&!n.isSame(e)&&(n=e.clone(),a=!1),console.log(`Nacht: ${a}`),m=S(t),console.log(`Arbeitstag Heute: ${m} --- ${t.format("dd")}`),h=S(t,1),console.log(`Arbeitstag Morgen: ${h} --- ${t.add(1,"d").format("dd")}`),console.groupEnd("Übernehme Daten neuer Tag"),a&&t.isSame(n,"d")&&(t.isSame(n,"d")&&t.isSame(r)||(console.group("Prüfen ob Ruhe nach Nacht:"),o=C(t,n,R,m,h,a),console.log(`Bereitschafts Ende A: ${o.toDate()}`),u=t.add(1,"d").startOf("d").add(y),console.log(`Bereitschafts Ende B: ${u.toDate()}`),d=A.min(o,u,n,e),console.log(`Bereitschafts Ende Merker: ${d.toDate()}`),t.isSame(n,"d")&&l.isBefore(n.subtract(10,"h"))&&d.isAfter(l.add(1,"h"))&&(l=l.add(v,"h"),console.log(`Bereitschafts Anfang Nacht: ${l.toDate()}`),t=A.max(A.min(r,u),l),console.log(`Bereitschafts Anfang: ${t.toDate()}`),m=S(t),console.log(`Arbeitstag Heute: ${m} --- ${t.format("dd")}`),h=S(t,1),console.log(`Arbeitstag Morgen: ${h} --- ${t.add(1,"d").format("dd")}`)),console.groupEnd("Prüfung Ruhe nach Nacht ende")))}if(Ri(i),x==i.length){console.log("Keine änderung, Bereitschaft bereits vorhanden");return}return i}window.addEventListener("load",()=>{document.querySelector("#formEinstellungen").addEventListener("submit",t=>{t.stopPropagation(),t.preventDefault(),gn(document.getElementById("btnSaveEinstellungen"))}),p.check("VorgabenU")&&Lt(p.get("VorgabenU"))});function Lt(t=p.get("VorgabenU")){const e=t.vorgabenB;Object.keys(t.pers).forEach(d=>{d!="Name"&&(document.getElementById(d).value=t.pers[d])}),Object.keys(t.aZ).forEach(d=>{document.getElementById(d).value=t.aZ[d]});let n=document.getElementById("TbodyTätigkeitsstätten");n.innerHTML="";let s,a;for(const{key:d,text:o,value:u}of t.fZ){let m=n.insertRow();i(m,0,"Text",d),i(m,1,"Text",o),i(m,2,"time",u)}for(let d=0;d<3;d++){let o=n.insertRow();i(o,0,"Text",""),i(o,1,"Text",""),i(o,2,"time","")}function i(d,o,u,m){s=d.insertCell(o),a=document.createElement("input"),a.type=u,a.className="form-control text-center",a.value=m,s.appendChild(a)}const l=d=>d?"Ja":"Nein",c=(d,o=!0)=>{switch(o=o?"<br/>":" | ",d.tag%7){case 1:return`Montag${o}${d.zeit}`;case 2:return`Dienstag${o}${d.zeit}`;case 3:return`Mittwoch${o}${d.zeit}`;case 4:return`Donnerstag${o}${d.zeit}`;case 5:return`Freitag${o}${d.zeit}`;case 6:return`Samstag${o}${d.zeit}`;case 0:case 7:return`Sonntag${o}${d.zeit}`;default:return""}},r=Mt("tableVE",{columns:[{name:"Name",title:"Name"},{name:"beginnB",title:"Von",parser:c,breakpoints:"sm"},{name:"endeB",title:"Bis",parser:c,breakpoints:"sm"},{name:"nacht",title:"Nacht?",parser:l,breakpoints:"lg"},{name:"beginnN",title:"Von",parser:c,breakpoints:"lg"},{name:"endeN",title:"Bis",parser:c,breakpoints:"lg"}],rows:[...Object.values(e)],editing:{enabled:!0,addRow:()=>{const d=Ta(r,"Voreinstellung hinzufügen");d.row=r,new j(d).show()},editRow:d=>{const o=Ta(d,"Voreinstellung bearbeiten");o.row=d,new j(o).show()},showRow:d=>{const o=Pu(d,"Voreinstellung anzeigen");o.row=d,new j(o).show()},deleteRow:d=>{d.deleteRow()},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?","JA","NEIN")&&(r.rows.load([]),re(!1))}}})}function Ta(t,e){const{modal:n,form:s}=ue(e,!0,null,a,xe(null,t instanceof Q?"Speichern":null),i);return n;function a(){const l=document.createElement("div");l.className="modal-body row";let c=t.columns.array.find(r=>r.name==="Name");return l.appendChild(V({divClass:"form-floating col-12 pb-3",title:c.title,name:c.name,value:(t.cells&&t.cells[c.name])??"",type:"text",required:!0})),l.appendChild(document.createElement("hr")),["beginnB","endeB"].forEach(r=>{c=t.columns.array.find(d=>d.name===r),l.appendChild(pe({divClass:"form-floating col-7 col-sm-6 pb-3",title:c.title,name:`${c.name}Tag`,value:(t.cells&&(t.cells[c.name].tag+7)%7)??"",required:!0,options:[{value:1,text:"Montag"},{value:2,text:"Dienstag"},{value:3,text:"Mittwoch"},{value:4,text:"Donnerstag"},{value:5,text:"Freitag"},{value:6,text:"Samstag"},{value:0,text:"Sonntag"}]})),l.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",type:"time",title:c.title,name:`${c.name}Zeit`,value:(t.cells&&t.cells[c.name].zeit)??"",required:!0}))}),l.appendChild(document.createElement("hr")),c=t.columns.array.find(r=>r.name==="nacht"),l.appendChild(et({checkClass:"form-check form-switch col-12  pb-3",id:c.name,text:c.title,status:(t.cells&&t.cells[c.name])??!1})),["beginnN","endeN"].forEach(r=>{c=t.columns.array.find(d=>d.name===r),l.appendChild(pe({divClass:"form-floating col-7 col-sm-6 pb-3",title:c.title,name:`${c.name}Tag`,value:(t.cells&&(t.cells[c.name].tag+7)%7)??"",required:!0,options:[{value:1,text:"Montag"},{value:2,text:"Dienstag"},{value:3,text:"Mittwoch"},{value:4,text:"Donnerstag"},{value:5,text:"Freitag"},{value:6,text:"Samstag"},{value:0,text:"Sonntag"}]})),l.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",type:"time",title:c.title,name:`${c.name}Zeit`,value:(t.cells&&t.cells[c.name].zeit)??"",required:!0}))}),l}function i(){return l=>{if(s.checkValidity&&!s.checkValidity())return;l.preventDefault();const c=+s.querySelector("#beginnBTag").value,r=+s.querySelector("#endeBTag").value,d=+s.querySelector("#beginnNTag").value,o=+s.querySelector("#endeNTag").value,u=s.querySelector("#beginnBZeit").value,m=s.querySelector("#endeBZeit").value,h=s.querySelector("#beginnNZeit").value,g=s.querySelector("#endeNZeit").value,f=n.row,E={Name:s.querySelector("#Name").value,beginnB:{tag:c,zeit:u},endeB:{tag:r+(r<=c?7:0),zeit:m},nacht:s.querySelector("#nacht").checked,beginnN:{tag:d+(d<=c?7:0),zeit:h},endeN:{tag:o+(c<=o?7:0),zeit:g}};f instanceof Q?f.val(E):f.rows.add(E),j.getInstance(n).hide(),F("tableVE",f.CustomTable||f)}}}function Pu(t,e){const{modal:n}=ue(e,!1,"sm",s,En);return n;function s(){const a=document.createElement("div");a.className="modal-body row";let i;return i=t.columns.array.find(l=>l.name==="Name"),a.appendChild(Ke({divClass:"mb-1",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-2 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),["beginnB","endeB","nacht","beginnN","endeN"].forEach(l=>{i=t.columns.array.find(c=>c.name===l),a.appendChild(Ke({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name],!1)}))}),a}}function wa(){let t=p.get("VorgabenU");Object.keys(t.pers).forEach(n=>{t.pers[n]=document.getElementById(n).value}),Object.keys(t.aZ).forEach(n=>{t.aZ[n]=document.getElementById(n).value}),t.fZ=e("TbodyTätigkeitsstätten"),t.pers.TB=="Tarifkraft"?document.getElementById("Neben-tab").parentElement.classList.remove("d-none"):document.getElementById("Neben-tab").parentElement.classList.add("d-none"),t.vorgabenB=Object.fromEntries(te("tableVE").entries()),p.set("VorgabenU",t);function e(n){const s=document.getElementById(n).rows;let a=[];for(const i of s){let l=i.children;const c=l[0].children[0].value;if(!c)continue;const r=l[1].children[0].value,d=l[2].children[0].value;if(!r||!d)throw U({message:`Einstellungen > Fahrzeiten > "${c}": Beschreibung / Fahrzeit fehlt`,status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Beschreibung / Fahrzeit fehlt");a.push({key:c,text:r,value:d})}return a}}A.locale("de");A.extend(pn);A.extend(ws);A.extend(Cs);A.extend(Di);A.extend(Bi);window.addEventListener("load",()=>{const t=s=>s?'<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input" checked></div>':'<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input"></div>',e=s=>{switch(s){case"T":return"Tag";case"N":return"Nacht";case"BN":return"<span class='SchichtBereitschaft'>Bereitschaft<br>+ Nacht</span>";case"S":return"Sonder";default:return""}},n=Mt("tableE",{columns:[{name:"tagE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"eOrtE",title:"Einsatzort",classes:["custom-text-truncate"],type:"text"},{name:"schichtE",title:"Schicht",parser:e,type:"time"},{name:"abWE",title:"Ab Wohnung",breakpoints:"xl",type:"time"},{name:"beginE",title:"Arbeitszeit Von",breakpoints:"md",type:"time"},{name:"ab1E",title:"Ab 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"anEE",title:"An Einsatzort",breakpoints:"lg",type:"time"},{name:"abEE",title:"Ab Einsatzort",breakpoints:"lg",type:"time"},{name:"an1E",title:"An 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"endeE",title:"Arbeitszeit Bis",breakpoints:"md",type:"time"},{name:"anWE",title:"An Wohnung",breakpoints:"xl",type:"time"},{name:"berechnen",title:"Berechnen?",parser:t,breakpoints:"xxl"}],rows:Qe(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const s=Ca(n,"Anwesenheit hinzufügen");s.row=n,new j(s).show()},editRow:s=>{const a=Ca(s,"Anwesenheit bearbeiten");a.row=s,new j(a).show()},showRow:s=>{const a=Wu(s,"Anwesenheit anzeigen");a.row=s,new j(a).show()},deleteRow:s=>{s.deleteRow(),F("tableE",n)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?","JA","NEIN")&&(n.rows.load([]),re(!1),p.set("dataE",[]))},customButton:[{classes:["btn","btn-secondary"],text:"Alle Zeiten entfernen",function:()=>{if(confirm(`Möchtest du wirklich alle Zeiten entfernen?
(bei Zeilen die auch berechnet werden)`)){let s=[...n.rows.array],a=[];s.forEach(i=>{if(!i.cells.berechnen)return a.push(i.cells);i.cells.abWE="",i.cells.ab1E="",i.cells.anEE="",i.cells.beginE="",i.cells.endeE="",i.cells.abEE="",i.cells.an1E="",i.cells.anWE="",a.push(i.cells)}),n.rows.load(a),F("tableE",n)}}}]},customFunction:{afterDrawRows:s=>{Hu(s)}}});document.querySelector("#btnZb").addEventListener("click",()=>{zu(p.get("Monat"),p.get("Jahr"),p.get("dataE"),p.get("VorgabenU"))}),document.querySelector("#btnSaveE").addEventListener("click",()=>{gn(document.querySelector("#btnSaveE"))}),document.querySelector("#btnDownloadE").addEventListener("click",()=>{As(document.querySelector("#btnDownloadE"),"E")}),document.querySelector("#btnESEE").addEventListener("click",Vu)});function Hu(t){document.querySelectorAll("#tableE .row-checkbox").forEach(e=>e.addEventListener("click",n=>{n.stopPropagation();const s=n.target.closest("tr").data;let a=s.cells;a.berechnen=n.target.checked,s.val(a),F("tableE",t)}))}function Vu(){const{modal:t,form:e}=ue("Neue Anwesenheit eingeben",!0,"sm",n,xe(),s);Qn(""),new j(t).show();function n(){const a=p.get("VorgabenU"),i=document.createElement("div");i.className="modal-body row g-2";const l=A([+p.get("Jahr"),+p.get("Monat")-1,A().date()]),c=document.createElement("div"),r=document.createElement("button");return r.className="btn btn-secondary btn-lg text-start col-12",r.type="button",r.id="btnNaechsterTag",r.textContent="+1 Tag",r.addEventListener("click",d=>{d.preventDefault(),Qn()}),c.appendChild(r),i.appendChild(c),i.appendChild(V({divClass:"form-floating",title:"Tag",name:"tagE",value:"",type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")})),i.appendChild(pe({divClass:"form-floating",title:"Einsatzort",name:"EOrt",value:null,required:!1,options:[{value:"",text:"",selected:!0},...a.fZ.map(d=>({value:d.key,text:d.key}))]})),i.appendChild(pe({divClass:"form-floating",title:"Schicht",name:"Schicht",value:"",options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}],required:!0})),i.appendChild(et({checkClass:"form-check form-switch mt-3",id:"berechnen1",text:"Berechnen",status:!0})),i}function s(){return a=>{e.checkValidity&&!e.checkValidity()||(a.preventDefault(),Uu(),F("tableE",document.querySelector("#tableE").CustomTable))}}}function Ca(t,e){const{modal:n,form:s}=ue(e,!0,"fullscreen-sm-down",a,xe(i(),t instanceof Q?"Speichern":null),l);return n;function a(){const c=p.get("VorgabenU"),r=document.createElement("div");r.className="modal-body row";let d;const o=+p.get("Monat"),u=+p.get("Jahr");if(t instanceof Q)d=A([u,o-1,t.cells.tagE]);else if(t instanceof Yt)d=A([u,o-1,A().date()]);else throw Error("unbekannter Fehler");let m;m=t.columns.array.find(g=>g.name==="tagE"),r.appendChild(V({divClass:"form-floating col-12 col-sm-5 pb-3",title:m.title,name:m.name,value:d.format("YYYY-MM-DD"),type:"date",required:!0,min:d.startOf("M").format("YYYY-MM-DD"),max:d.endOf("M").format("YYYY-MM-DD")})),m=t.columns.array.find(g=>g.name==="eOrtE"),r.appendChild(pe({divClass:"form-floating col-12 col-sm-7 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||null,required:!1,options:[{value:"",text:"",selected:!0},...c.fZ.map(g=>({value:g.key,text:g.key}))]})),m=t.columns.array.find(g=>g.name==="schichtE"),r.appendChild(pe({divClass:"form-floating col-12 col-sm-7 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||null,required:!0,options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}]})),m=t.columns.array.find(g=>g.name==="berechnen"),r.appendChild(et({checkClass:"form-check form-switch col-12 col-sm-4 pb-3",id:m.name,text:m.title,status:(t.cells&&t.cells[m.name])??!0})),r.appendChild(document.createElement("hr"));const h=document.createElement("div");return h.className="icon-ewt",r.appendChild(h),h.appendChild(Be("material-icons-round big-icons","arrow_downward")),h.appendChild(be("Wohnung")),h.appendChild(Be("material-icons-round big-icons","arrow_upward")),m=t.columns.array.find(g=>g.name==="abWE"),r.appendChild(V({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(g=>g.name==="anWE"),r.appendChild(V({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),r.appendChild(be("Arbeitszeit")),m=t.columns.array.find(g=>g.name==="beginE"),r.appendChild(V({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(g=>g.name==="endeE"),r.appendChild(V({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),r.appendChild(be("1. Tätigkeitsstätte")),m=t.columns.array.find(g=>g.name==="ab1E"),r.appendChild(V({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(g=>g.name==="an1E"),r.appendChild(V({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),r.appendChild(be("Einsatzort")),m=t.columns.array.find(g=>g.name==="anEE"),r.appendChild(V({divClass:"form-floating col-6",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(g=>g.name==="abEE"),r.appendChild(V({divClass:"form-floating col-6",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),r}function i(){if(t instanceof Q){const c=document.createElement("button");return c.type="button",c.className="btn btn-danger",c.arialabel="Zeiten löschen",c.innerHTML="Zeiten löschen",c.addEventListener("click",()=>Fu(n)),[c]}}function l(){return c=>{if(s.checkValidity&&!s.checkValidity())return;c.preventDefault();const r=n.row,d={tagE:A(s.querySelector("#tagE").value).format("DD"),eOrtE:s.querySelector("#eOrtE").value,schichtE:s.querySelector("#schichtE").value,abWE:s.querySelector("#abWE").value,ab1E:s.querySelector("#ab1E").value,anEE:s.querySelector("#anEE").value,beginE:s.querySelector("#beginE").value,endeE:s.querySelector("#endeE").value,abEE:s.querySelector("#abEE").value,an1E:s.querySelector("#an1E").value,anWE:s.querySelector("#anWE").value,berechnen:s.querySelector("#berechnen").checked};r instanceof Q?r.val(d):r.rows.add(d),j.getInstance(n).hide(),F("tableE",r.CustomTable||r)}}}function Wu(t,e){const{modal:n}=ue(e,!1,"sm",s,En);return n;function s(){const a=document.createElement("div");a.className="modal-body row";let i;i=t.columns.array.find(o=>o.name==="tagE"),a.appendChild(Ke({divClass:"mb-1 col-6",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-2 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(o=>o.name==="berechnen");const l=et({checkClass:"form-check form-switch col-5",id:i.name,text:i.title,status:(t.cells&&t.cells[i.name])??!0});l.addEventListener("click",o=>{const u=o.target.closest(".modal").row;u.cells.berechnen=o.target.checked;const m=u.CustomTable;m.drawRows(),F("tableE",m)}),a.appendChild(l),i=t.columns.array.find(o=>o.name==="eOrtE"),a.appendChild(Ke({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(o=>o.name==="schichtE"),a.appendChild(Ke({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),a.appendChild(document.createElement("hr"));const c=document.createElement("div");return c.className="icon-ewt-arrow",a.appendChild(c),c.appendChild(Be("material-icons-round big-icons","arrow_downward")),c.appendChild(Be("material-icons-round big-icons","arrow_upward")),a.appendChild(r({vorTitle:"ab",title:"Wohnung",nachTitle:"an"})),i=t.columns.array.find(o=>o.name==="abWE"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(o=>o.name==="anWE"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),a.appendChild(r({vorTitle:"von",title:"Arbeitszeit",nachTitle:"bis"})),i=t.columns.array.find(o=>o.name==="beginE"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(o=>o.name==="endeE"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),a.appendChild(r({vorTitle:"ab",title:"1. Tätigkeitsstätte",nachTitle:"an"})),i=t.columns.array.find(o=>o.name==="ab1E"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(o=>o.name==="an1E"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),a.appendChild(r({vorTitle:"an",title:"Einsatzort",nachTitle:"ab"})),i=t.columns.array.find(o=>o.name==="anEE"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(o=>o.name==="abEE"),a.appendChild(d({name:i.name,text:i.parser(t.cells[i.name])})),a;function r(o){const u=document.createElement("div");u.className=o.divClass??"icon-ewt";const m=document.createElement("h5");return m.className="my-1",m.textContent=o.title,u.appendChild(Be("",o.vorTitle)),u.appendChild(m),u.appendChild(Be("",o.nachTitle)),u}function d(o){const u=document.createElement("div");u.className=o.divClass??"mb-1 col-6 text-center";const m=document.createElement("span");return m.className=o.spanClass??"",m.id=o.name,m.innerHTML=o.text,u.appendChild(m),u}}}function Qe(t){if(t==null){if(!p.check("dataE"))return[];t=p.get("dataE")}if(t.length===0||bn(t[0]))return t;let e=[];return t.forEach((n,s)=>{e[s]={tagE:n[0],eOrtE:n[1],schichtE:n[2]===""?"T":n[2],abWE:n[3],ab1E:n[4],anEE:n[5],beginE:n[6],endeE:n[7],abEE:n[8],an1E:n[9],anWE:n[10],berechnen:typeof n[11]=="string"?JSON.parse(n[11]):n[11]||!0}}),e}function Fu(t){t.querySelector("#abWE").value="",t.querySelector("#ab1E").value="",t.querySelector("#anEE").value="",t.querySelector("#beginE").value="",t.querySelector("#endeE").value="",t.querySelector("#abEE").value="",t.querySelector("#an1E").value="",t.querySelector("#anWE").value=""}function zu(t,e,n,s){t=Number(t),e=Number(e),n=i(n,e,t),Ri(n),n=qu(s,n,e,t);for(const l of n)if(l.berechnen){l.tagE=`0${l.tagE}`.slice(-2);for(const[c,r]of Object.entries(l))switch(c){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":r&&(l[c]=r.format("LT"));break;default:throw Error("Datenfehler")}}const a=document.querySelector("#tableE").instance;console.log("save ",{ftE:a}),a.rows.load(Qe(n)),F("tableE",a),U({message:"EWT<br/>Zeiten berechnet.",status:"success",timeout:3e3,position:"br",fixed:!0});function i(l,c,r){for(const d of l){if(!d.berechnen)continue;const o=Number(d.tagE);d.tagE=o;for(const[u,m]of Object.entries(d))switch(u){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":if(m){let h=o,g=m.split(":");["endeE","abEE","an1E","anWE"].includes(u)&&["BN","N"].includes(d.schichtE)&&(h=d.tagE-1),d[u]=A([c,r-1,h,g[0],g[1],0,0])}else d[u]="";break;default:throw Error("Datenfehler")}}return l}}function qu(t,e,n,s){let a,i,l,c,r,d,o,u;const m=t.pers.Name=="Ackermann, Pascal"?A.duration(5,"m"):A.duration(0,"m"),h=f=>{const E=A(f,"HH:mm");return{hours:E.hour(),minutes:E.minute()}},g=t.aZ;for(const[f,E]of Object.entries(g))g[f]=A.duration(h(E));g.fZ={},t.fZ.map(f=>{g.fZ[f.key]=A.duration(h(f.value))});for(const f of e){if(!f.berechnen)continue;let E=A([n,s-1,f.tagE]);switch(f.schichtE){case"N":a=g.bN,i=g.eN.add(1,"d"),l=A.duration(45,"m"),c=l.clone();break;case"S":a=g.bS,i=g.eS,l=A.duration(20,"m"),c=l.clone();break;case"BN":a=g.bBN,i=g.eN.add(1,"d"),l=A.duration(60,"m"),c=A.duration(45,"m");break;case"T":a=g.bT,i=E.isoWeekday()===5?g.eTF:g.eT,l=A.duration(20,"m"),c=l.clone();break;default:throw Error("Schichtfehler")}f.beginE=d=f.beginE===""?E.add(a):f.beginE,f.endeE=o=f.endeE===""?E.add(i):f.endeE,f.abWE=f.abWE===""?d.subtract(g.rZ):f.abWE,f.ab1E=r=f.ab1E===""?d.add(l):f.ab1E,f.an1E=u=f.an1E===""?o.subtract(c):f.an1E,f.anWE=f.anWE===""?o.add(g.rZ).add(m):f.anWE,f.eOrtE!==""&&(f.anEE=f.anEE===""?r.add(g.fZ[f.eOrtE]):f.anEE,f.abEE=f.abEE===""?u.subtract(g.fZ[f.eOrtE]):f.abEE)}return e}function Qn(t,e=te("tableE")){const n=document.getElementById("tagE");let s=new Set(e.map(l=>+l.tagE)),a=A(document.getElementById("tagE").max).date(),i=!1;t==null&&(t=A(n.value).date()),t==""&&(t=Math.max(...s.values())|0),typeof t=="string"&&(t=+t),s.delete(0);do if(t++,t>a&&!i)t=1,i=!0;else if(t>a&&i)throw document.querySelector("#modal > div > form > div.modal-footer > button.btn.btn-primary").disabled=!0,U({message:"EWT<br/>Fehler beim Finden eines Freien Tages.",status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Fehler beim Finden eines Freien Tages");while(s.has(t));n.value=A([+p.get("Jahr"),+p.get("Monat")-1,t]).format("YYYY-MM-DD")}function Uu(){let t=`0${document.getElementById("tagE").value}`.slice(-2),e=document.getElementById("EOrt").value,n=document.getElementById("Schicht").value,s=document.getElementById("berechnen1").checked,a={tagE:t,eOrtE:e,schichtE:n,abWE:"",ab1E:"",anEE:"",beginE:"",endeE:"",abEE:"",an1E:"",anWE:"",berechnen:s};const i=document.querySelector("#tableE").instance;console.log("save ",{ftE:i}),i.rows.add(a),F("tableE",i),Qn(+t,i.getRows().map(l=>l.cells))}A.extend(pn);A.extend(ws);A.extend(Cs);window.addEventListener("load",()=>{const t=Mt("tableN",{columns:[{name:"tagN",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"beginN",title:"Arbeit Von",type:"time"},{name:"endeN",title:"Arbeit Bis",type:"time"},{name:"beginPauseN",title:"Pause Von",breakpoints:"sm",type:"time"},{name:"endePauseN",title:"Pause Bis",breakpoints:"sm",type:"time"},{name:"dauerN",title:"Anzahl",breakpoints:"md"},{name:"nrN",title:"Zulage",breakpoints:"md"}],rows:gt(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const e=Sa(t,"Nebenbezug hinzufügen");e.row=t,new j(e).show()},editRow:e=>{const n=Sa(e,"Nebenbezug bearbeiten");n.row=e,new j(n).show()},showRow:e=>{const n=Zu(e,"Nebenbezug anzeigen");n.row=e,new j(n).show()},deleteRow:e=>{e.deleteRow(),F("tableN",t)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?")&&(t.rows.load([]),re(!1),p.set("dataBE",[]))}}});document.querySelector("#btnESN").addEventListener("click",()=>{ju()}),document.querySelector("#btnSaveN").addEventListener("click",()=>{gn(document.querySelector("#btnSaveN"))}),document.querySelector("#btnDownloadN").addEventListener("click",()=>{As(document.querySelector("#btnDownloadN"),"N")})});function ju(){const{modal:t,form:e}=ue("Neuen Nebenbezug eingeben",!0,null,n,xe([s()]),a);new j(t).show();function n(){const i=te("tableE");if(i.length===0){U({message:'Keine Tage in EWT gefunden. </br></br>Bitte erst EWT ausfüllen! </br>oder Manuell über "Neue Zeile"',timeout:3e3,position:"br",fixed:!0});return}console.log(i);const l=document.createElement("div");l.className="modal-body";const c=document.createElement("p");return c.className="text-center",c.textContent="!!! Erst EWT Eingeben und Berechnen !!!",l.appendChild(c),l.appendChild(pe({divClass:"form-floating col mb-3",title:"Tag (Aus EWT)",name:"tagN",required:!0,value:null,options:r()})),l.appendChild(pe({divClass:"form-floating col mb-3",title:"Nebenbezug (Aktuell nur 1 möglichkeit)",name:"Nebenbezug",required:!0,value:null,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),l.appendChild(V({divClass:"form-floating col",title:"Anzahl",name:"AnzahlN",value:1,type:"number",required:!0,min:1,max:1})),l;function r(){const d=te("tableN"),o=+p.get("Jahr"),u=+p.get("Monat");let m=[];for(const h of i){const g=h.schichtE;let f,E,B="12:00",L="12:30";["N","BN"].includes(g)?(f=`0${h.tagE-1}`.slice(-2),E=`${f} | ${new Date(o,u-1,h.tagE-1).toLocaleDateString("de",{weekday:"short"})}`,B="01:00",L="01:45"):(f=`0${h.tagE}`.slice(-2),E=`${f} | ${new Date(o,u-1,h.tagE).toLocaleDateString("de",{weekday:"short"})}`),new Date(o,u-1,E).getDay()==5&&(B="",L="");let $={};g=="N"?$.text=`${E} | Nacht`:g=="BN"?$.text=`${E} | Nacht / Bereitschaft`:$.text=E,$.value=JSON.stringify({tagN:f,beginN:h.beginE,endeN:h.endeE,beginPauseN:B,endePauseN:L,nrN:"",dauerN:0}),d&&d.forEach(D=>{Number(D.tagN)==Number(f)&&($.disabled=!0)}),m.push($)}return m}}function s(){const i=document.createElement("button");return i.className="btn btn-info",i.type="button",i.textContent="Manuell",i.arialabel="Manuell",i.dataset.bsDismiss="modal",i.addEventListener("click",()=>document.querySelector("#tableN").instance.options.editing.addRow()),i}function a(){return i=>{e.checkValidity&&!e.checkValidity()||(i.preventDefault(),Ku(e))}}}function Sa(t,e){const{modal:n,form:s}=ue(e,!0,null,a,xe(null,t instanceof Q?"Speichern":null),i);return n;function a(){const l=document.createElement("div");l.className="modal-body row";let c;const r=+p.get("Monat"),d=+p.get("Jahr");if(t instanceof Q)c=A([d,r-1,t.cells.tagN]);else if(t instanceof Yt)c=A([d,r-1,A().date()]);else throw Error("unbekannter Fehler");let o;return o=t.columns.array.find(u=>u.name==="tagN"),l.appendChild(V({divClass:"form-floating col-6 pb-3",title:o.title,name:o.name,value:c.format("YYYY-MM-DD"),type:"date",required:!0,min:c.startOf("M").format("YYYY-MM-DD"),max:c.endOf("M").format("YYYY-MM-DD")})),l.appendChild(be("Arbeitszeit")),["beginN","endeN"].forEach(u=>{o=t.columns.array.find(m=>m.name===u),l.appendChild(V({divClass:"form-floating col-6 pb-3",title:o.title,name:o.name,value:t.cells&&t.cells[o.name]||null,type:"time",required:!0}))}),l.appendChild(be("Pause")),["beginPauseN","endePauseN"].forEach(u=>{o=t.columns.array.find(m=>m.name===u),l.appendChild(V({divClass:"form-floating col-6 pb-3",title:o.title,name:o.name,value:t.cells&&t.cells[o.name]||null,type:"time"}))}),l.appendChild(be("Zulage")),o=t.columns.array.find(u=>u.name==="dauerN"),l.appendChild(V({divClass:"form-floating col-6 pb-3",title:o.title,name:o.name,value:t.cells&&t.cells[o.name]||1,type:"number",required:!0,min:1,max:1})),o=t.columns.array.find(u=>u.name==="nrN"),l.appendChild(pe({divClass:"form-floating col-6 pb-3",title:o.title,name:o.name,value:t.cells&&t.cells[o.name]||null,required:!0,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),l}function i(){return l=>{if(s.checkValidity&&!s.checkValidity())return;l.preventDefault();const c=n.row,r={tagN:A(s.querySelector("#tagN").value).format("DD"),beginN:s.querySelector("#beginN").value,endeN:s.querySelector("#endeN").value,beginPauseN:s.querySelector("#beginPauseN").value,endePauseN:s.querySelector("#endePauseN").value,nrN:s.querySelector("#nrN").value,dauerN:Number(s.querySelector("#dauerN").value)};c instanceof Q?c.val(r):c.rows.add(r),j.getInstance(n).hide(),F("tableN",c.CustomTable||c)}}}function Zu(t,e){const{modal:n}=ue(e,!1,"sm",s,En);return n;function s(){const a=document.createElement("div");a.className="modal-body row";let i,l;return i=t.columns.array.find(d=>d.name==="tagN"),a.appendChild(Ke({divClass:"mb-2 col-12 text-center",labelClass:"pe-3 align-middle col-form-label text-wrap fw-bold",spanClass:"align-middle my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),a.appendChild(c("Arbeitszeit")),i=t.columns.array.find(d=>d.name==="beginN"),l=t.columns.array.find(d=>d.name==="endeN"),a.appendChild(r({divClass:"mb-2 col-12 text-center",vorTitle:i.parser(t.cells[i.name]),title:"arrow_right_alt",nachTitle:l.parser(t.cells[l.name])})),a.appendChild(c("Pause")),i=t.columns.array.find(d=>d.name==="beginPauseN"),l=t.columns.array.find(d=>d.name==="endePauseN"),a.appendChild(r({divClass:"mb-2 text-center",vorTitle:i.parser(t.cells[i.name]),title:"arrow_right_alt",nachTitle:l.parser(t.cells[l.name])})),a.appendChild(c("Zulage")),i=t.columns.array.find(d=>d.name==="dauerN"),l=t.columns.array.find(d=>d.name==="nrN"),a.appendChild(r({divClass:"mb-2 col-12 text-center",vorTitleClass:"col-4 align-middle text-break my-auto",vorTitle:i.parser(t.cells[i.name]),titleClass:"align-middle fw-semibold mx-1",title:"X",nachTitleClass:"col-6 align-middle text-break my-auto",nachTitle:l.parser(t.cells[l.name])})),a;function c(d){const o=document.createElement("h4");return o.className="text-center mb-0",o.innerHTML=d,o}function r(d){const o=document.createElement("div");return o.className=d.divClass??"icon-ewt",o.appendChild(Be(d.vorTitleClass??"",d.vorTitle)),o.appendChild(Be(d.titleClass??"material-icons-round big-icons",d.title)),o.appendChild(Be(d.nachTitleClass??"",d.nachTitle)),o}}}function gt(t){if(t==null){if(!p.check("dataN"))return[];t=p.get("dataN")}if(t.length===0||bn(t[0]))return t;let e=[];return t.forEach((n,s)=>{e[s]={tagN:n[0],beginN:n[1],endeN:n[2],beginPauseN:n[3],endePauseN:n[4],nrN:n[5],dauerN:n[6]===""?1:Number(n[6])}}),e}function Ku(t){let e=t.querySelector("#tagN"),n=e.selectedIndex;if(n<0)return;let s=JSON.parse(e.value);for(s.nrN=t.querySelector("#Nebenbezug").value,s.dauerN=+t.querySelector("#AnzahlN").value,console.log(s),e[n].selected=!1,e[n].disabled=!0,n++;n<e.length;){if(!e[n].disabled){e[n].selected=!0;break}n++}document.querySelector("#tableN").instance.rows.add(s),F("tableN",document.querySelector("#tableN").CustomTable)}A.extend(pn);window.addEventListener("load",()=>{var t,e;if(p.length>3&&p.check("UserID")){const n=p.get("Benutzer");nn(),U({message:`Hallo ${n},<br/>die App hat ein Update erhalten.<br/>Bitte melde dich neu an, um<br/>die neuen Funktionen zu nutzen.`,status:"info",timeout:1e4,position:"br",fixed:!0})}if(document.getElementById("formLogin").addEventListener("submit",n=>{n.preventDefault(),Ii()}),document.getElementById("formNewUser").addEventListener("submit",n=>{n.preventDefault(),Ju()}),document.getElementById("formChangePW").addEventListener("submit",n=>{n.preventDefault(),Gu()}),document.getElementById("formSelectMonatJahr").addEventListener("submit",n=>{n.preventDefault(),ts()}),document.getElementById("btnNewUser").addEventListener("click",()=>{document.getElementById("loginDisplay").classList.add("d-none"),document.getElementById("NewDisplay").classList.remove("d-none")}),document.getElementById("btnCancelNewUser").addEventListener("click",()=>{document.getElementById("NewDisplay").classList.add("d-none"),document.getElementById("loginDisplay").classList.remove("d-none")}),document.getElementById("btnCancelChangePW").addEventListener("click",()=>{document.getElementById("ChangeDisplay").classList.add("d-none"),document.getElementById("SelectDisplay").classList.remove("d-none")}),document.getElementById("btnPasswortAEndern").addEventListener("click",()=>{document.getElementById("SelectDisplay").classList.add("d-none"),document.getElementById("ChangeDisplay").classList.remove("d-none")}),document.getElementById("btnLogout").addEventListener("click",nn),document.getElementById("Monat").addEventListener("change",es),document.getElementById("Jahr").addEventListener("change",es),p.check("Benutzer")&&p.check("accessToken")){let n=p.check("VorgabenU")?(t=p.get("VorgabenU"))==null?void 0:t.pers.Vorname:p.get("Benutzer");document.getElementById("Willkommen").innerHTML=`Hallo, ${n}.`,document.getElementById("loginDisplay").classList.add("d-none");let s=p.get("Jahr");document.getElementById("Jahr").value=s;let a=p.get("Monat");document.getElementById("Monat").value=a,document.getElementById("SelectDisplay").classList.remove("d-none"),console.log("Benutzer gefunden"),((e=p.get("VorgabenU"))==null?void 0:e.pers.TB)=="Tarifkraft"&&document.getElementById("Neben-tab").parentElement.classList.remove("d-none"),n==="Jan"&&document.getElementById("admin").classList.remove("d-none"),document.getElementById("navmenu").classList.remove("d-none"),document.getElementById("btn-navmenu").classList.remove("d-none"),navigator.onLine&&ts(a,s)}});function es(){if(+document.getElementById("Monat").value===p.get("Monat")&&+document.getElementById("Jahr").value===p.get("Jahr")){re(!1),navigator.onLine||ns(!0);return}re(!0),navigator.onLine&&(document.querySelector("#btnAuswaehlen").disabled=!1)}async function Ii(t=document.getElementById("Benutzer").value,e=document.getElementById("Passwort").value){document.getElementById("btnLogin").disabled=!0,Fe("btnLogin");let n={Name:t,Passwort:e};try{const s=await Ae("login",n,"POST");if(s.statusCode==200){let{accessToken:a,refreshToken:i}=s.data;console.log({accessToken:a,refreshToken:i}),t=`${t[0].toUpperCase()}${t.substring(1)}`,p.set("Benutzer",t),document.getElementById("Willkommen").innerHTML=`Hallo, ${t}.`,document.getElementById("loginDisplay").classList.add("d-none"),document.getElementById("ChangeDisplay").classList.add("d-none"),document.getElementById("NewDisplay").classList.add("d-none"),p.set("accessToken",a),p.set("refreshToken",i);const l=A().year();document.getElementById("Jahr").value=l;const c=A().month()+1;document.getElementById("Monat").value=c,document.getElementById("SelectDisplay").classList.remove("d-none"),document.getElementById("Benutzer").value="",document.getElementById("Passwort").value="",document.getElementById("errorMessage").innerHTML="",t==="Jan"&&document.getElementById("admin").classList.remove("d-none"),console.log("Eingeloggt"),ts(c,l)}else document.getElementById("errorMessage").innerHTML=s.message}catch(s){console.log(s.message)}finally{ee("btnLogin")}}function ts(t=+document.getElementById("Monat").value,e=+document.getElementById("Jahr").value){Fe("btnAuswaehlen"),document.getElementById("errorMessage").innerHTML="",p.check("Jahr")&&p.check("Monat")&&(p.get("Jahr")!=e||p.get("Monat")!=t)&&p.set("monatswechsel",!0),p.set("Jahr",e),p.set("Monat",t),xi(e,t),p.check("accessToken")&&Xu(t,e)}function nn(){ss.abort(),Yi(),p.clear(),document.getElementById("navmenu").classList.add("d-none"),document.getElementById("btn-navmenu").classList.add("d-none"),document.getElementById("loginDisplay").classList.remove("d-none"),document.getElementById("NewDisplay").classList.add("d-none"),document.getElementById("SelectDisplay").classList.add("d-none"),document.getElementById("admin").classList.add("d-none"),document.getElementById("Neben-tab").parentElement.classList.add("d-none"),document.getElementById("Willkommen").innerHTML="Willkommen"}async function Gu(){const t=document.getElementById("passwortOld").value,e=document.getElementById("Passwort3").value,n=document.getElementById("Passwort4").value;if(!t){document.getElementById("errorMessage").innerHTML="Bitte Aktuelles Passwort Eingeben";return}if(!e){document.getElementById("errorMessage").innerHTML="Bitte Neues Passwort Eingeben";return}if(!n){document.getElementById("errorMessage").innerHTML="Bitte Neues Passwort wiederholen";return}if(e!=n){document.getElementById("errorMessage").innerHTML="Passworter falsch wiederholt";return}if(t==e){document.getElementById("errorMessage").innerHTML="Passwörter Alt und Neu sind gleich";return}Fe("btnChange");try{const a=await Ae("changePW",{PasswortAlt:t,PasswortNeu:e},"POST");if(a.statusCode>=400){console.log(a.message),document.getElementById("errorMessage").innerHTML=a.message,U({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}else if(a.statusCode==200)console.log(`Passwort geändert: ${a.data}`),U({message:"Login<br/>Passwort wurde geändert.",status:"success",timeout:3e3,position:"br",fixed:!0}),document.getElementById("errorMessage").innerHTML="";else{console.log("Fehler"),U({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}document.getElementById("SelectDisplay").classList.remove("d-none"),document.getElementById("ChangeDisplay").classList.add("d-none"),document.getElementById("passwortOld").value="",document.getElementById("Passwort3").value="",document.getElementById("Passwort4").value=""}catch(s){console.log(s);return}finally{ee("btnChange")}}async function Ju(){const t=document.getElementById("Zugang").value,e=document.getElementById("Benutzer2").value,n=document.getElementById("Passwort1").value,s=document.getElementById("Passwort2").value;if(!t){document.getElementById("errorMessage").innerHTML="Bitte Zugangscode Eingeben";return}if(!e){document.getElementById("errorMessage").innerHTML="Bitte Benutzername Eingeben";return}if(!n){document.getElementById("errorMessage").innerHTML="Bitte Passwort Eingeben";return}if(!s){document.getElementById("errorMessage").innerHTML="Bitte Passwort wiederholen";return}if(n!=s){document.getElementById("errorMessage").innerHTML="Passwörter falsch wiederholt";return}Fe("btnNeu");let a={Code:t,Name:e,Passwort:n};try{const i=await Ae("add",a,"POST");if(i.statusCode>=400){console.log(i.message),document.getElementById("errorMessage").innerHTML=i.message;return}if(i.statusCode==201)U({message:"Registrierung<br/>Benutzer erfolgreich angelegt.",status:"success",timeout:3e3,position:"br",fixed:!0});else{console.log("Fehler: ",i.message),U({message:`Registrierung <br/>Fehler bei Benutzerstellung: </br>${i.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}}catch(i){console.log(i);return}finally{ee("btnNeu")}document.getElementById("errorMessage").innerHTML="",Ii(document.getElementById("Benutzer2").value,document.getElementById("Passwort1").value),document.getElementById("Zugang").value="",document.getElementById("Benutzer2").value="",document.getElementById("Passwort1").value="",document.getElementById("Passwort2").value=""}async function Xu(t,e){xi(e,t);let n;try{const f=await Ae(`${t}&${e}`);if(f.statusCode==200)n=f.data;else throw Error(f.message)}catch(f){console.error(f),U({message:"Server <br/>Keine Verbindung zum Server oder Serverfehler.",status:"error",timeout:3e3,position:"br",fixed:!0});return}finally{ee("btnAuswaehlen")}const s=n;console.log("Daten geladen: ",s);let{vorgabenU:a,datenBerechnung:i,datenGeld:l}=s,c=s.datenB.datenBZ,r=s.datenB.datenBE,d=s.datenE,o=s.datenN,u=[],m=!1;p.check("monatswechsel")&&(m=!0,p.remove("monatswechsel"));let h={};p.check("dataServer")&&(h=p.get("dataServer"),console.log("Unterschiede Server - Client | Bereits vorhanden",h));const g=(f,E,B,L,$,D=!1)=>{if(!p.check(f))console.log(`${E} speichern, nicht vorhanden`),p.set(f,B),D&&document.getElementById(D.name).instance.rows.load(D.data);else if(m)console.log(`${E} speichern`),p.set(f,B);else if(!p.compare(f,B))return console.log(`${E} vorhanden & änderungen`),u.find(M=>M==$)||u.push($),h[L]=B,p.get(f);return B};a=g("VorgabenU","VorgabenU",a,"vorgabenU","Persönliche Daten",{name:"tableVE",data:[...Object.values(a.vorgabenB)]}),document.getElementById("Willkommen").innerHTML=`Hallo, ${a.pers.Vorname}.`,c=g("dataBZ","DatenBZ",c,"dataBZ","Bereitschaftszeit",{name:"tableBZ",data:ke(c)}),r=g("dataBE","DatenBE",r,"dataBE","Bereitschaftseinsatz",{name:"tableBE",data:pt(r)}),d=g("dataE","DatenE",d,"dataE","EWT",{name:"tableE",data:Qe(d)}),o=g("dataN","DatenN",o,"dataN","Nebenbezüge",{name:"tableN",data:gt(o)}),p.set("datenBerechnung",i),p.set("VorgabenGeld",l),u.length>0?(Object.keys(h).length>0&&console.log("Unterschiede Server - Client",h),p.set("dataServer",h),U({message:`<b>Ungespeicherte Daten:</b> <br/>${u.join("<br/>")}`,status:"info",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Lokale Daten überschreiben",function:()=>{Aa(),ee("btnAuswaehlen"),re(!1)},dismiss:!0,class:["text-primary"]},{text:"Daten behalten",function:()=>{Aa(!1),ee("btnAuswaehlen"),re(!1)},dismiss:!0,class:["text-secondary"]}]})):(ee("btnAuswaehlen"),re(!1)),(h.dataBZ!=null||m)&&document.getElementById("tableBZ").instance.rows.load(ke(c)),(h.dataBE!=null||m)&&document.getElementById("tableBE").instance.rows.load(pt(r)),(h.dataE!=null||m)&&document.getElementById("tableE").instance.rows.load(Qe(d)),(h.dataN!=null||m)&&document.getElementById("tableN").instance.rows.load(gt(o)),(h.dataVE!=null||m)&&document.getElementById("tableVE").instance.rows.load([...Object.values(a.vorgabenB)]),Ts(i,l),Lt(a),a.pers.TB=="Tarifkraft"&&document.getElementById("Neben-tab").parentElement.classList.remove("d-none"),document.getElementById("navmenu").classList.remove("d-none"),document.getElementById("btn-navmenu").classList.remove("d-none"),U({message:"Neue Daten geladen.",status:"success",timeout:3e3,position:"br",fixed:!0})}function xi(t,e){document.getElementById("Monat").value=e;let n=A([+t,e-1]);document.getElementById("MonatB").innerText=document.getElementById("MonatE").innerText=document.getElementById("MonatN").innerText=n.format("MM / YY"),document.getElementById("MonatBerechnung").innerText=t}function Aa(t=!0){if(!t){p.remove("dataServer");return}let e=p.get("dataServer");console.log({dataServer:e}),e.vorgabenU&&(console.log("VorgabenU überschreiben"),p.set("VorgabenU",e.vorgabenU),document.getElementById("tableVE").instance.rows.load([...Object.values(e.vorgabenU.vorgabenB)]),Lt(e.vorgabenU),delete e.vorgabenU),e.dataBZ&&(console.log("DatenBZ überschreiben"),p.set("dataBZ",e.dataBZ),document.getElementById("tableBZ").instance.rows.load(ke(e.dataBZ)),delete e.dataBZ),e.dataBE&&(console.log("DatenBE überschreiben"),p.set("dataBE",e.dataBE),document.getElementById("tableBE").instance.rows.load(pt(e.dataBE)),delete e.dataBE),e.dataE&&(console.log("DatenE überschreiben"),p.set("dataE",e.dataE),document.getElementById("tableE").instance.rows.load(Qe(e.dataE)),delete e.dataE),e.dataN&&(console.log("DatenN überschreiben"),p.set("dataN",e.dataN),document.getElementById("tableN").instance.rows.load(gt(e.dataN)),delete e.dataN),p.remove("dataServer")}const p={set:(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},get:(t,e=null)=>{const n=localStorage.getItem(t),s=Qu(n)?JSON.parse(n):em(t,n);return n?s:e},remove:t=>{localStorage.removeItem(t)},clear:()=>{localStorage.clear()},check:t=>Boolean(localStorage.getItem(t)),length:()=>localStorage.length(),compare:(t,e)=>localStorage.getItem(t)===JSON.stringify(e)};function Qu(t){try{JSON.parse(t)}catch{return!1}return!0}function em(t,e){return p.set(t,e),e}window.addEventListener("load",()=>{tm("localStorage")||U({message:"Bitte Cookies zulassen!",dismissible:!0,status:"error",timeout:!1,position:"tc",fixed:!1});let t;navigator.onLine||e(),window.addEventListener("offline",()=>{e()});function e(){ns(!0),t=U({message:"Du bist offline",dismissible:!1,status:"error",timeout:!1,position:"tr",fixed:!0}),window.addEventListener("online",()=>{ns(!1),es(),t.Close(),U({message:"Du bist wieder online",dismissible:!1,status:"info",timeout:2e3,position:"tr",fixed:!0})},{once:!0})}if(p.check("accessToken")){let s=document.location.toString();if(s.match("#")){let a=s.split("#")[1];console.log(a);let i=document.querySelector("#"+a+"-tab");console.log(i),Xe.getOrCreateInstance(i).show(),window.scrollTo(0,1)}}[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(s=>new mn(s))});const Na="https://web-app-rn6h2lgzma-ey.a.run.app/api/v1",tm=t=>{let e;try{e=window[t];let n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}};async function As(t,e){Fe(t.id),re(!0);const n=p.get("VorgabenGeld");Object.setPrototypeOf(n,{getMonat:function(c){let r=this[1];const d=Object.keys(this).map(Number);if(d.length>1&&c>1&&Math.max(...d.filter(o=>o<=c))>1)for(let o=2;o<=c;o++)typeof this[o]<"u"&&(r={...r,...this[o]});return r}});const s=+document.getElementById("Monat").value,a=+document.getElementById("Jahr").value;let i={VorgabenU:p.get("VorgabenU"),VorgabenGeld:n.getMonat(s),Daten:{},Monat:s,Jahr:a};switch(e){case"B":i.Daten.BZ=te("tableBZ"),i.Daten.BE=te("tableBE");break;case"E":i.Daten.EWT=te("tableE");break;case"N":i.Daten.N=te("tableN");break}try{console.time("download");const c=await Ae(`download/${e}`,i,"POST");if(c.statusCode!=200){console.timeEnd("download"),console.log("Fehler",c.message),U({message:`Download fehlerhaft:<br/>${c.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}l(`data:application/pdf;base64,${encodeURIComponent(c.data.data)}`,c.data.name),console.timeEnd("download")}catch(c){console.log(c);return}finally{re(!1),ee(t.id)}function l(c,r){let d=document.createElement("a");d.download=r,d.href=c,d.click()}}async function gn(t,e=""){Fe(t.id),re(!0);try{switch(e){case"B":F("tableBZ"),F("tableBE");break;case"E":F("tableE");break;case"N":F("tableN");break;case"Einstellungen":wa();break;default:F("tableBZ"),F("tableBE"),F("tableE"),F("tableN"),wa();break}const n={BZ:p.get("dataBZ"),BE:p.get("dataBE"),E:p.get("dataE"),N:p.get("dataN"),User:p.get("VorgabenU"),Monat:p.get("Monat"),Jahr:p.get("Jahr")},s=await Ae("saveData",n,"POST");if(s.statusCode!=200){console.log("Fehler",s.message);let d=JSON.parse(s.message);U({message:"Speichern<br/>Es ist ein Fehler aufgetreten:"+d.map(o=>`<br/>- ${o}`),status:"error",timeout:3e3,position:"br",fixed:!0});return}const a=s.data;console.log(a);let i,l,c,r;switch(e){case"B":i=document.getElementById("tableBZ").instance,console.log("save ",{ftBZ:i}),i.rows.load(ke(a.daten.datenBZ)),l=document.getElementById("tableBE").instance,console.log("save ",{ftBE:l}),l.rows.load(pt(a.daten.datenBE)),F("tableBZ",i),F("tableBE",l),p.set("VorgabenU",a.user),p.set("datenBerechnung",a.datenBerechnung);break;case"E":c=document.getElementById("tableE").instance,console.log("save ",{ftE:c}),c.rows.load(Qe(a.daten.datenE)),F("tableE",c),p.set("VorgabenU",a.user),p.set("datenBerechnung",a.datenBerechnung);break;case"N":r=document.getElementById("tableN").instance,console.log("save ",{ftN:r}),r.rows.load(gt(a.daten.datenN)),F("tableN",r),p.set("VorgabenU",a.user),p.set("datenBerechnung",a.datenBerechnung);break;case"Einstellungen":Lt(a.user),p.set("VorgabenU",a.user),p.set("datenBerechnung",a.datenBerechnung);break;default:Ts(a.datenBerechnung),i=document.getElementById("tableBZ").instance,console.log("save ",{ftBZ:i}),i.rows.load(ke(a.daten.datenBZ)),l=document.getElementById("tableBE").instance,console.log("save ",{ftBE:l}),l.rows.load(pt(a.daten.datenBE)),c=document.getElementById("tableE").instance,console.log("save ",{ftE:c}),c.rows.load(Qe(a.daten.datenE)),r=document.getElementById("tableN").instance,console.log("save ",{ftN:r}),r.rows.load(gt(a.daten.datenN)),F("tableBZ",i),F("tableBE",l),F("tableE",c),F("tableN",r),Lt(a.user),p.set("VorgabenU",a.user),p.set("datenBerechnung",a.datenBerechnung);break}console.log("Erfolgreich gespeichert"),U({message:"Speichern<br/>Daten gespeichert",status:"success",timeout:3e3,position:"br",fixed:!0})}catch(n){console.log(n);return}finally{ee(t.id),re(!1)}}function F(t,e){let n;switch(t){case"tableBZ":n=te("tableBZ",e),p.set("dataBZ",n);break;case"tableBE":n=te("tableBE",e),p.set("dataBE",n);break;case"tableE":n=te("tableE",e),p.set("dataE",n);break;case"tableN":n=te("tableN",e),p.set("dataN",n);break;case"tableVE":n=p.get("VorgabenU"),n.vorgabenB=Object.fromEntries(te("tableVE",e).entries()),p.set("VorgabenU",n)}}function te(t,e){return e||(e=document.getElementById(t).instance),e.getRows().map(n=>n.cells)}function xe(t,e){return()=>{const n=document.createElement("div");n.className="modal-footer";const s=document.createElement("button");s.type="Submit",s.className="btn btn-primary",s.arialabel=e??"Hinzufügen",s.innerHTML=e??"Hinzufügen",n.appendChild(s),t&&t.forEach(i=>n.appendChild(i));const a=document.createElement("button");return a.type="button",a.className="btn btn-secondary",s.arialabel="Abbrechen",a.dataset.bsDismiss="modal",a.textContent="Abbrechen",n.appendChild(a),n}}function En(){const t=document.createElement("div");t.className="modal-footer";const e=document.createElement("button");e.type="button",e.className="btn btn-primary",e.arialabel="editieren",e.dataset.bsDismiss="modal",e.innerHTML="Bearbeiten",e.addEventListener("click",a=>{const i=a.target.closest(".modal").row;i.CustomTable.options.editing.editRow(i)}),t.appendChild(e);const n=document.createElement("button");n.type="button",n.className="btn btn-danger",n.arialabel="löschen",n.dataset.bsDismiss="modal",n.innerHTML="Löschen",n.addEventListener("click",a=>{const i=a.target.closest(".modal").row;i.CustomTable.options.editing.deleteRow(i)}),t.appendChild(n);const s=document.createElement("button");return s.type="button",s.className="btn btn-secondary",s.arialabel="Schließen",s.dataset.bsDismiss="modal",s.textContent="Schließen",t.appendChild(s),t}function Ke(t){const e=document.createElement("div");e.className=t.divClass??"mb-1 row";const n=document.createElement("label");n.className=t.labelClass??"col-3 col-form-label text-wrap fw-bold",n.setAttribute("for",t.name),n.textContent=t.title,e.appendChild(n);const s=document.createElement("span");return s.className=t.spanClass??"col-9 align-middle text-break my-auto",s.id=t.name,s.innerHTML=t.text??"&nbsp;",e.appendChild(s),e}function V(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("input");n.type=t.type,n.className="form-control validate",n.id=t.name,n.name=t.title,n.value=t.value,t.required&&(n.required=!0),t.disabled&&(n.disabled=!0),t.min!=null&&(n.min=t.min),t.max!=null&&(n.max=t.max),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function pe(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("select");n.className="form-select validate",n.id=t.name,t.required&&(n.required=!0),t.options.forEach(a=>{const i=document.createElement("option");i.value=a.value,i.textContent=a.text,a.disabled&&(i.disabled=!0),a.selected&&!t.value&&(i.selected=!0),+i.value===t.value&&(i.selected=!0),n.appendChild(i)}),t.value&&(n.value=t.value),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-label",s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function et(t){const e=document.createElement("div");e.className=t.checkClass;const n=document.createElement("input");n.type="checkbox",n.className="form-check-input",n.id=t.id,t.status&&(n.checked=!0),t.disabled&&(n.disabled=!0),t.eventListener!=null&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-check-label",s.htmlFor=t.id,s.innerHTML=t.text,e.appendChild(s),e}function Oi(){let t=document.createElement("div");return t.className="w-100",t}function be(t){const e=document.createElement("h4");return e.className="text-center mb-1",e.innerHTML=t,e}function Be(t,e){const n=document.createElement("span");return n.className=t,n.textContent=e,n}function ue(t,e,n,s,a,i){const l=document.querySelector("#modal");l.innerHTML="",delete l.row,l.role="document";const c=document.createElement("div");c.className="modal-dialog",n&&c.classList.add(`modal-${n}`);const r=e?document.createElement("form"):document.createElement("div");return e&&i&&r.addEventListener("submit",i()),r.className="modal-content",r.appendChild(d(t)),r.appendChild(s()),r.appendChild(a()),c.appendChild(r),l.appendChild(c),{modal:l,form:r};function d(o){const u=document.createElement("div");u.className="modal-header";const m=document.createElement("h5");m.className="modal-title",m.textContent=o,u.appendChild(m);const h=document.createElement("button");return h.type="button",h.className="btn-close",h.dataset.bsDismiss="modal",h.arialabel="Schließen",u.appendChild(h),u}}function ns(t){document.querySelector("#btnAuswaehlen").disabled=t,document.querySelector("#btnChange").disabled=t,document.querySelector("#btnPasswortAEndern").disabled=t,document.querySelectorAll("[id^='btnSave']").forEach(e=>e.disabled=t),document.querySelectorAll("[id^='btnDownload']").forEach(e=>e.disabled=t)}function re(t){for(const e of document.querySelectorAll("[data-disabler]"))e.disabled=t;console.log(`Button disabled: ${t}`)}function Fe(t){t=document.getElementById(t),t.dataset.normaltext||(t.dataset.normaltext=t.innerHTML),t.dataset.loadingtext||(t.dataset.loadingtext="<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),t.setAttribute("disabled",!0),t.innerHTML=t.dataset.loadingtext}function ee(t){t=document.getElementById(t),t.innerHTML=t.dataset.normaltext,t.disabled=!1}function Ri(t){t.sort((e,n)=>{const s=e[0],a=n[0];return s<a?s==a?0:-1:s==a?0:1})}let xn=0,ss,as;Yi();function Yi(){ss=new AbortController,as=ss.signal}async function Ae(t,e,n="GET",s=0,a=p.get("accessToken")){if(s>2)throw Error("Zu viele Tokenfehler");const i=+sessionStorage.getItem("lastServerContact");if(!i||i-Date.now()+5*60*1e3<0){let o=U({message:"Serververbindung wird aufgebaut. Bitte warten.",dismissible:!1,status:"info",timeout:!1,position:"br",fixed:!0});try{console.time("Serververbindung herstellen"),await fetch(`${Na}/`,{method:"GET",signal:as}),console.timeEnd("Serververbindung herstellen"),sessionStorage.setItem("lastServerContact",Date.now().toString())}catch{U({message:"Server nicht Erreichbar",status:"error",position:"br",fixed:!0})}finally{o.Close()}}let l=n==="GET"?{}:{"Content-Type":"application/json"};a&&((!e||e&&!e.refreshToken)&&(a=await nm(a)),l.Authorization=`Bearer ${a}`);const c={mode:"cors",headers:l,method:n,signal:as,cache:"no-cache"};e&&(c.body=JSON.stringify(e));const r=await fetch(`${Na}/${t}`,c),d=await r.json();return r.status==401&&d.message=="Token abgelaufen"?(a=await Pi(s,void 0,a),await Ae(t,e,n,s+1,a)):(d.statusCode=r.status,d)}async function nm(t=p.get("accessToken")){const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(n).split("").map(function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join("")),i=JSON.parse(s).exp*1e3,l=new Date;return i<l.getTime()?await Pi():t}async function Pi(t,e=p.get("refreshToken"),n=p.get("accessToken")){if(!e||!n||xn>2)throw xn=0,nn(),U({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Fehler bei Token erneuerung");const s=await Ae("refreshToken",{refreshToken:e},"POST",t,n);if(console.log(s),s.statusCode===200){xn++;let{accessToken:a,refreshToken:i}=s.data;return console.log({accessToken:a,refreshToken:i}),p.set("accessToken",a),p.set("refreshToken",i),a}else throw nn(),U({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Fehler bei Token erneuerung")}function bn(t){return typeof t=="object"&&!Array.isArray(t)&&Object.prototype.toString.call(t)==="[object Object]"}
//# sourceMappingURL=index-bfef9b84.js.map
