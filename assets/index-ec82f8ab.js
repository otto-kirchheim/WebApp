var Fr=Object.defineProperty;var qr=(t,e,n)=>e in t?Fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vn=(t,e,n)=>(qr(t,typeof e!="symbol"?e+"":e,n),n),zr=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Yt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var _t=(t,e,n)=>(zr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();var ee="top",le="bottom",ce="right",te="left",an="auto",pt=[ee,le,ce,te],Je="start",lt="end",Ca="clippingParents",ns="viewport",at="popper",Da="reference",$n=pt.reduce(function(t,e){return t.concat([e+"-"+Je,e+"-"+lt])},[]),ss=[].concat(pt,[an]).reduce(function(t,e){return t.concat([e,e+"-"+Je,e+"-"+lt])},[]),Ba="beforeRead",Ma="read",Ia="afterRead",La="beforeMain",Oa="main",$a="afterMain",ka="beforeWrite",xa="write",Ra="afterWrite",Ya=[Ba,Ma,Ia,La,Oa,$a,ka,xa,Ra];function Se(t){return t?(t.nodeName||"").toLowerCase():null}function fe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ke(t){var e=fe(t).Element;return t instanceof e||t instanceof Element}function ue(t){var e=fe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function as(t){if(typeof ShadowRoot>"u")return!1;var e=fe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ur(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},a=e.attributes[n]||{},r=e.elements[n];!ue(r)||!Se(r)||(Object.assign(r.style,s),Object.keys(a).forEach(function(o){var l=a[o];l===!1?r.removeAttribute(o):r.setAttribute(o,l===!0?"":l)}))})}function jr(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var a=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=o.reduce(function(i,d){return i[d]="",i},{});!ue(a)||!Se(a)||(Object.assign(a.style,l),Object.keys(r).forEach(function(i){a.removeAttribute(i)}))})}}const rs={name:"applyStyles",enabled:!0,phase:"write",fn:Ur,effect:jr,requires:["computeStyles"]};function ye(t){return t.split("-")[0]}var Ze=Math.max,Jt=Math.min,ct=Math.round;function kn(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Pa(){return!/^((?!chrome|android).)*safari/i.test(kn())}function dt(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),a=1,r=1;e&&ue(t)&&(a=t.offsetWidth>0&&ct(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&ct(s.height)/t.offsetHeight||1);var o=Ke(t)?fe(t):window,l=o.visualViewport,i=!Pa()&&n,d=(s.left+(i&&l?l.offsetLeft:0))/a,c=(s.top+(i&&l?l.offsetTop:0))/r,u=s.width/a,m=s.height/r;return{width:u,height:m,top:c,right:d+u,bottom:c+m,left:d,x:d,y:c}}function is(t){var e=dt(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function Ha(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&as(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Me(t){return fe(t).getComputedStyle(t)}function Zr(t){return["table","td","th"].indexOf(Se(t))>=0}function Pe(t){return((Ke(t)?t.ownerDocument:t.document)||window.document).documentElement}function rn(t){return Se(t)==="html"?t:t.assignedSlot||t.parentNode||(as(t)?t.host:null)||Pe(t)}function Os(t){return!ue(t)||Me(t).position==="fixed"?null:t.offsetParent}function Jr(t){var e=/firefox/i.test(kn()),n=/Trident/i.test(kn());if(n&&ue(t)){var s=Me(t);if(s.position==="fixed")return null}var a=rn(t);for(as(a)&&(a=a.host);ue(a)&&["html","body"].indexOf(Se(a))<0;){var r=Me(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function It(t){for(var e=fe(t),n=Os(t);n&&Zr(n)&&Me(n).position==="static";)n=Os(n);return n&&(Se(n)==="html"||Se(n)==="body"&&Me(n).position==="static")?e:n||Jr(t)||e}function os(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function At(t,e,n){return Ze(t,Jt(e,n))}function Kr(t,e,n){var s=At(t,e,n);return s>n?n:s}function Wa(){return{top:0,right:0,bottom:0,left:0}}function Va(t){return Object.assign({},Wa(),t)}function Fa(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var Gr=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Va(typeof e!="number"?e:Fa(e,pt))};function Xr(t){var e,n=t.state,s=t.name,a=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,l=ye(n.placement),i=os(l),d=[te,ce].indexOf(l)>=0,c=d?"height":"width";if(!(!r||!o)){var u=Gr(a.padding,n),m=is(r),h=i==="y"?ee:te,p=i==="y"?le:ce,f=n.rects.reference[c]+n.rects.reference[i]-o[i]-n.rects.popper[c],g=o[i]-n.rects.reference[i],C=It(r),M=C?i==="y"?C.clientHeight||0:C.clientWidth||0:0,I=f/2-g/2,D=u[h],B=M-m[c]-u[p],v=M/2-m[c]/2+I,w=At(D,v,B),O=i;n.modifiersData[s]=(e={},e[O]=w,e.centerOffset=w-v,e)}}function Qr(t){var e=t.state,n=t.options,s=n.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||Ha(e.elements.popper,a)&&(e.elements.arrow=a))}const qa={name:"arrow",enabled:!0,phase:"main",fn:Xr,effect:Qr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ut(t){return t.split("-")[1]}var ei={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ti(t){var e=t.x,n=t.y,s=window,a=s.devicePixelRatio||1;return{x:ct(e*a)/a||0,y:ct(n*a)/a||0}}function $s(t){var e,n=t.popper,s=t.popperRect,a=t.placement,r=t.variation,o=t.offsets,l=t.position,i=t.gpuAcceleration,d=t.adaptive,c=t.roundOffsets,u=t.isFixed,m=o.x,h=m===void 0?0:m,p=o.y,f=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:f}):{x:h,y:f};h=g.x,f=g.y;var C=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),I=te,D=ee,B=window;if(d){var v=It(n),w="clientHeight",O="clientWidth";if(v===fe(n)&&(v=Pe(n),Me(v).position!=="static"&&l==="absolute"&&(w="scrollHeight",O="scrollWidth")),v=v,a===ee||(a===te||a===ce)&&r===lt){D=le;var _=u&&v===B&&B.visualViewport?B.visualViewport.height:v[w];f-=_-s.height,f*=i?1:-1}if(a===te||(a===ee||a===le)&&r===lt){I=ce;var b=u&&v===B&&B.visualViewport?B.visualViewport.width:v[O];h-=b-s.width,h*=i?1:-1}}var x=Object.assign({position:l},d&&ei),R=c===!0?ti({x:h,y:f}):{x:h,y:f};if(h=R.x,f=R.y,i){var A;return Object.assign({},x,(A={},A[D]=M?"0":"",A[I]=C?"0":"",A.transform=(B.devicePixelRatio||1)<=1?"translate("+h+"px, "+f+"px)":"translate3d("+h+"px, "+f+"px, 0)",A))}return Object.assign({},x,(e={},e[D]=M?f+"px":"",e[I]=C?h+"px":"",e.transform="",e))}function ni(t){var e=t.state,n=t.options,s=n.gpuAcceleration,a=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,l=n.roundOffsets,i=l===void 0?!0:l,d={placement:ye(e.placement),variation:ut(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$s(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:i})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$s(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ls={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ni,data:{}};var Pt={passive:!0};function si(t){var e=t.state,n=t.instance,s=t.options,a=s.scroll,r=a===void 0?!0:a,o=s.resize,l=o===void 0?!0:o,i=fe(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&d.forEach(function(c){c.addEventListener("scroll",n.update,Pt)}),l&&i.addEventListener("resize",n.update,Pt),function(){r&&d.forEach(function(c){c.removeEventListener("scroll",n.update,Pt)}),l&&i.removeEventListener("resize",n.update,Pt)}}const cs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:si,data:{}};var ai={left:"right",right:"left",bottom:"top",top:"bottom"};function Ut(t){return t.replace(/left|right|bottom|top/g,function(e){return ai[e]})}var ri={start:"end",end:"start"};function ks(t){return t.replace(/start|end/g,function(e){return ri[e]})}function ds(t){var e=fe(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function us(t){return dt(Pe(t)).left+ds(t).scrollLeft}function ii(t,e){var n=fe(t),s=Pe(t),a=n.visualViewport,r=s.clientWidth,o=s.clientHeight,l=0,i=0;if(a){r=a.width,o=a.height;var d=Pa();(d||!d&&e==="fixed")&&(l=a.offsetLeft,i=a.offsetTop)}return{width:r,height:o,x:l+us(t),y:i}}function oi(t){var e,n=Pe(t),s=ds(t),a=(e=t.ownerDocument)==null?void 0:e.body,r=Ze(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Ze(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-s.scrollLeft+us(t),i=-s.scrollTop;return Me(a||n).direction==="rtl"&&(l+=Ze(n.clientWidth,a?a.clientWidth:0)-r),{width:r,height:o,x:l,y:i}}function ms(t){var e=Me(t),n=e.overflow,s=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+s)}function za(t){return["html","body","#document"].indexOf(Se(t))>=0?t.ownerDocument.body:ue(t)&&ms(t)?t:za(rn(t))}function Nt(t,e){var n;e===void 0&&(e=[]);var s=za(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),r=fe(s),o=a?[r].concat(r.visualViewport||[],ms(s)?s:[]):s,l=e.concat(o);return a?l:l.concat(Nt(rn(o)))}function xn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function li(t,e){var n=dt(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xs(t,e,n){return e===ns?xn(ii(t,n)):Ke(e)?li(e,n):xn(oi(Pe(t)))}function ci(t){var e=Nt(rn(t)),n=["absolute","fixed"].indexOf(Me(t).position)>=0,s=n&&ue(t)?It(t):t;return Ke(s)?e.filter(function(a){return Ke(a)&&Ha(a,s)&&Se(a)!=="body"}):[]}function di(t,e,n,s){var a=e==="clippingParents"?ci(t):[].concat(e),r=[].concat(a,[n]),o=r[0],l=r.reduce(function(i,d){var c=xs(t,d,s);return i.top=Ze(c.top,i.top),i.right=Jt(c.right,i.right),i.bottom=Jt(c.bottom,i.bottom),i.left=Ze(c.left,i.left),i},xs(t,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ua(t){var e=t.reference,n=t.element,s=t.placement,a=s?ye(s):null,r=s?ut(s):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,i;switch(a){case ee:i={x:o,y:e.y-n.height};break;case le:i={x:o,y:e.y+e.height};break;case ce:i={x:e.x+e.width,y:l};break;case te:i={x:e.x-n.width,y:l};break;default:i={x:e.x,y:e.y}}var d=a?os(a):null;if(d!=null){var c=d==="y"?"height":"width";switch(r){case Je:i[d]=i[d]-(e[c]/2-n[c]/2);break;case lt:i[d]=i[d]+(e[c]/2-n[c]/2);break}}return i}function mt(t,e){e===void 0&&(e={});var n=e,s=n.placement,a=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,l=n.boundary,i=l===void 0?Ca:l,d=n.rootBoundary,c=d===void 0?ns:d,u=n.elementContext,m=u===void 0?at:u,h=n.altBoundary,p=h===void 0?!1:h,f=n.padding,g=f===void 0?0:f,C=Va(typeof g!="number"?g:Fa(g,pt)),M=m===at?Da:at,I=t.rects.popper,D=t.elements[p?M:m],B=di(Ke(D)?D:D.contextElement||Pe(t.elements.popper),i,c,o),v=dt(t.elements.reference),w=Ua({reference:v,element:I,strategy:"absolute",placement:a}),O=xn(Object.assign({},I,w)),_=m===at?O:v,b={top:B.top-_.top+C.top,bottom:_.bottom-B.bottom+C.bottom,left:B.left-_.left+C.left,right:_.right-B.right+C.right},x=t.modifiersData.offset;if(m===at&&x){var R=x[a];Object.keys(b).forEach(function(A){var S=[ce,le].indexOf(A)>=0?1:-1,T=[ee,le].indexOf(A)>=0?"y":"x";b[A]+=R[T]*S})}return b}function ui(t,e){e===void 0&&(e={});var n=e,s=n.placement,a=n.boundary,r=n.rootBoundary,o=n.padding,l=n.flipVariations,i=n.allowedAutoPlacements,d=i===void 0?ss:i,c=ut(s),u=c?l?$n:$n.filter(function(p){return ut(p)===c}):pt,m=u.filter(function(p){return d.indexOf(p)>=0});m.length===0&&(m=u);var h=m.reduce(function(p,f){return p[f]=mt(t,{placement:f,boundary:a,rootBoundary:r,padding:o})[ye(f)],p},{});return Object.keys(h).sort(function(p,f){return h[p]-h[f]})}function mi(t){if(ye(t)===an)return[];var e=Ut(t);return[ks(t),e,ks(e)]}function fi(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var a=n.mainAxis,r=a===void 0?!0:a,o=n.altAxis,l=o===void 0?!0:o,i=n.fallbackPlacements,d=n.padding,c=n.boundary,u=n.rootBoundary,m=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,f=n.allowedAutoPlacements,g=e.options.placement,C=ye(g),M=C===g,I=i||(M||!p?[Ut(g)]:mi(g)),D=[g].concat(I).reduce(function(j,K){return j.concat(ye(K)===an?ui(e,{placement:K,boundary:c,rootBoundary:u,padding:d,flipVariations:p,allowedAutoPlacements:f}):K)},[]),B=e.rects.reference,v=e.rects.popper,w=new Map,O=!0,_=D[0],b=0;b<D.length;b++){var x=D[b],R=ye(x),A=ut(x)===Je,S=[ee,le].indexOf(R)>=0,T=S?"width":"height",$=mt(e,{placement:x,boundary:c,rootBoundary:u,altBoundary:m,padding:d}),E=S?A?ce:te:A?le:ee;B[T]>v[T]&&(E=Ut(E));var k=Ut(E),L=[];if(r&&L.push($[R]<=0),l&&L.push($[E]<=0,$[k]<=0),L.every(function(j){return j})){_=x,O=!1;break}w.set(x,L)}if(O)for(var Y=p?3:1,F=function(K){var ae=D.find(function(re){var G=w.get(re);if(G)return G.slice(0,K).every(function(Z){return Z})});if(ae)return _=ae,"break"},q=Y;q>0;q--){var W=F(q);if(W==="break")break}e.placement!==_&&(e.modifiersData[s]._skip=!0,e.placement=_,e.reset=!0)}}const ja={name:"flip",enabled:!0,phase:"main",fn:fi,requiresIfExists:["offset"],data:{_skip:!1}};function Rs(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ys(t){return[ee,ce,le,te].some(function(e){return t[e]>=0})}function hi(t){var e=t.state,n=t.name,s=e.rects.reference,a=e.rects.popper,r=e.modifiersData.preventOverflow,o=mt(e,{elementContext:"reference"}),l=mt(e,{altBoundary:!0}),i=Rs(o,s),d=Rs(l,a,r),c=Ys(i),u=Ys(d);e.modifiersData[n]={referenceClippingOffsets:i,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}const Za={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hi};function pi(t,e,n){var s=ye(t),a=[te,ee].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],l=r[1];return o=o||0,l=(l||0)*a,[te,ce].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function gi(t){var e=t.state,n=t.options,s=t.name,a=n.offset,r=a===void 0?[0,0]:a,o=ss.reduce(function(c,u){return c[u]=pi(u,e.rects,r),c},{}),l=o[e.placement],i=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=i,e.modifiersData.popperOffsets.y+=d),e.modifiersData[s]=o}const Ja={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gi};function Ei(t){var e=t.state,n=t.name;e.modifiersData[n]=Ua({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const fs={name:"popperOffsets",enabled:!0,phase:"read",fn:Ei,data:{}};function bi(t){return t==="x"?"y":"x"}function vi(t){var e=t.state,n=t.options,s=t.name,a=n.mainAxis,r=a===void 0?!0:a,o=n.altAxis,l=o===void 0?!1:o,i=n.boundary,d=n.rootBoundary,c=n.altBoundary,u=n.padding,m=n.tether,h=m===void 0?!0:m,p=n.tetherOffset,f=p===void 0?0:p,g=mt(e,{boundary:i,rootBoundary:d,padding:u,altBoundary:c}),C=ye(e.placement),M=ut(e.placement),I=!M,D=os(C),B=bi(D),v=e.modifiersData.popperOffsets,w=e.rects.reference,O=e.rects.popper,_=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,b=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(v){if(r){var A,S=D==="y"?ee:te,T=D==="y"?le:ce,$=D==="y"?"height":"width",E=v[D],k=E+g[S],L=E-g[T],Y=h?-O[$]/2:0,F=M===Je?w[$]:O[$],q=M===Je?-O[$]:-w[$],W=e.elements.arrow,j=h&&W?is(W):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Wa(),ae=K[S],re=K[T],G=At(0,w[$],j[$]),Z=I?w[$]/2-Y-G-ae-b.mainAxis:F-G-ae-b.mainAxis,ne=I?-w[$]/2+Y+G+re+b.mainAxis:q+G+re+b.mainAxis,de=e.elements.arrow&&It(e.elements.arrow),ve=de?D==="y"?de.clientTop||0:de.clientLeft||0:0,tt=(A=x==null?void 0:x[D])!=null?A:0,vt=E+Z-tt-ve,yt=E+ne-tt,En=At(h?Jt(k,vt):k,E,h?Ze(L,yt):L);v[D]=En,R[D]=En-E}if(l){var Ns,Wr=D==="x"?ee:te,Vr=D==="x"?le:ce,qe=v[B],Rt=B==="y"?"height":"width",Cs=qe+g[Wr],Ds=qe-g[Vr],bn=[ee,te].indexOf(C)!==-1,Bs=(Ns=x==null?void 0:x[B])!=null?Ns:0,Ms=bn?Cs:qe-w[Rt]-O[Rt]-Bs+b.altAxis,Is=bn?qe+w[Rt]+O[Rt]-Bs-b.altAxis:Ds,Ls=h&&bn?Kr(Ms,qe,Is):At(h?Ms:Cs,qe,h?Is:Ds);v[B]=Ls,R[B]=Ls-qe}e.modifiersData[s]=R}}const Ka={name:"preventOverflow",enabled:!0,phase:"main",fn:vi,requiresIfExists:["offset"]};function yi(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function _i(t){return t===fe(t)||!ue(t)?ds(t):yi(t)}function Si(t){var e=t.getBoundingClientRect(),n=ct(e.width)/t.offsetWidth||1,s=ct(e.height)/t.offsetHeight||1;return n!==1||s!==1}function Ti(t,e,n){n===void 0&&(n=!1);var s=ue(e),a=ue(e)&&Si(e),r=Pe(e),o=dt(t,a,n),l={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(s||!s&&!n)&&((Se(e)!=="body"||ms(r))&&(l=_i(e)),ue(e)?(i=dt(e,!0),i.x+=e.clientLeft,i.y+=e.clientTop):r&&(i.x=us(r))),{x:o.left+l.scrollLeft-i.x,y:o.top+l.scrollTop-i.y,width:o.width,height:o.height}}function wi(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function a(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var i=e.get(l);i&&a(i)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||a(r)}),s}function Ai(t){var e=wi(t);return Ya.reduce(function(n,s){return n.concat(e.filter(function(a){return a.phase===s}))},[])}function Ni(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ci(t){var e=t.reduce(function(n,s){var a=n[s.name];return n[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ps={placement:"bottom",modifiers:[],strategy:"absolute"};function Hs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function on(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,a=e.defaultOptions,r=a===void 0?Ps:a;return function(l,i,d){d===void 0&&(d=r);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ps,r),modifiersData:{},elements:{reference:l,popper:i},attributes:{},styles:{}},u=[],m=!1,h={state:c,setOptions:function(C){var M=typeof C=="function"?C(c.options):C;f(),c.options=Object.assign({},r,c.options,M),c.scrollParents={reference:Ke(l)?Nt(l):l.contextElement?Nt(l.contextElement):[],popper:Nt(i)};var I=Ai(Ci([].concat(s,c.options.modifiers)));return c.orderedModifiers=I.filter(function(D){return D.enabled}),p(),h.update()},forceUpdate:function(){if(!m){var C=c.elements,M=C.reference,I=C.popper;if(Hs(M,I)){c.rects={reference:Ti(M,It(I),c.options.strategy==="fixed"),popper:is(I)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(b){return c.modifiersData[b.name]=Object.assign({},b.data)});for(var D=0;D<c.orderedModifiers.length;D++){if(c.reset===!0){c.reset=!1,D=-1;continue}var B=c.orderedModifiers[D],v=B.fn,w=B.options,O=w===void 0?{}:w,_=B.name;typeof v=="function"&&(c=v({state:c,options:O,name:_,instance:h})||c)}}}},update:Ni(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){f(),m=!0}};if(!Hs(l,i))return h;h.setOptions(d).then(function(g){!m&&d.onFirstUpdate&&d.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var C=g.name,M=g.options,I=M===void 0?{}:M,D=g.effect;if(typeof D=="function"){var B=D({state:c,name:C,instance:h,options:I}),v=function(){};u.push(B||v)}})}function f(){u.forEach(function(g){return g()}),u=[]}return h}}var Di=on(),Bi=[cs,fs,ls,rs],Mi=on({defaultModifiers:Bi}),Ii=[cs,fs,ls,rs,Ja,ja,Ka,qa,Za],hs=on({defaultModifiers:Ii});const Ga=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$a,afterRead:Ia,afterWrite:Ra,applyStyles:rs,arrow:qa,auto:an,basePlacements:pt,beforeMain:La,beforeRead:Ba,beforeWrite:ka,bottom:le,clippingParents:Ca,computeStyles:ls,createPopper:hs,createPopperBase:Di,createPopperLite:Mi,detectOverflow:mt,end:lt,eventListeners:cs,flip:ja,hide:Za,left:te,main:Oa,modifierPhases:Ya,offset:Ja,placements:ss,popper:at,popperGenerator:on,popperOffsets:fs,preventOverflow:Ka,read:Ma,reference:Da,right:ce,start:Je,top:ee,variationPlacements:$n,viewport:ns,write:xa},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Li=1e6,Oi=1e3,Rn="transitionend",$i=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),ki=t=>{do t+=Math.floor(Math.random()*Li);while(document.getElementById(t));return t},Xa=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},Qa=t=>{const e=Xa(t);return e&&document.querySelector(e)?e:null},Ce=t=>{const e=Xa(t);return e?document.querySelector(e):null},xi=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),a=Number.parseFloat(n);return!s&&!a?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Oi)},er=t=>{t.dispatchEvent(new Event(Rn))},De=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),xe=t=>De(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,gt=t=>{if(!De(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},Re=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",tr=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?tr(t.parentNode):null},Kt=()=>{},Lt=t=>{t.offsetHeight},nr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,yn=[],Ri=t=>{document.readyState==="loading"?(yn.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of yn)e()}),yn.push(t)):t()},me=()=>document.documentElement.dir==="rtl",he=t=>{Ri(()=>{const e=nr();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Ae=t=>{typeof t=="function"&&t()},sr=(t,e,n=!0)=>{if(!n){Ae(t);return}const s=5,a=xi(e)+s;let r=!1;const o=({target:l})=>{l===e&&(r=!0,e.removeEventListener(Rn,o),Ae(t))};e.addEventListener(Rn,o),setTimeout(()=>{r||er(e)},a)},ps=(t,e,n,s)=>{const a=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[a-1]:t[0]:(r+=n?1:-1,s&&(r=(r+a)%a),t[Math.max(0,Math.min(r,a-1))])},Yi=/[^.]*(?=\..*)\.|.*/,Pi=/\..*/,Hi=/::\d+$/,_n={};let Ws=1;const ar={mouseenter:"mouseover",mouseleave:"mouseout"},Wi=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rr(t,e){return e&&`${e}::${Ws++}`||t.uidEvent||Ws++}function ir(t){const e=rr(t);return t.uidEvent=e,_n[e]=_n[e]||{},_n[e]}function Vi(t,e){return function n(s){return gs(s,{delegateTarget:t}),n.oneOff&&y.off(t,s.type,e),e.apply(t,[s])}}function Fi(t,e,n){return function s(a){const r=t.querySelectorAll(e);for(let{target:o}=a;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return gs(a,{delegateTarget:o}),s.oneOff&&y.off(t,a.type,e,n),n.apply(o,[a])}}function or(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function lr(t,e,n){const s=typeof e=="string",a=s?n:e||n;let r=cr(t);return Wi.has(r)||(r=t),[s,a,r]}function Vs(t,e,n,s,a){if(typeof e!="string"||!t)return;let[r,o,l]=lr(e,n,s);e in ar&&(o=(p=>function(f){if(!f.relatedTarget||f.relatedTarget!==f.delegateTarget&&!f.delegateTarget.contains(f.relatedTarget))return p.call(this,f)})(o));const i=ir(t),d=i[l]||(i[l]={}),c=or(d,o,r?n:null);if(c){c.oneOff=c.oneOff&&a;return}const u=rr(o,e.replace(Yi,"")),m=r?Fi(t,n,o):Vi(t,o);m.delegationSelector=r?n:null,m.callable=o,m.oneOff=a,m.uidEvent=u,d[u]=m,t.addEventListener(l,m,r)}function Yn(t,e,n,s,a){const r=or(e[n],s,a);r&&(t.removeEventListener(n,r,Boolean(a)),delete e[n][r.uidEvent])}function qi(t,e,n,s){const a=e[n]||{};for(const r of Object.keys(a))if(r.includes(s)){const o=a[r];Yn(t,e,n,o.callable,o.delegationSelector)}}function cr(t){return t=t.replace(Pi,""),ar[t]||t}const y={on(t,e,n,s){Vs(t,e,n,s,!1)},one(t,e,n,s){Vs(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[a,r,o]=lr(e,n,s),l=o!==e,i=ir(t),d=i[o]||{},c=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(d).length)return;Yn(t,i,o,r,a?n:null);return}if(c)for(const u of Object.keys(i))qi(t,i,u,e.slice(1));for(const u of Object.keys(d)){const m=u.replace(Hi,"");if(!l||e.includes(m)){const h=d[u];Yn(t,i,o,h.callable,h.delegationSelector)}}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=nr(),a=cr(e),r=e!==a;let o=null,l=!0,i=!0,d=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),l=!o.isPropagationStopped(),i=!o.isImmediatePropagationStopped(),d=o.isDefaultPrevented());let c=new Event(e,{bubbles:l,cancelable:!0});return c=gs(c,n),d&&c.preventDefault(),i&&t.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function gs(t,e){for(const[n,s]of Object.entries(e||{}))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}const $e=new Map,Sn={set(t,e,n){$e.has(t)||$e.set(t,new Map);const s=$e.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return $e.has(t)&&$e.get(t).get(e)||null},remove(t,e){if(!$e.has(t))return;const n=$e.get(t);n.delete(e),n.size===0&&$e.delete(t)}};function Fs(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Tn(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Be={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Tn(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Tn(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let a=s.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),e[a]=Fs(t.dataset[s])}return e},getDataAttribute(t,e){return Fs(t.getAttribute(`data-bs-${Tn(e)}`))}};class Ot{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=De(n)?Be.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...De(n)?Be.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const s of Object.keys(n)){const a=n[s],r=e[s],o=De(r)?"element":$i(r);if(!new RegExp(a).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${a}".`)}}}const zi="5.2.3";class ge extends Ot{constructor(e,n){super(),e=xe(e),e&&(this._element=e,this._config=this._getConfig(n),Sn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Sn.remove(this._element,this.constructor.DATA_KEY),y.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){sr(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Sn.get(xe(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return zi}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const ln=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;y.on(document,n,`[data-bs-dismiss="${s}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Re(this))return;const r=Ce(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},Ui="alert",ji="bs.alert",dr=`.${ji}`,Zi=`close${dr}`,Ji=`closed${dr}`,Ki="fade",Gi="show";class cn extends ge{static get NAME(){return Ui}close(){if(y.trigger(this._element,Zi).defaultPrevented)return;this._element.classList.remove(Gi);const n=this._element.classList.contains(Ki);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),y.trigger(this._element,Ji),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=cn.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}ln(cn,"close");he(cn);const Xi="button",Qi="bs.button",eo=`.${Qi}`,to=".data-api",no="active",qs='[data-bs-toggle="button"]',so=`click${eo}${to}`;class dn extends ge{static get NAME(){return Xi}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(no))}static jQueryInterface(e){return this.each(function(){const n=dn.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}y.on(document,so,qs,t=>{t.preventDefault();const e=t.target.closest(qs);dn.getOrCreateInstance(e).toggle()});he(dn);const P={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!Re(n)&&gt(n))}},ao="swipe",Et=".bs.swipe",ro=`touchstart${Et}`,io=`touchmove${Et}`,oo=`touchend${Et}`,lo=`pointerdown${Et}`,co=`pointerup${Et}`,uo="touch",mo="pen",fo="pointer-event",ho=40,po={endCallback:null,leftCallback:null,rightCallback:null},go={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Gt extends Ot{constructor(e,n){super(),this._element=e,!(!e||!Gt.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return po}static get DefaultType(){return go}static get NAME(){return ao}dispose(){y.off(this._element,Et)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ae(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ho)return;const n=e/this._deltaX;this._deltaX=0,n&&Ae(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(y.on(this._element,lo,e=>this._start(e)),y.on(this._element,co,e=>this._end(e)),this._element.classList.add(fo)):(y.on(this._element,ro,e=>this._start(e)),y.on(this._element,io,e=>this._move(e)),y.on(this._element,oo,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===mo||e.pointerType===uo)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Eo="carousel",bo="bs.carousel",He=`.${bo}`,ur=".data-api",vo="ArrowLeft",yo="ArrowRight",_o=500,St="next",nt="prev",rt="left",jt="right",So=`slide${He}`,wn=`slid${He}`,To=`keydown${He}`,wo=`mouseenter${He}`,Ao=`mouseleave${He}`,No=`dragstart${He}`,Co=`load${He}${ur}`,Do=`click${He}${ur}`,mr="carousel",Ht="active",Bo="slide",Mo="carousel-item-end",Io="carousel-item-start",Lo="carousel-item-next",Oo="carousel-item-prev",fr=".active",hr=".carousel-item",$o=fr+hr,ko=".carousel-item img",xo=".carousel-indicators",Ro="[data-bs-slide], [data-bs-slide-to]",Yo='[data-bs-ride="carousel"]',Po={[vo]:jt,[yo]:rt},Ho={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Wo={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $t extends ge{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne(xo,this._element),this._addEventListeners(),this._config.ride===mr&&this.cycle()}static get Default(){return Ho}static get DefaultType(){return Wo}static get NAME(){return Eo}next(){this._slide(St)}nextWhenVisible(){!document.hidden&&gt(this._element)&&this.next()}prev(){this._slide(nt)}pause(){this._isSliding&&er(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){y.one(this._element,wn,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){y.one(this._element,wn,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const a=e>s?St:nt;this._slide(a,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&y.on(this._element,To,e=>this._keydown(e)),this._config.pause==="hover"&&(y.on(this._element,wo,()=>this.pause()),y.on(this._element,Ao,()=>this._maybeEnableCycle())),this._config.touch&&Gt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of P.find(ko,this._element))y.on(s,No,a=>a.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(rt)),rightCallback:()=>this._slide(this._directionToOrder(jt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),_o+this._config.interval))}};this._swipeHelper=new Gt(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Po[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=P.findOne(fr,this._indicatorsElement);n.classList.remove(Ht),n.removeAttribute("aria-current");const s=P.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Ht),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),a=e===St,r=n||ps(this._getItems(),s,a,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),l=h=>y.trigger(this._element,h,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(l(So).defaultPrevented||!s||!r)return;const d=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const c=a?Io:Mo,u=a?Lo:Oo;r.classList.add(u),Lt(r),s.classList.add(c),r.classList.add(c);const m=()=>{r.classList.remove(c,u),r.classList.add(Ht),s.classList.remove(Ht,u,c),this._isSliding=!1,l(wn)};this._queueCallback(m,s,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(Bo)}_getActive(){return P.findOne($o,this._element)}_getItems(){return P.find(hr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return me()?e===rt?nt:St:e===rt?St:nt}_orderToDirection(e){return me()?e===nt?rt:jt:e===nt?jt:rt}static jQueryInterface(e){return this.each(function(){const n=$t.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}y.on(document,Do,Ro,function(t){const e=Ce(this);if(!e||!e.classList.contains(mr))return;t.preventDefault();const n=$t.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(Be.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});y.on(window,Co,()=>{const t=P.find(Yo);for(const e of t)$t.getOrCreateInstance(e)});he($t);const Vo="collapse",Fo="bs.collapse",kt=`.${Fo}`,qo=".data-api",zo=`show${kt}`,Uo=`shown${kt}`,jo=`hide${kt}`,Zo=`hidden${kt}`,Jo=`click${kt}${qo}`,An="show",ot="collapse",Wt="collapsing",Ko="collapsed",Go=`:scope .${ot} .${ot}`,Xo="collapse-horizontal",Qo="width",el="height",tl=".collapse.show, .collapse.collapsing",Pn='[data-bs-toggle="collapse"]',nl={parent:null,toggle:!0},sl={parent:"(null|element)",toggle:"boolean"};class Dt extends ge{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=P.find(Pn);for(const a of s){const r=Qa(a),o=P.find(r).filter(l=>l===this._element);r!==null&&o.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return nl}static get DefaultType(){return sl}static get NAME(){return Vo}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(tl).filter(l=>l!==this._element).map(l=>Dt.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||y.trigger(this._element,zo).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(ot),this._element.classList.add(Wt),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Wt),this._element.classList.add(ot,An),this._element.style[s]="",y.trigger(this._element,Uo)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||y.trigger(this._element,jo).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Lt(this._element),this._element.classList.add(Wt),this._element.classList.remove(ot,An);for(const a of this._triggerArray){const r=Ce(a);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Wt),this._element.classList.add(ot),y.trigger(this._element,Zo)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(An)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=xe(e.parent),e}_getDimension(){return this._element.classList.contains(Xo)?Qo:el}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Pn);for(const n of e){const s=Ce(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=P.find(Go,this._config.parent);return P.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(Ko,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Dt.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}y.on(document,Jo,Pn,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=Qa(this),n=P.find(e);for(const s of n)Dt.getOrCreateInstance(s,{toggle:!1}).toggle()});he(Dt);const zs="dropdown",al="bs.dropdown",Qe=`.${al}`,Es=".data-api",rl="Escape",Us="Tab",il="ArrowUp",js="ArrowDown",ol=2,ll=`hide${Qe}`,cl=`hidden${Qe}`,dl=`show${Qe}`,ul=`shown${Qe}`,pr=`click${Qe}${Es}`,gr=`keydown${Qe}${Es}`,ml=`keyup${Qe}${Es}`,it="show",fl="dropup",hl="dropend",pl="dropstart",gl="dropup-center",El="dropdown-center",Ue='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',bl=`${Ue}.${it}`,Zt=".dropdown-menu",vl=".navbar",yl=".navbar-nav",_l=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Sl=me()?"top-end":"top-start",Tl=me()?"top-start":"top-end",wl=me()?"bottom-end":"bottom-start",Al=me()?"bottom-start":"bottom-end",Nl=me()?"left-start":"right-start",Cl=me()?"right-start":"left-start",Dl="top",Bl="bottom",Ml={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Il={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class _e extends ge{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,Zt)[0]||P.prev(this._element,Zt)[0]||P.findOne(Zt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ml}static get DefaultType(){return Il}static get NAME(){return zs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Re(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!y.trigger(this._element,dl,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(yl))for(const s of[].concat(...document.body.children))y.on(s,"mouseover",Kt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(it),this._element.classList.add(it),y.trigger(this._element,ul,e)}}hide(){if(Re(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!y.trigger(this._element,ll,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))y.off(s,"mouseover",Kt);this._popper&&this._popper.destroy(),this._menu.classList.remove(it),this._element.classList.remove(it),this._element.setAttribute("aria-expanded","false"),Be.removeDataAttribute(this._menu,"popper"),y.trigger(this._element,cl,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!De(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${zs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Ga>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:De(this._config.reference)?e=xe(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=hs(e,this._menu,n)}_isShown(){return this._menu.classList.contains(it)}_getPlacement(){const e=this._parent;if(e.classList.contains(hl))return Nl;if(e.classList.contains(pl))return Cl;if(e.classList.contains(gl))return Dl;if(e.classList.contains(El))return Bl;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(fl)?n?Tl:Sl:n?Al:wl}_detectNavbar(){return this._element.closest(vl)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Be.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const s=P.find(_l,this._menu).filter(a=>gt(a));s.length&&ps(s,n,e===js,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=_e.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===ol||e.type==="keyup"&&e.key!==Us)return;const n=P.find(bl);for(const s of n){const a=_e.getInstance(s);if(!a||a._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(a._menu);if(r.includes(a._element)||a._config.autoClose==="inside"&&!o||a._config.autoClose==="outside"&&o||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Us||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:a._element};e.type==="click"&&(l.clickEvent=e),a._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===rl,a=[il,js].includes(e.key);if(!a&&!s||n&&!s)return;e.preventDefault();const r=this.matches(Ue)?this:P.prev(this,Ue)[0]||P.next(this,Ue)[0]||P.findOne(Ue,e.delegateTarget.parentNode),o=_e.getOrCreateInstance(r);if(a){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}y.on(document,gr,Ue,_e.dataApiKeydownHandler);y.on(document,gr,Zt,_e.dataApiKeydownHandler);y.on(document,pr,_e.clearMenus);y.on(document,ml,_e.clearMenus);y.on(document,pr,Ue,function(t){t.preventDefault(),_e.getOrCreateInstance(this).toggle()});he(_e);const Zs=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Js=".sticky-top",Vt="padding-right",Ks="margin-right";class Hn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Vt,n=>n+e),this._setElementAttributes(Zs,Vt,n=>n+e),this._setElementAttributes(Js,Ks,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Vt),this._resetElementAttributes(Zs,Vt),this._resetElementAttributes(Js,Ks)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const a=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+a)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&Be.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=a=>{const r=Be.getDataAttribute(a,n);if(r===null){a.style.removeProperty(n);return}Be.removeDataAttribute(a,n),a.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(De(e)){n(e);return}for(const s of P.find(e,this._element))n(s)}}const Er="backdrop",Ll="fade",Gs="show",Xs=`mousedown.bs.${Er}`,Ol={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},$l={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class br extends Ot{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Ol}static get DefaultType(){return $l}static get NAME(){return Er}show(e){if(!this._config.isVisible){Ae(e);return}this._append();const n=this._getElement();this._config.isAnimated&&Lt(n),n.classList.add(Gs),this._emulateAnimation(()=>{Ae(e)})}hide(e){if(!this._config.isVisible){Ae(e);return}this._getElement().classList.remove(Gs),this._emulateAnimation(()=>{this.dispose(),Ae(e)})}dispose(){this._isAppended&&(y.off(this._element,Xs),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ll),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=xe(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),y.on(e,Xs,()=>{Ae(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){sr(e,this._getElement(),this._config.isAnimated)}}const kl="focustrap",xl="bs.focustrap",Xt=`.${xl}`,Rl=`focusin${Xt}`,Yl=`keydown.tab${Xt}`,Pl="Tab",Hl="forward",Qs="backward",Wl={autofocus:!0,trapElement:null},Vl={autofocus:"boolean",trapElement:"element"};class vr extends Ot{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Wl}static get DefaultType(){return Vl}static get NAME(){return kl}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),y.off(document,Xt),y.on(document,Rl,e=>this._handleFocusin(e)),y.on(document,Yl,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,y.off(document,Xt))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=P.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Qs?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===Pl&&(this._lastTabNavDirection=e.shiftKey?Qs:Hl)}}const Fl="modal",ql="bs.modal",Ee=`.${ql}`,zl=".data-api",Ul="Escape",jl=`hide${Ee}`,Zl=`hidePrevented${Ee}`,yr=`hidden${Ee}`,_r=`show${Ee}`,Jl=`shown${Ee}`,Kl=`resize${Ee}`,Gl=`click.dismiss${Ee}`,Xl=`mousedown.dismiss${Ee}`,Ql=`keydown.dismiss${Ee}`,ec=`click${Ee}${zl}`,ea="modal-open",tc="fade",ta="show",Nn="modal-static",nc=".modal.show",sc=".modal-dialog",ac=".modal-body",rc='[data-bs-toggle="modal"]',ic={backdrop:!0,focus:!0,keyboard:!0},oc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class U extends ge{constructor(e,n){super(e,n),this._dialog=P.findOne(sc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Hn,this._addEventListeners()}static get Default(){return ic}static get DefaultType(){return oc}static get NAME(){return Fl}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||y.trigger(this._element,_r,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ea),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||y.trigger(this._element,jl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ta),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])y.off(e,Ee);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new br({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=P.findOne(ac,this._dialog);n&&(n.scrollTop=0),Lt(this._element),this._element.classList.add(ta);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,y.trigger(this._element,Jl,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){y.on(this._element,Ql,e=>{if(e.key===Ul){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),y.on(window,Kl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),y.on(this._element,Xl,e=>{y.one(this._element,Gl,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ea),this._resetAdjustments(),this._scrollBar.reset(),y.trigger(this._element,yr)})}_isAnimated(){return this._element.classList.contains(tc)}_triggerBackdropTransition(){if(y.trigger(this._element,Zl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Nn)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Nn),this._queueCallback(()=>{this._element.classList.remove(Nn),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const a=me()?"paddingLeft":"paddingRight";this._element.style[a]=`${n}px`}if(!s&&e){const a=me()?"paddingRight":"paddingLeft";this._element.style[a]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=U.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}y.on(document,ec,rc,function(t){const e=Ce(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),y.one(e,_r,a=>{a.defaultPrevented||y.one(e,yr,()=>{gt(this)&&this.focus()})});const n=P.findOne(nc);n&&U.getInstance(n).hide(),U.getOrCreateInstance(e).toggle(this)});ln(U);he(U);const lc="offcanvas",cc="bs.offcanvas",Oe=`.${cc}`,Sr=".data-api",dc=`load${Oe}${Sr}`,uc="Escape",na="show",sa="showing",aa="hiding",mc="offcanvas-backdrop",Tr=".offcanvas.show",fc=`show${Oe}`,hc=`shown${Oe}`,pc=`hide${Oe}`,ra=`hidePrevented${Oe}`,wr=`hidden${Oe}`,gc=`resize${Oe}`,Ec=`click${Oe}${Sr}`,bc=`keydown.dismiss${Oe}`,vc='[data-bs-toggle="offcanvas"]',yc={backdrop:!0,keyboard:!0,scroll:!1},_c={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ye extends ge{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return yc}static get DefaultType(){return _c}static get NAME(){return lc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||y.trigger(this._element,fc,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Hn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(sa);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(na),this._element.classList.remove(sa),y.trigger(this._element,hc,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||y.trigger(this._element,pc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(aa),this._backdrop.hide();const n=()=>{this._element.classList.remove(na,aa),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Hn().reset(),y.trigger(this._element,wr)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){y.trigger(this._element,ra);return}this.hide()},n=Boolean(this._config.backdrop);return new br({className:mc,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new vr({trapElement:this._element})}_addEventListeners(){y.on(this._element,bc,e=>{if(e.key===uc){if(!this._config.keyboard){y.trigger(this._element,ra);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const n=Ye.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}y.on(document,Ec,vc,function(t){const e=Ce(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Re(this))return;y.one(e,wr,()=>{gt(this)&&this.focus()});const n=P.findOne(Tr);n&&n!==e&&Ye.getInstance(n).hide(),Ye.getOrCreateInstance(e).toggle(this)});y.on(window,dc,()=>{for(const t of P.find(Tr))Ye.getOrCreateInstance(t).show()});y.on(window,gc,()=>{for(const t of P.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Ye.getOrCreateInstance(t).hide()});ln(Ye);he(Ye);const Sc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Tc=/^aria-[\w-]*$/i,wc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ac=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Nc=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?Sc.has(n)?Boolean(wc.test(t.nodeValue)||Ac.test(t.nodeValue)):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))},Ar={"*":["class","dir","id","lang","role",Tc],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Cc(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const a=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...a.body.querySelectorAll("*"));for(const o of r){const l=o.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){o.remove();continue}const i=[].concat(...o.attributes),d=[].concat(e["*"]||[],e[l]||[]);for(const c of i)Nc(c,d)||o.removeAttribute(c.nodeName)}return a.body.innerHTML}const Dc="TemplateFactory",Bc={allowList:Ar,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Mc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ic={entry:"(string|element|function|null)",selector:"(string|element)"};class Lc extends Ot{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Bc}static get DefaultType(){return Mc}static get NAME(){return Dc}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,r]of Object.entries(this._config.content))this._setContent(e,r,a);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},Ic)}_setContent(e,n,s){const a=P.findOne(s,e);if(a){if(n=this._resolvePossibleFunction(n),!n){a.remove();return}if(De(n)){this._putElementInTemplate(xe(n),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(n);return}a.textContent=n}}_maybeSanitize(e){return this._config.sanitize?Cc(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Oc="tooltip",$c=new Set(["sanitize","allowList","sanitizeFn"]),Cn="fade",kc="modal",Ft="show",xc=".tooltip-inner",ia=`.${kc}`,oa="hide.bs.modal",Tt="hover",Dn="focus",Rc="click",Yc="manual",Pc="hide",Hc="hidden",Wc="show",Vc="shown",Fc="inserted",qc="click",zc="focusin",Uc="focusout",jc="mouseenter",Zc="mouseleave",Jc={AUTO:"auto",TOP:"top",RIGHT:me()?"left":"right",BOTTOM:"bottom",LEFT:me()?"right":"left"},Kc={allowList:Ar,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class bt extends ge{constructor(e,n){if(typeof Ga>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Kc}static get DefaultType(){return Gc}static get NAME(){return Oc}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),y.off(this._element.closest(ia),oa,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=y.trigger(this._element,this.constructor.eventName(Wc)),s=(tr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(a),y.trigger(this._element,this.constructor.eventName(Fc))),this._popper=this._createPopper(a),a.classList.add(Ft),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))y.on(l,"mouseover",Kt);const o=()=>{y.trigger(this._element,this.constructor.eventName(Vc)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||y.trigger(this._element,this.constructor.eventName(Pc)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ft),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))y.off(a,"mouseover",Kt);this._activeTrigger[Rc]=!1,this._activeTrigger[Dn]=!1,this._activeTrigger[Tt]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),y.trigger(this._element,this.constructor.eventName(Hc)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Cn,Ft),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=ki(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Cn),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Lc({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[xc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Cn)}_isShown(){return this.tip&&this.tip.classList.contains(Ft)}_createPopper(e){const n=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,s=Jc[n.toUpperCase()];return hs(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")y.on(this._element,this.constructor.eventName(qc),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==Yc){const s=n===Tt?this.constructor.eventName(jc):this.constructor.eventName(zc),a=n===Tt?this.constructor.eventName(Zc):this.constructor.eventName(Uc);y.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Dn:Tt]=!0,o._enter()}),y.on(this._element,a,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Dn:Tt]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},y.on(this._element.closest(ia),oa,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=Be.getDataAttributes(this._element);for(const s of Object.keys(n))$c.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:xe(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=bt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}he(bt);const Xc="popover",Qc=".popover-header",ed=".popover-body",td={...bt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nd={...bt.DefaultType,content:"(null|string|element|function)"};class un extends bt{static get Default(){return td}static get DefaultType(){return nd}static get NAME(){return Xc}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Qc]:this._getTitle(),[ed]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}he(un);const sd="scrollspy",ad="bs.scrollspy",bs=`.${ad}`,rd=".data-api",id=`activate${bs}`,la=`click${bs}`,od=`load${bs}${rd}`,ld="dropdown-item",st="active",cd='[data-bs-spy="scroll"]',Bn="[href]",dd=".nav, .list-group",ca=".nav-link",ud=".nav-item",md=".list-group-item",fd=`${ca}, ${ud} > ${ca}, ${md}`,hd=".dropdown",pd=".dropdown-toggle",gd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ed={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class mn extends ge{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gd}static get DefaultType(){return Ed}static get NAME(){return sd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=xe(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(y.off(this._config.target,la),y.on(this._config.target,la,Bn,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,a=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:a,behavior:"smooth"});return}s.scrollTop=a}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},a=(this._rootElement||document.documentElement).scrollTop,r=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(o),!a)return;continue}!r&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=P.find(Bn,this._config.target);for(const n of e){if(!n.hash||Re(n))continue;const s=P.findOne(n.hash,this._element);gt(s)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(st),this._activateParents(e),y.trigger(this._element,id,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(ld)){P.findOne(pd,e.closest(hd)).classList.add(st);return}for(const n of P.parents(e,dd))for(const s of P.prev(n,fd))s.classList.add(st)}_clearActiveClass(e){e.classList.remove(st);const n=P.find(`${Bn}.${st}`,e);for(const s of n)s.classList.remove(st)}static jQueryInterface(e){return this.each(function(){const n=mn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}y.on(window,od,()=>{for(const t of P.find(cd))mn.getOrCreateInstance(t)});he(mn);const bd="tab",vd="bs.tab",et=`.${vd}`,yd=`hide${et}`,_d=`hidden${et}`,Sd=`show${et}`,Td=`shown${et}`,wd=`click${et}`,Ad=`keydown${et}`,Nd=`load${et}`,Cd="ArrowLeft",da="ArrowRight",Dd="ArrowUp",ua="ArrowDown",je="active",ma="fade",Mn="show",Bd="dropdown",Md=".dropdown-toggle",Id=".dropdown-menu",In=":not(.dropdown-toggle)",Ld='.list-group, .nav, [role="tablist"]',Od=".nav-item, .list-group-item",$d=`.nav-link${In}, .list-group-item${In}, [role="tab"]${In}`,Nr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ln=`${$d}, ${Nr}`,kd=`.${je}[data-bs-toggle="tab"], .${je}[data-bs-toggle="pill"], .${je}[data-bs-toggle="list"]`;class Ge extends ge{constructor(e){super(e),this._parent=this._element.closest(Ld),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),y.on(this._element,Ad,n=>this._keydown(n)))}static get NAME(){return bd}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?y.trigger(n,yd,{relatedTarget:e}):null;y.trigger(e,Sd,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(je),this._activate(Ce(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Mn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),y.trigger(e,Td,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(ma))}_deactivate(e,n){if(!e)return;e.classList.remove(je),e.blur(),this._deactivate(Ce(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Mn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),y.trigger(e,_d,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(ma))}_keydown(e){if(![Cd,da,Dd,ua].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[da,ua].includes(e.key),s=ps(this._getChildren().filter(a=>!Re(a)),e.target,n,!0);s&&(s.focus({preventScroll:!0}),Ge.getOrCreateInstance(s).show())}_getChildren(){return P.find(Ln,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=Ce(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(Bd))return;const a=(r,o)=>{const l=P.findOne(r,s);l&&l.classList.toggle(o,n)};a(Md,je),a(Id,Mn),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(je)}_getInnerElement(e){return e.matches(Ln)?e:P.findOne(Ln,e)}_getOuterElement(e){return e.closest(Od)||e}static jQueryInterface(e){return this.each(function(){const n=Ge.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}y.on(document,wd,Nr,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Re(this)&&Ge.getOrCreateInstance(this).show()});y.on(window,Nd,()=>{for(const t of P.find(kd))Ge.getOrCreateInstance(t)});he(Ge);const xd="toast",Rd="bs.toast",We=`.${Rd}`,Yd=`mouseover${We}`,Pd=`mouseout${We}`,Hd=`focusin${We}`,Wd=`focusout${We}`,Vd=`hide${We}`,Fd=`hidden${We}`,qd=`show${We}`,zd=`shown${We}`,Ud="fade",fa="hide",qt="show",zt="showing",jd={animation:"boolean",autohide:"boolean",delay:"number"},Zd={animation:!0,autohide:!0,delay:5e3};class fn extends ge{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zd}static get DefaultType(){return jd}static get NAME(){return xd}show(){if(y.trigger(this._element,qd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Ud);const n=()=>{this._element.classList.remove(zt),y.trigger(this._element,zd),this._maybeScheduleHide()};this._element.classList.remove(fa),Lt(this._element),this._element.classList.add(qt,zt),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||y.trigger(this._element,Vd).defaultPrevented)return;const n=()=>{this._element.classList.add(fa),this._element.classList.remove(zt,qt),y.trigger(this._element,Fd)};this._element.classList.add(zt),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qt),super.dispose()}isShown(){return this._element.classList.contains(qt)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){y.on(this._element,Yd,e=>this._onInteraction(e,!0)),y.on(this._element,Pd,e=>this._onInteraction(e,!1)),y.on(this._element,Hd,e=>this._onInteraction(e,!0)),y.on(this._element,Wd,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=fn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}ln(fn);he(fn);window.addEventListener("load",()=>{localStorage.getItem("datenBerechnung")&&localStorage.getItem("VorgabenU")&&localStorage.getItem("VorgabenGeld")&&vs(JSON.parse(localStorage.getItem("datenBerechnung")),JSON.parse(localStorage.getItem("VorgabenGeld")))});function vs(t,e=JSON.parse(localStorage.getItem("VorgabenGeld"))){if(t===!0)return X("btnNeuBerech");Object.setPrototypeOf(e,{getMonat:function(l){let i=this[1];const d=Object.keys(this).map(Number);if(d.length>1&&l>1&&Math.max(...d.filter(c=>c<=l))>1)for(let c=2;c<=l;c++)typeof this[c]<"u"&&(i={...i,...this[c]});return i}});const n=JSON.parse(localStorage.getItem("VorgabenU")).pers.TB,s=Array.from({length:12},()=>[]),a=document.getElementById("tbodyBerechnung");a.innerHTML='<tr><th rowspan="2">Bereitschaftszeiten</th></tr><tr></tr><tr><th>Bereitschaftszulage</th></tr><tr><th>LRE 1</th></tr><tr><th>LRE 2</th></tr><tr><th>LRE 3</th></tr><tr><th>Privat-PKW</th></tr><tr><th>Summe Bereitschaft</th></tr><tr><th><table class="table table-borderless m-0"><tbody>			<tr><td class="py-0">Anzahl der</td><td class="py-0">>8</td></tr>			<tr><td class="py-0">Abwesenheiten nach</td><td class="py-0">>14</td>			</tr><tr><td class="py-0">FGr-TV / LfTV / RVB</td><td class="py-0">>24</td></tr>		 </tbody></table></th></tr><tr><th><table class="table table-borderless m-0"><tbody>			<tr><td class="py-0">steuerfreie Abwesen-</td><td class="py-0">>8</td></tr>			<tr><td class="py-0">heiten § 9 EStG</td><td class="py-0">>14</td>		 </tbody></table></th></tr><tr><th>Summe EWT</th></tr><tr><th>Summe Nebenbezüge</th></tr><tr><th>Summe Gesamt</th></tr>';const r=l=>l===0?"&nbsp;":l;Array.from(a.children).forEach((l,i)=>{for(const[d,c]of Object.entries(t)){const u=d-1;let m=document.createElement("td"),h;switch(i){case 0:c.B.B!==0&&(m.textContent=c.B.B);break;case 1:c.B.B!==0&&(m.textContent=n==="Tarifkraft"?o(c.B.B):Math.round((c.B.B-600)/8/60,0));break;case 2:c.B.B!==0&&(s[u][0]=n==="Tarifkraft"?Math.round(c.B.B/60,0)*e.getMonat(d)[n]:Math.round((c.B.B-600)/8/60,0)*e.getMonat(d)[n],m.textContent=s[u][0].toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 3:c.B.L1!==0&&(s[u][0]+=Math.round(c.B.L1,0)*e.getMonat(d).LRE1,m.textContent=(Math.round(c.B.L1,0)*e.getMonat(d).LRE1).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 4:c.B.L2!==0&&(s[u][0]+=Math.round(c.B.L2,0)*e.getMonat(d).LRE2,m.textContent=(Math.round(c.B.L2,0)*e.getMonat(d).LRE2).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 5:c.B.L3!==0&&(s[u][0]+=Math.round(c.B.L3,0)*e.getMonat(d).LRE3,m.textContent=(Math.round(c.B.L3,0)*e.getMonat(d).LRE3).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 6:c.B.K!==0&&(h=Math.round(c.B.K,0)*(n==="Tarifkraft"?e.getMonat(d).PrivatPKWTarif:e.getMonat(d).PrivatPKWBeamter),s[u][0]+=h,m.textContent=h.toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 7:s[u].length!==0?m.textContent=s[u][0].toLocaleString("de-DE",{style:"currency",currency:"EUR"}):s[u][0]||(s[u][0]=0);break;case 8:n==="Tarifkraft"&&(c.E.A8!==0&&(s[u][1]=c.E.A8*e.getMonat(d).TE8),c.E.A14!==0&&(s[u][1]+=c.E.A14*e.getMonat(d).TE14),c.E.A24!==0&&(s[u][1]+=c.E.A24*e.getMonat(d).TE24)),(c.E.A8>0||c.E.A14>0||c.E.A24>0)&&(m.innerHTML=`${r(c.E.A8)} <br />${r(c.E.A14)} <br />${r(c.E.A24)}`);break;case 9:n!=="Tarifkraft"&&(c.E.S8!==0&&(s[u][1]=c.E.S8*e.getMonat(d).BE8),c.E.S14!==0&&(s[u][1]+=c.E.S14*e.getMonat(d).BE14)),(c.E.S8>0||c.E.S14>0)&&(m.innerHTML=`${r(c.E.S8)} <br /> ${r(c.E.S14)}`),l.appendChild(m);break;case 10:s[u].length>1?m.textContent=s[u][1].toLocaleString("de-DE",{style:"currency",currency:"EUR"}):s[u][1]||(s[u][1]=0);break;case 11:c.N.F===0?s[u][2]=0:(n!=="Tarifkraft"?s[u][2]=0:s[u][2]=c.N.F*e.getMonat(d).Fahrentsch,m.textContent=s[u][2].toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 12:s[u].length!==0&&(s[u][0]||s[u][1]||s[u][2])&&(m.textContent=(Number(s[u][0])+Number(s[u][1])+Number(s[u][2])).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break}l.appendChild(m)}});function o(l){const i=Math.floor(l/60),d=Math.round(l%60,0);return`${i}:${d.toString().padStart(2,"0")}`}}var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qt={},Kd={get exports(){return Qt},set exports(t){Qt=t}},ha;function Cr(){return ha||(ha=1,function(t,e){(function(n,s){t.exports=s()})(we,function(){var n=1e3,s=6e4,a=36e5,r="millisecond",o="second",l="minute",i="hour",d="day",c="week",u="month",m="quarter",h="year",p="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var S=["th","st","nd","rd"],T=A%100;return"["+A+(S[(T-20)%10]||S[T]||S[0])+"]"}},I=function(A,S,T){var $=String(A);return!$||$.length>=S?A:""+Array(S+1-$.length).join(T)+A},D={s:I,z:function(A){var S=-A.utcOffset(),T=Math.abs(S),$=Math.floor(T/60),E=T%60;return(S<=0?"+":"-")+I($,2,"0")+":"+I(E,2,"0")},m:function A(S,T){if(S.date()<T.date())return-A(T,S);var $=12*(T.year()-S.year())+(T.month()-S.month()),E=S.clone().add($,u),k=T-E<0,L=S.clone().add($+(k?-1:1),u);return+(-($+(T-E)/(k?E-L:L-E))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:u,y:h,w:c,d,D:p,h:i,m:l,s:o,ms:r,Q:m}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},B="en",v={};v[B]=M;var w=function(A){return A instanceof x},O=function A(S,T,$){var E;if(!S)return B;if(typeof S=="string"){var k=S.toLowerCase();v[k]&&(E=k),T&&(v[k]=T,E=k);var L=S.split("-");if(!E&&L.length>1)return A(L[0])}else{var Y=S.name;v[Y]=S,E=Y}return!$&&E&&(B=E),E||!$&&B},_=function(A,S){if(w(A))return A.clone();var T=typeof S=="object"?S:{};return T.date=A,T.args=arguments,new x(T)},b=D;b.l=O,b.i=w,b.w=function(A,S){return _(A,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var x=function(){function A(T){this.$L=O(T.locale,null,!0),this.parse(T)}var S=A.prototype;return S.parse=function(T){this.$d=function($){var E=$.date,k=$.utc;if(E===null)return new Date(NaN);if(b.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var L=E.match(g);if(L){var Y=L[2]-1||0,F=(L[7]||"0").substring(0,3);return k?new Date(Date.UTC(L[1],Y,L[3]||1,L[4]||0,L[5]||0,L[6]||0,F)):new Date(L[1],Y,L[3]||1,L[4]||0,L[5]||0,L[6]||0,F)}}return new Date(E)}(T),this.$x=T.x||{},this.init()},S.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},S.$utils=function(){return b},S.isValid=function(){return this.$d.toString()!==f},S.isSame=function(T,$){var E=_(T);return this.startOf($)<=E&&E<=this.endOf($)},S.isAfter=function(T,$){return _(T)<this.startOf($)},S.isBefore=function(T,$){return this.endOf($)<_(T)},S.$g=function(T,$,E){return b.u(T)?this[$]:this.set(E,T)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(T,$){var E=this,k=!!b.u($)||$,L=b.p(T),Y=function(G,Z){var ne=b.w(E.$u?Date.UTC(E.$y,Z,G):new Date(E.$y,Z,G),E);return k?ne:ne.endOf(d)},F=function(G,Z){return b.w(E.toDate()[G].apply(E.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(Z)),E)},q=this.$W,W=this.$M,j=this.$D,K="set"+(this.$u?"UTC":"");switch(L){case h:return k?Y(1,0):Y(31,11);case u:return k?Y(1,W):Y(0,W+1);case c:var ae=this.$locale().weekStart||0,re=(q<ae?q+7:q)-ae;return Y(k?j-re:j+(6-re),W);case d:case p:return F(K+"Hours",0);case i:return F(K+"Minutes",1);case l:return F(K+"Seconds",2);case o:return F(K+"Milliseconds",3);default:return this.clone()}},S.endOf=function(T){return this.startOf(T,!1)},S.$set=function(T,$){var E,k=b.p(T),L="set"+(this.$u?"UTC":""),Y=(E={},E[d]=L+"Date",E[p]=L+"Date",E[u]=L+"Month",E[h]=L+"FullYear",E[i]=L+"Hours",E[l]=L+"Minutes",E[o]=L+"Seconds",E[r]=L+"Milliseconds",E)[k],F=k===d?this.$D+($-this.$W):$;if(k===u||k===h){var q=this.clone().set(p,1);q.$d[Y](F),q.init(),this.$d=q.set(p,Math.min(this.$D,q.daysInMonth())).$d}else Y&&this.$d[Y](F);return this.init(),this},S.set=function(T,$){return this.clone().$set(T,$)},S.get=function(T){return this[b.p(T)]()},S.add=function(T,$){var E,k=this;T=Number(T);var L=b.p($),Y=function(W){var j=_(k);return b.w(j.date(j.date()+Math.round(W*T)),k)};if(L===u)return this.set(u,this.$M+T);if(L===h)return this.set(h,this.$y+T);if(L===d)return Y(1);if(L===c)return Y(7);var F=(E={},E[l]=s,E[i]=a,E[o]=n,E)[L]||1,q=this.$d.getTime()+T*F;return b.w(q,this)},S.subtract=function(T,$){return this.add(-1*T,$)},S.format=function(T){var $=this,E=this.$locale();if(!this.isValid())return E.invalidDate||f;var k=T||"YYYY-MM-DDTHH:mm:ssZ",L=b.z(this),Y=this.$H,F=this.$m,q=this.$M,W=E.weekdays,j=E.months,K=function(Z,ne,de,ve){return Z&&(Z[ne]||Z($,k))||de[ne].slice(0,ve)},ae=function(Z){return b.s(Y%12||12,Z,"0")},re=E.meridiem||function(Z,ne,de){var ve=Z<12?"AM":"PM";return de?ve.toLowerCase():ve},G={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:b.s(q+1,2,"0"),MMM:K(E.monthsShort,q,j,3),MMMM:K(j,q),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:K(E.weekdaysMin,this.$W,W,2),ddd:K(E.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(Y),HH:b.s(Y,2,"0"),h:ae(1),hh:ae(2),a:re(Y,F,!0),A:re(Y,F,!1),m:String(F),mm:b.s(F,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:L};return k.replace(C,function(Z,ne){return ne||G[Z]||L.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(T,$,E){var k,L=b.p($),Y=_(T),F=(Y.utcOffset()-this.utcOffset())*s,q=this-Y,W=b.m(this,Y);return W=(k={},k[h]=W/12,k[u]=W,k[m]=W/3,k[c]=(q-F)/6048e5,k[d]=(q-F)/864e5,k[i]=q/a,k[l]=q/s,k[o]=q/n,k)[L]||q,E?W:b.a(W)},S.daysInMonth=function(){return this.endOf(u).$D},S.$locale=function(){return v[this.$L]},S.locale=function(T,$){if(!T)return this.$L;var E=this.clone(),k=O(T,$,!0);return k&&(E.$L=k),E},S.clone=function(){return b.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},A}(),R=x.prototype;return _.prototype=R,[["$ms",r],["$s",o],["$m",l],["$H",i],["$W",d],["$M",u],["$y",h],["$D",p]].forEach(function(A){R[A[1]]=function(S){return this.$g(S,A[0],A[1])}}),_.extend=function(A,S){return A.$i||(A(S,x,_),A.$i=!0),_},_.locale=O,_.isDayjs=w,_.unix=function(A){return _(1e3*A)},_.en=v[B],_.Ls=v,_.p={},_})}(Kd)),Qt}var Gd=Cr();const N=Jd(Gd);var pa={},Xd={get exports(){return pa},set exports(t){pa=t}};(function(t,e){(function(n,s){t.exports=s(Cr())})(we,function(n){function s(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var a=s(n),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(i,d,c){var u=r[c];return Array.isArray(u)&&(u=u[d?0:1]),u.replace("%d",i)}var l={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(i){return i+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return a.default.locale(l,null,!0),l})})(Xd);var Wn={},Qd={get exports(){return Wn},set exports(t){Wn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){return function(n,s,a){var r=s.prototype,o=function(i){var d=i.date,c=i.utc;return Array.isArray(d)?c?d.length?new Date(Date.UTC.apply(null,d)):new Date:d.length===1?a(String(d[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(d))):d},l=r.parse;r.parse=function(i){i.date=o.bind(this)(i),l.bind(this)(i)}}})})(Qd);const hn=Wn;var Vn={},eu={get exports(){return Vn},set exports(t){Vn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},i=function(f){return(f=+f)+(f>68?1900:2e3)},d=function(f){return function(g){this[f]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var C=g.match(/([+-]|\d\d)/g),M=60*C[1]+(+C[2]||0);return M===0?0:C[0]==="+"?-M:M}(f)}],u=function(f){var g=l[f];return g&&(g.indexOf?g:g.s.concat(g.f))},m=function(f,g){var C,M=l.meridiem;if(M){for(var I=1;I<=24;I+=1)if(f.indexOf(M(I,0,g))>-1){C=I>12;break}}else C=f===(g?"pm":"PM");return C},h={A:[o,function(f){this.afternoon=m(f,!1)}],a:[o,function(f){this.afternoon=m(f,!0)}],S:[/\d/,function(f){this.milliseconds=100*+f}],SS:[a,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[r,d("seconds")],ss:[r,d("seconds")],m:[r,d("minutes")],mm:[r,d("minutes")],H:[r,d("hours")],h:[r,d("hours")],HH:[r,d("hours")],hh:[r,d("hours")],D:[r,d("day")],DD:[a,d("day")],Do:[o,function(f){var g=l.ordinal,C=f.match(/\d+/);if(this.day=C[0],g)for(var M=1;M<=31;M+=1)g(M).replace(/\[|\]/g,"")===f&&(this.day=M)}],M:[r,d("month")],MM:[a,d("month")],MMM:[o,function(f){var g=u("months"),C=(u("monthsShort")||g.map(function(M){return M.slice(0,3)})).indexOf(f)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[o,function(f){var g=u("months").indexOf(f)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(f){this.year=i(f)}],YYYY:[/\d{4}/,d("year")],Z:c,ZZ:c};function p(f){var g,C;g=f,C=l&&l.formats;for(var M=(f=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,b,x){var R=x&&x.toUpperCase();return b||C[x]||n[x]||C[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,S,T){return S||T.slice(1)})})).match(s),I=M.length,D=0;D<I;D+=1){var B=M[D],v=h[B],w=v&&v[0],O=v&&v[1];M[D]=O?{regex:w,parser:O}:B.replace(/^\[|\]$/g,"")}return function(_){for(var b={},x=0,R=0;x<I;x+=1){var A=M[x];if(typeof A=="string")R+=A.length;else{var S=A.regex,T=A.parser,$=_.slice(R),E=S.exec($)[0];T.call(b,E),_=_.replace(E,"")}}return function(k){var L=k.afternoon;if(L!==void 0){var Y=k.hours;L?Y<12&&(k.hours+=12):Y===12&&(k.hours=0),delete k.afternoon}}(b),b}}return function(f,g,C){C.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(i=f.parseTwoDigitYear);var M=g.prototype,I=M.parse;M.parse=function(D){var B=D.date,v=D.utc,w=D.args;this.$u=v;var O=w[1];if(typeof O=="string"){var _=w[2]===!0,b=w[3]===!0,x=_||b,R=w[2];b&&(R=w[2]),l=this.$locale(),!_&&R&&(l=C.Ls[R]),this.$d=function($,E,k){try{if(["x","X"].indexOf(E)>-1)return new Date((E==="X"?1e3:1)*$);var L=p(E)($),Y=L.year,F=L.month,q=L.day,W=L.hours,j=L.minutes,K=L.seconds,ae=L.milliseconds,re=L.zone,G=new Date,Z=q||(Y||F?1:G.getDate()),ne=Y||G.getFullYear(),de=0;Y&&!F||(de=F>0?F-1:G.getMonth());var ve=W||0,tt=j||0,vt=K||0,yt=ae||0;return re?new Date(Date.UTC(ne,de,Z,ve,tt,vt,yt+60*re.offset*1e3)):k?new Date(Date.UTC(ne,de,Z,ve,tt,vt,yt)):new Date(ne,de,Z,ve,tt,vt,yt)}catch{return new Date("")}}(B,O,v),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),x&&B!=this.format(O)&&(this.$d=new Date("")),l={}}else if(O instanceof Array)for(var A=O.length,S=1;S<=A;S+=1){w[1]=O[S-1];var T=C.apply(this,w);if(T.isValid()){this.$d=T.$d,this.$L=T.$L,this.init();break}S===A&&(this.$d=new Date(""))}else I.call(this,D)}}})})(eu);const ys=Vn;var Fn={},tu={get exports(){return Fn},set exports(t){Fn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){var n,s,a=1e3,r=6e4,o=36e5,l=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=31536e6,c=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:d,months:c,days:l,hours:o,minutes:r,seconds:a,milliseconds:1,weeks:6048e5},h=function(B){return B instanceof D},p=function(B,v,w){return new D(B,w,v.$l)},f=function(B){return s.p(B)+"s"},g=function(B){return B<0},C=function(B){return g(B)?Math.ceil(B):Math.floor(B)},M=function(B){return Math.abs(B)},I=function(B,v){return B?g(B)?{negative:!0,format:""+M(B)+v}:{negative:!1,format:""+B+v}:{negative:!1,format:""}},D=function(){function B(w,O,_){var b=this;if(this.$d={},this.$l=_,w===void 0&&(this.$ms=0,this.parseFromMilliseconds()),O)return p(w*m[f(O)],this);if(typeof w=="number")return this.$ms=w,this.parseFromMilliseconds(),this;if(typeof w=="object")return Object.keys(w).forEach(function(A){b.$d[f(A)]=w[A]}),this.calMilliseconds(),this;if(typeof w=="string"){var x=w.match(u);if(x){var R=x.slice(2).map(function(A){return A!=null?Number(A):0});return this.$d.years=R[0],this.$d.months=R[1],this.$d.weeks=R[2],this.$d.days=R[3],this.$d.hours=R[4],this.$d.minutes=R[5],this.$d.seconds=R[6],this.calMilliseconds(),this}}return this}var v=B.prototype;return v.calMilliseconds=function(){var w=this;this.$ms=Object.keys(this.$d).reduce(function(O,_){return O+(w.$d[_]||0)*m[_]},0)},v.parseFromMilliseconds=function(){var w=this.$ms;this.$d.years=C(w/d),w%=d,this.$d.months=C(w/c),w%=c,this.$d.days=C(w/l),w%=l,this.$d.hours=C(w/o),w%=o,this.$d.minutes=C(w/r),w%=r,this.$d.seconds=C(w/a),w%=a,this.$d.milliseconds=w},v.toISOString=function(){var w=I(this.$d.years,"Y"),O=I(this.$d.months,"M"),_=+this.$d.days||0;this.$d.weeks&&(_+=7*this.$d.weeks);var b=I(_,"D"),x=I(this.$d.hours,"H"),R=I(this.$d.minutes,"M"),A=this.$d.seconds||0;this.$d.milliseconds&&(A+=this.$d.milliseconds/1e3);var S=I(A,"S"),T=w.negative||O.negative||b.negative||x.negative||R.negative||S.negative,$=x.format||R.format||S.format?"T":"",E=(T?"-":"")+"P"+w.format+O.format+b.format+$+x.format+R.format+S.format;return E==="P"||E==="-P"?"P0D":E},v.toJSON=function(){return this.toISOString()},v.format=function(w){var O=w||"YYYY-MM-DDTHH:mm:ss",_={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return O.replace(i,function(b,x){return x||String(_[b])})},v.as=function(w){return this.$ms/m[f(w)]},v.get=function(w){var O=this.$ms,_=f(w);return _==="milliseconds"?O%=1e3:O=_==="weeks"?C(O/m[_]):this.$d[_],O===0?0:O},v.add=function(w,O,_){var b;return b=O?w*m[f(O)]:h(w)?w.$ms:p(w,this).$ms,p(this.$ms+b*(_?-1:1),this)},v.subtract=function(w,O){return this.add(w,O,!0)},v.locale=function(w){var O=this.clone();return O.$l=w,O},v.clone=function(){return p(this.$ms,this)},v.humanize=function(w){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!w)},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},B}();return function(B,v,w){n=w,s=w().$utils(),w.duration=function(b,x){var R=w.locale();return p(b,{$l:R},x)},w.isDuration=h;var O=v.prototype.add,_=v.prototype.subtract;v.prototype.add=function(b,x){return h(b)&&(b=b.asMilliseconds()),O.bind(this)(b,x)},v.prototype.subtract=function(b,x){return h(b)&&(b=b.asMilliseconds()),_.bind(this)(b,x)}}})})(tu);const Dr=Fn;var qn={},nu={get exports(){return qn},set exports(t){qn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){var n="day";return function(s,a,r){var o=function(d){return d.add(4-d.isoWeekday(),n)},l=a.prototype;l.isoWeekYear=function(){return o(this).year()},l.isoWeek=function(d){if(!this.$utils().u(d))return this.add(7*(d-this.isoWeek()),n);var c,u,m,h,p=o(this),f=(c=this.isoWeekYear(),u=this.$u,m=(u?r.utc:r)().year(c).startOf("year"),h=4-m.isoWeekday(),m.isoWeekday()>4&&(h+=7),m.add(h,n));return p.diff(f,"week")+1},l.isoWeekday=function(d){return this.$utils().u(d)?this.day()||7:this.day(this.day()%7?d:d-7)};var i=l.startOf;l.startOf=function(d,c){var u=this.$utils(),m=!!u.u(c)||c;return u.p(d)==="isoweek"?m?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):i.bind(this)(d,c)}}})})(nu);const Br=qn;var zn={},su={get exports(){return zn},set exports(t){zn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){return function(n,s){s.prototype.isSameOrAfter=function(a,r){return this.isSame(a,r)||this.isAfter(a,r)}}})})(su);const au=zn;var Un={},ru={get exports(){return Un},set exports(t){Un=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){return function(n,s){s.prototype.isSameOrBefore=function(a,r){return this.isSame(a,r)||this.isBefore(a,r)}}})})(ru);const iu=Un;var jn={},ou={get exports(){return jn},set exports(t){jn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,a,r){var o=a.prototype,l=o.format;r.en.formats=n,o.format=function(i){i===void 0&&(i="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,c=function(u,m){return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,p,f){var g=f&&f.toUpperCase();return p||m[f]||n[f]||m[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,M,I){return M||I.slice(1)})})}(i,d===void 0?{}:d);return l.call(this,c)}}})})(ou);const _s=jn;var Zn={},lu={get exports(){return Zn},set exports(t){Zn=t}};(function(t,e){(function(n,s){t.exports=s()})(we,function(){return function(n,s,a){var r=function(o,l){if(!l||!l.length||!l[0]||l.length===1&&!l[0].length)return null;var i;l.length===1&&l[0].length>0&&(l=l[0]),i=l[0];for(var d=1;d<l.length;d+=1)l[d].isValid()&&!l[d][o](i)||(i=l[d]);return i};a.max=function(){var o=[].slice.call(arguments,0);return r("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return r("isBefore",o)}}})})(lu);const cu=Zn,du={NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"},ga=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];/*!
 * feiertage.js
 * @repository https://github.com/sfakir/feiertagejs
 * @docs https://github.com/sfakir/feiertagejs/blob/master/docs.md
 *
 * Copyright 2015-2021 Simon Fakir
 * Released under the MIT license
 */const uu="de";let Ea=uu;const mu={de:du};function fu(t,e){hu(e);const n=t.getFullYear(),s=Ss(t);return pu(n,e).indexOf(s)!==-1}function hu(t){if(t==null)throw new Error("Region must not be undefined or null");if(ga.indexOf(t)===-1)throw new Error(`Invalid region: ${t}! Must be one of ${ga.toString()}`)}function pu(t,e){return gu(t,e).map(s=>Ss(s.date))}function gu(t,e){const n=Du(t),s=ze(new Date(n.getTime()),-2),a=ze(new Date(n.getTime()),1),r=ze(new Date(n.getTime()),39),o=ze(new Date(n.getTime()),49),l=ze(new Date(n.getTime()),50),i=[...Eu(t),J("KARFREITAG",s),J("OSTERMONTAG",a),J("CHRISTIHIMMELFAHRT",r),J("PFINGSTMONTAG",l)];return vu(t,e,i),yu(t,e,n,o,i),_u(e,n,i),Su(t,e,i),Tu(t,e,i),wu(t,e,i),Au(t,e,i),Nu(t,e,i),Cu(t,e,i),bu(t,e,i),i.sort((d,c)=>d.date.getTime()-c.date.getTime())}function Eu(t){return[J("NEUJAHRSTAG",se(t,1,1)),J("TAG_DER_ARBEIT",se(t,5,1)),J("DEUTSCHEEINHEIT",se(t,10,3)),J("ERSTERWEIHNACHTSFEIERTAG",se(t,12,25)),J("ZWEITERWEIHNACHTSFEIERTAG",se(t,12,26))]}function bu(t,e,n){e==="AUGSBURG"&&n.push(J("AUGSBURGER_FRIEDENSFEST",se(t,8,8)))}function vu(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="ST"||e==="ALL")&&n.push(J("HEILIGEDREIKOENIGE",se(t,1,6)))}function yu(t,e,n,s,a){(e==="BB"||e==="ALL")&&a.push(J("OSTERSONNTAG",n),J("PFINGSTSONNTAG",s))}function _u(t,e,n){if(t==="BW"||t==="BY"||t==="AUGSBURG"||t==="HE"||t==="NW"||t==="RP"||t==="SL"||t==="ALL"){const s=ze(new Date(e.getTime()),60);n.push(J("FRONLEICHNAM",s))}}function Su(t,e,n){(e==="SL"||e==="BY"||e==="AUGSBURG"||e==="ALL")&&n.push(J("MARIAHIMMELFAHRT",se(t,8,15)))}function Tu(t,e,n){(t===2017||e==="NI"||e==="BB"||e==="HB"||e==="HH"||e==="MV"||e==="SN"||e==="ST"||e==="TH"||e==="SH"||e==="ALL")&&n.push(J("REFORMATIONSTAG",se(t,10,31)))}function wu(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="NW"||e==="RP"||e==="SL"||e==="ALL")&&n.push(J("ALLERHEILIGEN",se(t,11,1)))}function Au(t,e,n){if(e==="SN"||e==="ALL"){const s=Bu(t);n.push(J("BUBETAG",se(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate())))}}function Nu(t,e,n){t>=2019&&(e==="TH"||e==="ALL")&&n.push(J("WELTKINDERTAG",se(t,9,20)))}function Cu(t,e,n){t<=2018||((e==="BE"||e==="ALL")&&n.push(J("WELTFRAUENTAG",se(t,3,8))),e==="MV"&&t>=2023&&n.push(J("WELTFRAUENTAG",se(t,3,8))))}function Du(t){const e=Math.floor(t/100),n=t-19*Math.floor(t/19),s=Math.floor((e-17)/25);let a=e-Math.floor(e/4)-Math.floor((e-s)/3)+19*n+15;a-=30*Math.floor(a/30),a-=Math.floor(a/28)*(1-Math.floor(a/28)*Math.floor(29/(a+1))*Math.floor((21-n)/11));let r=t+Math.floor(t/4)+a+2-e+Math.floor(e/4);r-=7*Math.floor(r/7);const o=a-r,l=3+Math.floor((o+40)/44),i=o+28-31*Math.floor(l/4);return new Date(t,l-1,i)}function Bu(t){const e=new Date(t,11,25,12,0,0),n=32;let s=e.getDay()%7;s===0&&(s=7);const a=s+n;let r=new Date(e.getTime());return r=ze(r,-a),r}function ze(t,e){const n=new Date(t);return n.setDate(t.getDate()+e),n}function se(t,e,n){return new Date(t,e-1,n)}function J(t,e){return{name:t,date:e,dateString:ba(e),trans(n=Ea){return console.warn('FeiertageJs: You are using "Holiday.trans() method. This will be replaced in the next major version with translate()"'),this.translate(n)},translate(n=Ea){return n==null?void 0:mu[n][this.name]},getNormalizedDate(){return Ss(this.date)},equals(n){const s=ba(n);return this.dateString===s}}}function ba(t){const e=new Date(t.getTime()-t.getTimezoneOffset()*60*1e3);return e.setUTCHours(0,0,0,0),e.toISOString().slice(0,10)}function Ss(t){const e=new Date(t);return e.setHours(0,0,0,0),e.getTime()}class Mu{constructor(e,n,s){if(!n.name)throw Error("Name fehlt");if(!n.title&&!n.editing)throw Error("Title fehlt");this.index=s,this.name=n.name,this.title=n.title,this.breakpoints=n.breakpoints,this.sortable=n.sortable,this.sorted=n.sorted,this.direction=n.direction,this.type=n.type,this.parser=n.parser,this.classes=n.classes,this.visible=n.visible,n.editing&&(this.editing=n.editing),this.CustomTable=e}}class Iu{constructor(e,n){this.array=n.map((s,a)=>new Mu(e,s,a)),this.CustomTable=e}}class Q{constructor(e,n){this.CustomTable=e,this.columns=e.columns,this.cells=n}deleteRow(){this.CustomTable.rows.array=this.CustomTable.rows.array.filter(e=>e!==this),this.CustomTable.drawRows()}val(e){this.cells=e,this.CustomTable.drawRows()}}class Lu{constructor(e,n){vn(this,"array",[]);this.array=n.map(s=>new Q(e,s)),this.CustomTable=e}add(e){this.array.push(new Q(this.CustomTable,e)),this.CustomTable.drawRows()}load(e,n=!1){n||(this.array.length=0),e.forEach(s=>this.array.push(new Q(this.CustomTable,s))),this.CustomTable.drawRows()}}var nn,Mr,Mt,Jn,sn,Ir;class xt{constructor(e,n){Yt(this,nn);Yt(this,Mt);Yt(this,sn);vn(this,"rows",{});if(typeof e=="string")this.table=e,this.$el=document.querySelector(`#${e}`);else if(e instanceof HTMLTableElement)this.table=e.id,this.$el=e;else throw Error("Tabellen Fehler");this.$el.instance=this,this.state={},this.o={breakpoints:{xs:480,sm:576,md:768,lg:992,xl:1200,xxl:1400}},this.options=l(n);let s=this,a=s.$el.tHead,r=s.$el.tBodies,o=s.$el.tFoot;if(s.$el.classList.add("customtable",...s.options.classes),(!a||a.length===0)&&s.$el.createTHead(),(!r||r.length===0)&&s.$el.createTBody(),(!o||o.length===0)&&s.$el.createTFoot(),s.state=d(),s.state.editing){const c={enabled:s.options.editing.enabled,name:"editing",title:"",type:"editing",breakpoints:"",sortable:!1,editing:s.options.editing,classes:["customtable-editing"],visible:!0},u=this.maxBreakpoint(s.options.columns),m=Object.entries(this.o.breakpoints).find(h=>h[1]===u)[0];c.classes.push(`customtable-toggle-${m}`),s.options.columns.unshift(c)}return s.columns=new Iu(s,s.options.columns),s.rows=new Lu(s,s.options.rows),s.draw(),s.$el.tFoot.length===0&&s.$el.tHead.deleteTFoot(),s.$el.tHead.length===0&&s.$el.tHead.deleteTHead(),console.log(this),this;function l(c){if(!c.columns)throw Error("Spalten fehlen");return{columns:c.columns.map(u=>{if(!u.name)throw Error("Spalten Name fehlt");return{name:u.name,title:u.title??"",breakpoints:u.breakpoints??null,sortable:u.sortable??!1,sorted:u.sorted??!1,direction:u.direction??null,type:u.type??"text",parser:u.parser??i,classes:u.classes??[],visible:u.visible??!0}}),rows:c.rows??[],empty:c.empty??"Keine Daten gefunden",sorting:{enabled:c.sorting.enabled??!1},editing:{enabled:c.editing.enabled??!1,addText:c.editing.addText??"Neue Zeile",editText:c.editing.editText??'<span class="material-icons-round small-icons" aria-hidden="true">edit</span>',deleteText:c.editing.deleteText??'<span class="material-icons-round small-icons" aria-hidden="true">delete</span>',deleteAllText:c.editing.deleteAllText??"Alle Zeilen löschen",addRow:c.editing.addRow??function(){},editRow:c.editing.editRow??function(){},showRow:c.editing.showRow??function(){},deleteRow:c.editing.deleteRow??function(){},deleteAllRows:c.editing.deleteAllRows??_t(s,nn,Mr),customButton:c.editing.customButton??null},classes:c.classes??[],customFunction:c.customFunction??null}}function i(c){switch(this.type){case"text":return c;case"number":return c+"";case"time":return c.length>0?c:"--:--";default:return c}}function d(){var c,u;return{sorting:((c=s.options.sorting)==null?void 0:c.enabled)??null,editing:((u=s.options.editing)==null?void 0:u.enabled)??null}}}getRows(){return this.rows.array}getArray(){return this.rows.array.map(e=>Object.values(e.cells))}draw(){var e,n;(e=this.options.customFunction)!=null&&e.beforeDraw&&this.options.customFunction.beforeDraw(this),this.drawHeader(),this.drawFooter(),this.drawRows(),(n=this.options.customFunction)!=null&&n.afterDraw&&this.options.customFunction.afterDraw(this)}drawFooter(){var a,r,o;(a=this.options.customFunction)!=null&&a.beforeDrawFooter&&this.options.customFunction.beforeDrawFooter(this);let e=this;const n=e.$el.tFoot;if(n.innerHTML="",e.state.editing){let l=document.createElement("tr");l.classList.add("customtable-editing");let i=document.createElement("td");i.colSpan=e.columns.array.length+1;let d=document.createElement("div");d.classList.add("justify-content-sm-evenly");let c=s(["btn","btn-primary"],e.options.editing.addText,e.options.editing.addRow),u=s(["btn","btn-danger"],e.options.editing.deleteAllText,e.options.editing.deleteAllRows);d.appendChild(c),((r=e.options.editing.customButton)==null?void 0:r.length)>0&&e.options.editing.customButton.forEach(m=>{let h=s(m.classes,m.text,m.function);d.appendChild(h)}),d.appendChild(u),i.appendChild(d),l.appendChild(i),n.appendChild(l)}(o=this.options.customFunction)!=null&&o.afterDrawFooter&&this.options.customFunction.afterDrawFooter(this);function s(l=["btn","btn-primary"],i="Button",d=()=>{}){let c=document.createElement("button");return c.classList.add(...l),c.innerText=i,c.title=i,c.addEventListener("click",d),c}}drawRows(){var o,l,i;(o=this.options.customFunction)!=null&&o.beforeDrawRows&&this.options.customFunction.beforeDrawRows(this);let e=this;const n=e.$el.tHead,s=e.$el.tBodies[0],a=e.$el.tFoot;s.innerHTML="";const r=e.columns.array.find(d=>d.sorted);if(r&&_t(l=e,Mt,Jn).call(l,r.index,r.direction),e.rows.array.length>0){for(const d of e.rows.array){let c=document.createElement("tr");d.columns.array.forEach(u=>{if(!u.visible)return;let m=document.createElement("td");if(u.editing){let h=document.createElement("div");h.classList.add("btn-group","btn-group-sm"),h.setAttribute("role","group");const p=(C,M,I,D="button")=>{const B=document.createElement("button");return B.classList.add(...C),B.innerHTML=M,B.title=D,B.addEventListener("click",v=>{v.stopPropagation(),I(d)}),B},f=p(["btn","btn-outline-primary"],u.editing.editText,e.options.editing.editRow,"edit"),g=p(["btn","btn-outline-danger"],u.editing.deleteText,e.options.editing.deleteRow,"delete");h.append(f),h.append(g),m.appendChild(h)}else m.innerHTML=u.parser(d.cells[u.name]);u.breakpoints&&(m.dataset.breakpoints=u.breakpoints),u.classes.length>0&&m.classList.add(...u.classes),c.append(m)}),c.addEventListener("click",u=>{u.view.innerWidth>e.maxBreakpoint()||(u.stopPropagation(),e.options.editing.showRow(d))}),c.data=d,d.$el=c,s.appendChild(c)}n.style.display="",a.querySelector(".btn-danger").style.display=""}else{let d=document.createElement("tr");d.classList.add("customtable-empty");let c=document.createElement("td");c.colSpan=e.columns.array.length+1,c.innerText=e.options.empty,d.appendChild(c),s.appendChild(d),n.style.display="none",a.querySelector(".btn-danger").style.display="none"}(i=this.options.customFunction)!=null&&i.afterDrawRows&&this.options.customFunction.afterDrawRows(this)}drawHeader(){var o,l;(o=this.options.customFunction)!=null&&o.beforeDrawHeader&&this.options.customFunction.beforeDrawHeader(this);let e=this;const n=e.$el.tHead;n.innerHTML="";let s=document.createElement("tr");s.classList.add("customtable-header","table-primary"),e.columns.array.forEach(i=>{if(!i.visible)return;let d=document.createElement("th");i.classes.length>0&&d.classList.add(i.classes),d.innerHTML=i.title,i.breakpoints&&(d.dataset.breakpoints=i.breakpoints),e.state.sorting&&i.sortable&&a(d,i),i.$el=d,s.appendChild(d)}),n.appendChild(s),(l=this.options.customFunction)!=null&&l.afterDrawHeader&&this.options.customFunction.afterDrawHeader(this);function a(i,d){i.classList.add("customtable-sortable");let c=document.createElement("span");c.classList.add("customtableIcon"),r(d,i,c),i.append(c),i.addEventListener("click",u=>{var h;const m=u.target.closest("th");_t(h=e,sn,Ir).call(h,m)})}function r(i,d,c){var m;if(!i.sorted)return c.classList.add("customtable-sort");let u=i.direction.toLowerCase();_t(m=e,Mt,Jn).call(m,i.index,u.toUpperCase()),d.classList.add(`customtable-${u}`),c.classList.add(u=="asc"?"customtable-sort-asc":"customtable-sort-desc")}}breakpoints(e){return e||(e=this.columns.array),Array.from(new Set([].concat(...e.filter(n=>n.breakpoints).map(n=>n.breakpoints.split(" ")))))}maxBreakpoint(e){return Math.max(...this.breakpoints(e).map(n=>this.o.breakpoints[n]))}}nn=new WeakSet,Mr=function(){this.rows.array.length=0,this.draw()},Mt=new WeakSet,Jn=function(e,n){const s={ASC:[1,-1],DESC:[-1,1],default:[1,-1]};let a=this.rows.array,r=(o,l)=>{let i=o.cells[o.columns.array[e].name],d=l.cells[l.columns.array[e].name];return typeof i=="string"&&(i=i.toLowerCase()),typeof d=="string"&&(d=d.toLowerCase()),d.localeCompare(i,void 0,{numeric:!0})*(s[n]||s.default)[1]};a.sort(r)},sn=new WeakSet,Ir=function(e){const n=this.columns.array.find(a=>a.$el==e),s=n.direction==="ASC"?"DESC":"ASC";this.columns.array.forEach(a=>{a.sorted=!1,a.direction=null}),n.direction=s,n.sorted=!0,this.draw()};function en(t,e){return new xt(t,e)}class Ou{constructor(e){const n=this;let s,a,r,o,l,i;function d(){c(),u(),m(),a=h(),r.appendChild(a),i.timeout!==!1&&i.timeout>0&&(s=setTimeout(n.Close,i.timeout))}function c(){i={message:(e==null?void 0:e.message)??"Operation performed successfully.",dismissible:(e==null?void 0:e.dismissible)??!0,timeout:(e==null?void 0:e.timeout)??5e3,status:e!=null&&e.status?e.status.toLowerCase().trim():"",actions:(e==null?void 0:e.actions)??[],fixed:(e==null?void 0:e.fixed)??!1,position:(e==null?void 0:e.position)??"br",container:(e==null?void 0:e.container)??document.body,width:e==null?void 0:e.width,speed:e==null?void 0:e.speed,icon:e==null?void 0:e.icon}}function u(){let f=M();f===void 0&&(console.warn("SnackBar: Could not find target container "+i.container),f=document.body),r=g(f);function g(I){let D,B=p();for(let v=0;v<I.children.length;v++)if(D=I.children.item(v),D.nodeType===1&&D.classList.length>0&&D.classList.contains("js-snackbar-container")&&D.classList.contains(B))return D;return C(I)}function C(I){let D=document.createElement("div");return D.classList.add("js-snackbar-container"),i.fixed&&D.classList.add("js-snackbar-container--fixed"),I.appendChild(D),D}function M(){return typeof i.container=="string"?document.querySelector(i.container):i.container}}function m(){r.classList.add(p());let f="js-snackbar-container--fixed";i.fixed?r.classList.add(f):r.classList.remove(f)}function h(){const f=C(),g=M();return f.appendChild(g),f;function C(){let _=document.createElement("div");return _.classList.add("js-snackbar__wrapper"),_.style.height="0px",_.style.opacity="0",_.style.marginTop="0px",_.style.marginBottom="0px",w(_),O(_),_}function M(){const _=document.createElement("div");return _.classList.add("js-snackbar","js-snackbar--show"),I(_),D(_),B(_),v(_),_}function I(_){if(!i.status)return;const b=document.createElement("span");b.classList.add("js-snackbar__status"),x(b),R(b),_.appendChild(b);function x(A){switch(i.status){case"success":case"green":A.classList.add("js-snackbar--success");break;case"warning":case"alert":case"orange":A.classList.add("js-snackbar--warning");break;case"danger":case"error":case"red":A.classList.add("js-snackbar--danger");break;default:A.classList.add("js-snackbar--info");break}}function R(A){if(!i.icon)return;const S=document.createElement("span");switch(S.classList.add("js-snackbar__icon"),i.icon){case"exclamation":case"warn":case"danger":S.innerText="!";break;case"info":case"question":case"question-mark":S.innerText="?";break;case"plus":case"add":S.innerText="+";break;default:i.icon.length>1&&console.warn("Invalid icon character provided: ",i.icon),S.innerText=i.icon.substr(0,1);break}A.appendChild(S)}}function D(_){l=document.createElement("div"),l.classList.add("js-snackbar__message-wrapper"),o=document.createElement("span"),o.classList.add("js-snackbar__message"),o.innerHTML=i.message,l.appendChild(o),_.appendChild(l)}function B(_){if(typeof i.actions!="object")return;i.actions.forEach(x=>{b(_,x)});function b(x,R){const A=document.createElement("span");A.classList.add("js-snackbar__action",...R.class??[]),A.textContent=R.text,typeof R.function=="function"?R.dismiss===!0?A.onclick=function(){R.function(),n.Close()}:A.onclick=R.function:A.onclick=n.Close,x.appendChild(A)}}function v(_){if(!i.dismissible)return;const b=document.createElement("span");b.classList.add("js-snackbar__close"),b.innerText="×",b.onclick=n.Close,_.appendChild(b)}function w(_){i.width&&(_.style.width=i.width)}function O(_){const{speed:b}=i;switch(typeof b){case"number":_.style.transitionDuration=b+"ms";break;case"string":_.style.transitionDuration=b;break}}}function p(){switch(i.position){case"bl":return"js-snackbar-container--bottom-left";case"tl":return"js-snackbar-container--top-left";case"tr":return"js-snackbar-container--top-right";case"tc":case"tm":return"js-snackbar-container--top-center";case"bc":case"bm":return"js-snackbar-container--bottom-center";default:return"js-snackbar-container--bottom-right"}}this.Open=()=>{const f=C();a.style.height=f+"px",a.style.opacity=1,a.style.marginTop="5px",a.style.marginBottom="5px";const g=()=>{a.removeEventListener("transitioned",g),a.style.height=null};return a.addEventListener("transitioned",g),this;function C(){const M=window.getComputedStyle(l);return o.scrollHeight+parseFloat(M.getPropertyValue("padding-top"))+parseFloat(M.getPropertyValue("padding-bottom"))}},this.Close=()=>{s&&clearInterval(s);const f=a.scrollHeight,g=a.style.transition;a.style.transition="",requestAnimationFrame(()=>{a.style.height=f+"px",a.style.opacity=1,a.style.marginTop="0px",a.style.marginBottom="0px",a.style.transition=g,requestAnimationFrame(()=>{a.style.height="0px",a.style.opacity=0})}),setTimeout(function(){r.removeChild(a)},1e3)},d(),n.Open()}}const z=t=>new Ou(t);N.locale("de");N.extend(hn);N.extend(ys);N.extend(_s);N.extend(Br);N.extend(Dr);N.extend(iu);N.extend(au);N.extend(cu);window.addEventListener("load",()=>{const t=a=>N(a).format("DD.MM.YYYY, LT"),e=a=>a||"",n=en("tableBZ",{columns:[{name:"beginB",title:"Von",parser:t,sortable:!0,sorted:!0,direction:"ASC"},{name:"endeB",title:"Bis",parser:t,sortable:!0},{name:"pauseB",title:"Pause",parser:e,breakpoints:"xs"}],rows:Ie(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const a=va(n,"Zeitraum hinzufügen");a.row=n,new U(a).show()},editRow:a=>{const r=va(a,"Zeitraum bearbeiten");r.row=a,new U(r).show()},showRow:a=>{const r=_a(a,"Zeitraum anzeigen");r.row=a,new U(r).show()},deleteRow:a=>{a.deleteRow(),V("tableBZ",n)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?")&&(n.rows.load([]),oe(!1),localStorage.setItem("dataBZ",JSON.stringify([])))}}}),s=en("tableBE",{columns:[{name:"tagBE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"auftragsnummerBE",title:"Auftrags-Nr.",classes:["custom-text-truncate"]},{name:"beginBE",title:"Von",breakpoints:"sm",type:"time"},{name:"endeBE",title:"Bis",breakpoints:"sm",type:"time"},{name:"lreBE",title:"LRE",breakpoints:""},{name:"privatkmBE",title:"Privat Km",parser:e,breakpoints:"md"}],rows:ft(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const a=ya(s,"Einsatz hinzufügen");a.row=s,new U(a).show()},editRow:a=>{const r=ya(a,"Einsatz bearbeiten");r.row=a,new U(r).show()},showRow:a=>{const r=_a(a,"Einsatz anzeigen");r.row=a,new U(r).show()},deleteRow:a=>{a.deleteRow(),V("tableBE",s)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?")&&(s.rows.load([]),oe(!1),localStorage.setItem("dataBE",JSON.stringify([])))}}});document.querySelector("#btnESZ").addEventListener("click",$u),document.querySelector("#btnESE").addEventListener("click",ku),document.getElementById("btnSaveB").addEventListener("click",()=>{pn(document.getElementById("btnSaveB"))}),document.getElementById("btnDownloadB").addEventListener("click",()=>{ws(document.getElementById("btnDownloadB"),"B")})});function $u(){const{modal:t,form:e}=be("Neue Bereitschaft eingeben",!0,null,n,Ve(),s);new U(t).show();function n(){const a=document.createElement("div");a.className="modal-body row";const r=JSON.parse(localStorage.getItem("VorgabenB")),o=+localStorage.getItem("Monat"),l=+localStorage.getItem("Jahr");let i=N([l,o-1,N().date()]).isoWeekday(3);i.isSameOrBefore(N([l,o-1]).startOf("M"))?i=i.add(1,"w"):i.isSameOrAfter(N([l,o-1]).endOf("M"))&&(i=i.subtract(1,"w")),a.appendChild(ke({checkClass:"form-check form-switch bereitschaft",id:"b12",text:"B1 - B2?",status:!1,eventListener:()=>Ts(JSON.parse(localStorage.getItem("VorgabenB")))})),a.appendChild(pe("Bereitschafts Anfang")),a.appendChild(H({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bA",value:i.format("YYYY-MM-DD"),type:"Date",required:!0,min:i.startOf("M").format("YYYY-MM-DD"),max:i.endOf("M").format("YYYY-MM-DD"),eventListener:()=>$r(JSON.parse(localStorage.getItem("VorgabenB")))})),a.appendChild(H({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"bAT",value:r[1],type:"time",required:!0,disabled:!0})),a.appendChild(pe("Bereitschafts Ende")),a.appendChild(H({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bE",value:i.isoWeekday(10).format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:i.startOf("M").format("YYYY-MM-DD"),max:i.add(1,"M").endOf("M").format("YYYY-MM-DD")})),a.appendChild(H({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"bET",value:r[0],type:"time",required:!0,disabled:!0})),a.appendChild(document.createElement("hr")),a.appendChild(ke({checkClass:"form-check form-switch bereitschaft",id:"nacht",text:"Nachtschicht",status:!0,eventListener:Lr}));const d=document.createElement("div");d.id="nachtschicht",d.className="row m-0 p-0",a.appendChild(d),d.appendChild(ke({checkClass:"form-check form-switch bereitschaft",id:"sa",text:"Nachtschicht ab Samstag?",status:!1,eventListener:()=>Or(JSON.parse(localStorage.getItem("VorgabenB")))})),d.appendChild(pe("Nacht Anfang")),d.appendChild(H({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nA",value:i.isoWeekday(7).format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:i.startOf("M").format("YYYY-MM-DD"),max:i.add(1,"M").endOf("M").format("YYYY-MM-DD")})),d.appendChild(H({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"nAT",value:r[4],type:"time",required:!0,disabled:!0})),d.appendChild(pe("Nacht Ende")),d.appendChild(H({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nE",value:i.isoWeekday(10).format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:i.startOf("M").format("YYYY-MM-DD"),max:i.add(1,"M").endOf("M").format("YYYY-MM-DD")})),d.appendChild(H({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"nET",value:r[5],type:"time",required:!0,disabled:!0}));const c=document.createElement("hr");return c.classList.add("mt-3"),a.appendChild(c),a.appendChild(ke({checkClass:"form-check form-switch bereitschaft",id:"eigen",text:"Eingabe Eigene Werte?",status:!1,eventListener:()=>xu(JSON.parse(localStorage.getItem("VorgabenB")))})),a}function s(){return a=>{e.checkValidity&&!e.checkValidity()||(a.preventDefault(),Yu(localStorage.getItem("accessToken")),U.getInstance(t).hide(),V("tableBZ",document.querySelector("#tableBZ").CustomTable))}}}function va(t,e){const{modal:n,form:s}=be(e,!0,"sm",a,Ve(null,t instanceof Q?"Speichern":null),r);return n;function a(){const o=document.createElement("div");if(o.className="modal-body row",t instanceof Q)t.columns.array.forEach(l=>{let i,d,c;switch(l.name){case"editing":break;case"beginB":case"endeB":i=N(t.cells[l.name]),d=i.startOf("M").format("YYYY-MM-DDTHH:mm"),c=i.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),o.appendChild(H({divClass:"form-floating col-12 pb-3",title:l.title,name:l.name,value:N(t.cells[l.name]).format("YYYY-MM-DDTHH:mm"),type:"datetime-local",required:!0,min:d,max:c}));break;default:o.appendChild(H({divClass:"form-floating col-12",title:l.title,name:l.name,value:l.parser(t.cells[l.name]),type:"number",min:0,max:60}));break}});else if(t instanceof xt){const l=+localStorage.getItem("Monat"),i=+localStorage.getItem("Jahr");t.columns.array.forEach(d=>{let c,u,m;switch(d.name){case"editing":break;case"beginB":case"endeB":c=N([i,l-1,N().date()]),u=c.startOf("M").format("YYYY-MM-DDTHH:mm"),m=c.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),o.appendChild(H({divClass:"form-floating col-12 pb-3",title:d.title,name:d.name,value:null,type:"datetime-local",required:!0,min:u,max:m}));break;default:o.appendChild(H({divClass:"form-floating col-12",title:d.title,name:d.name,value:0,type:"number",min:0,max:60}));break}})}return o}function r(){return o=>{if(s.checkValidity&&!s.checkValidity())return;o.preventDefault();const l=n.row,i={beginB:N(s.querySelector("#beginB").value).toISOString(),endeB:N(s.querySelector("#endeB").value).toISOString(),pauseB:Number(s.querySelector("#pauseB").value)};l instanceof Q?l.val(i):l.rows.add(i),U.getInstance(n).hide(),V("tableBZ",l.CustomTable||l)}}}function ku(){const{modal:t,form:e}=be("Neuen Bereitschaftseinsatz eingeben",!0,null,n,Ve(),s);new U(t).show();function n(){const a=document.createElement("div");a.className="modal-body row";const r=N([+localStorage.getItem("Jahr"),+localStorage.getItem("Monat")-1,N().date()]);a.appendChild(H({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Datum",name:"Datum",value:r.format("YYYY-MM-DD"),type:"date",required:!0,min:r.startOf("M").format("YYYY-MM-DD"),max:r.endOf("M").format("YYYY-MM-DD")})),a.appendChild(H({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:"SAPNR",value:"",type:"text",required:!0})),a.appendChild(H({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Von",name:"ZeitVon",value:null,type:"time",required:!0})),a.appendChild(H({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Bis",name:"ZeitBis",value:null,type:"time",required:!0})),a.appendChild(Le({divClass:"form-floating col-12 col-sm-6 pb-3",title:"LRE",name:"LRE",value:null,options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),a.appendChild(Rr()),a.appendChild(H({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Privat Km",name:"privatkm",value:0,type:"number",min:0}));const o=document.createElement("div");return o.className="col-12",o.appendChild(ke({checkClass:"form-check form-switch bereitschaft",id:"berZeit",text:"zusätzliche Bereitschaftszeit Eingeben?<br><small>(z.B. LRE3 Außerhalb der Bereitschaft.)</small>",status:!1})),a.appendChild(o),a}function s(){return a=>{e.checkValidity&&!e.checkValidity()||(a.preventDefault(),Ru(),U.getInstance(t).hide(),V("tableBE",document.querySelector("#tableBE").CustomTable))}}}function ya(t,e){const{modal:n,form:s}=be(e,!0,null,a,Ve(null,t instanceof Q?"Speichern":null),r);return n;function a(){const o=document.createElement("div");o.className="modal-body row";let l;if(t instanceof Q)l=N(t.cells.tagBE,"DD.MM.YYYY");else if(t instanceof xt){const i=+localStorage.getItem("Monat"),d=+localStorage.getItem("Jahr");l=N([d,i-1,N().date()])}else throw Error("unbekannter Fehler");return t.columns.array.forEach(i=>{switch(i.name){case"tagBE":o.appendChild(H({divClass:"form-floating col-12 col-sm-6 pb-3",title:i.title,name:i.name,value:l.format("YYYY-MM-DD"),type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")}));break;case"auftragsnummerBE":o.appendChild(H({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:i.name,value:t.cells&&t.cells[i.name]||"",type:"text",required:!0}));break;case"beginBE":case"endeBE":o.appendChild(H({divClass:"form-floating col-12 col-sm-6 pb-3",title:i.title,name:i.name,value:t.cells&&t.cells[i.name]||"",type:"time",required:!0}));break;case"lreBE":o.appendChild(Le({divClass:"form-floating col-12 col-sm-6 pb-3",title:i.title,name:i.name,value:t.cells&&t.cells[i.name]||"",options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),o.appendChild(Rr());break;case"privatkmBE":o.appendChild(H({divClass:"form-floating col-12 col-sm-6",title:i.title,name:i.name,value:t.cells&&t.cells[i.name]||0,type:"number",min:0}));break}}),o}function r(){return o=>{if(s.checkValidity&&!s.checkValidity())return;o.preventDefault();const l=n.row,i={tagBE:N(s.querySelector("#tagBE").value).format("DD.MM.YYYY"),auftragsnummerBE:s.querySelector("#auftragsnummerBE").value,beginBE:s.querySelector("#beginBE").value,endeBE:s.querySelector("#endeBE").value,lreBE:s.querySelector("#lreBE").value,privatkmBE:Number(s.querySelector("#privatkmBE").value)};l instanceof Q?l.val(i):l.rows.add(i),U.getInstance(n).hide(),V("tableBE",l.CustomTable||l)}}}function _a(t,e){const{modal:n}=be(e,!1,"sm",s,As);return n;function s(){const a=document.createElement("div");return a.className="modal-body",t.columns.array.forEach(r=>{r.editing||a.appendChild(Ct({divClass:"",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-7 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])}))}),a}}function Ie(t){if(t==null){if(localStorage.getItem("dataBZ")==null)return[];t=JSON.parse(localStorage.getItem("dataBZ"))}if(t.length===0||gn(t[0]))return t;const e=[];return t.forEach((n,s)=>{e[s]={beginB:n[0],endeB:n[1],pauseB:n[2]===""?0:Number(n[2])}}),e}function ft(t){if(t==null){if(localStorage.getItem("dataBE")==null)return[];t=JSON.parse(localStorage.getItem("dataBE"))}if(t.length===0||gn(t[0]))return t;const e=[];return t.forEach((n,s)=>{e[s]={tagBE:n[0],auftragsnummerBE:n[1],beginBE:n[2],endeBE:n[3],lreBE:n[4],privatkmBE:n[5]===""?0:Number(n[5])}}),e}function Ts(t=JSON.parse(localStorage.getItem("VorgabenB")),e=N(document.getElementById("bA").value)){document.getElementById("b12").checked?(document.getElementById("bE").value=e.isoWeekday(6).format("YYYY-MM-DD"),document.getElementById("bET").value=t[3],document.getElementById("nacht").checked=!1):(document.getElementById("bE").value=e.isoWeekday(10).format("YYYY-MM-DD"),document.getElementById("bET").value=t[0],document.getElementById("nacht").checked=!0),Lr()}function Lr(){document.getElementById("nacht").checked?document.getElementById("nachtschicht").style.display="flex":document.getElementById("nachtschicht").style.display="none"}function Or(t=JSON.parse(localStorage.getItem("VorgabenB")),e=N(document.getElementById("bA").value)){document.getElementById("sa").checked?(document.getElementById("nA").value=e.isoWeekday(6).format("YYYY-MM-DD"),document.getElementById("nAT").value=t[3],document.getElementById("nE").value=e.isoWeekday(10).format("YYYY-MM-DD")):(document.getElementById("nA").value=e.isoWeekday(7).format("YYYY-MM-DD"),document.getElementById("nAT").value=t[4],document.getElementById("nE").value=e.isoWeekday(10).format("YYYY-MM-DD"))}function $r(t=JSON.parse(localStorage.getItem("VorgabenB"))){const e=N(document.getElementById("bA").value);Ts(t,e),Or(t,e)}function xu(t=JSON.parse(localStorage.getItem("VorgabenB"))){document.getElementById("eigen").checked?(document.getElementById("bAT").disabled=!1,document.getElementById("bE").disabled=!1,document.getElementById("bET").disabled=!1,document.getElementById("nA").disabled=!1,document.getElementById("nAT").disabled=!1,document.getElementById("nE").disabled=!1,document.getElementById("nET").disabled=!1):(document.getElementById("bAT").disabled=!0,document.getElementById("bE").disabled=!0,document.getElementById("bET").disabled=!0,document.getElementById("nA").disabled=!0,document.getElementById("nAT").disabled=!0,document.getElementById("nE").disabled=!0,document.getElementById("nET").disabled=!0,$r(t),document.getElementById("bAT").value=t[1],Ts(t),document.getElementById("nET").value=t[5])}function Ru(){Fe("btnESE");const t={tagBE:N(document.getElementById("Datum").value).format("DD.MM.YYYY"),auftragsnummerBE:document.getElementById("SAPNR").value,beginBE:document.getElementById("ZeitVon").value,endeBE:document.getElementById("ZeitBis").value,lreBE:document.querySelector("#LRE").value,privatkmBE:Number(document.getElementById("privatkm").value)},e=document.getElementById("berZeit").checked;console.log(t);const n=document.getElementById("tableBE").instance;if(n.rows.add(t),V("tableBE",n),document.getElementById("SAPNR").value="",document.getElementById("ZeitVon").value="",document.getElementById("ZeitBis").value="",document.getElementById("privatkm").value="",document.getElementById("berZeit").checked=!1,document.getElementById("LRE").value="",e){t.tagBE=document.getElementById("Datum").value;const s=N(`${t.tagBE}T${t.beginBE}`),a=N(`${t.tagBE}T${t.endeBE}`).isBefore(s)?N(`${t.tagBE}T${t.endeBE}`).add(1,"d"):N(`${t.tagBE}T${t.endeBE}`),r=ie("tableBZ"),o=wt(s,a,a,a,!1,r);if(o==null){X("btnESE"),z({message:"Bereitschaft<br/>Zeitraum bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}localStorage.setItem("dataBZ",JSON.stringify(o)),document.getElementById("tableBZ").instance.rows.load(Ie(o)),z({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}X("btnESE")}async function Yu(t){Fe("btnESZ");const e=N(`${document.getElementById("bA").value}T${document.getElementById("bAT").value}`),n=N(`${document.getElementById("bE").value}T${document.getElementById("bET").value}`),s=document.getElementById("nacht").checked;let a,r;s===!0?(a=N(`${document.getElementById("nA").value}T${document.getElementById("nAT").value}`),r=N(`${document.getElementById("nE").value}T${document.getElementById("nET").value}`)):(a=n,r=n);const o=+document.getElementById("Monat").value,l=+document.getElementById("Jahr").value;let i=[],d=ie("tableBZ"),c=[];if(console.log({bereitschaftsAnfang:e}),console.log({bereitschaftsEnde:n}),console.log({nachtAnfang:a}),console.log({nachtEnde:r}),console.log({nacht:s}),console.log({monat:o}),console.log({jahr:l}),console.log({accessToken:t}),e.isSame(n,"M"))i=wt(e,n,a,r,s,d);else if(navigator.onLine){const u=n.month(),m=n.year(),h=N([m,u]);let p,f,g;if(h.isBefore(a))p=r.clone(),f=a.clone(),g=h.clone();else if(h.isAfter(r))p=r.clone(),g=h.clone(),f=n.clone(),r=n.clone();else if(h.isAfter(a)&&h.isBefore(r))p=N([m,u,1,r.hour(),r.minute()]),f=N([m,u,1,a.hour(),a.minute()]),g=p.clone();else throw Error("Fehler bei Nacht und Bereitschaft");d=wt(e,h,a,p,s,d);try{const C=await Te(`${u+1}&${m}`);if(C.statusCode!=200){console.log("Fehler");return}let M=C.data.datenB.datenBZ;console.log(M),c=wt(g,n,f,r,s,M);const I={BZ:c,Monat:u+1,Jahr:m},D=await Te("saveData",I,"POST");if(D.statusCode!=200){console.log("Fehler:",D.message),z({message:"Bereitschaft<br/>Es ist ein Fehler beim Monatswechsel aufgetreten",status:"error",timeout:3e3,position:"br",fixed:!0});return}console.log(D.data),z({message:`Bereitschaft<br/>Daten für Monat ${u+1} gespeichert`,status:"success",timeout:3e3,position:"br",fixed:!0})}catch(C){console.log(C);return}console.log("Daten Monat 1",d),console.log("Daten Monat 2",c),i=d}else{z({message:"Bereitschaft<br/>Offline: <br/>Kein Monatswechsel möglich!",status:"error",dismissible:!1,timeout:!1,position:"br",actions:[{text:"ohne wechsel fortsetzten?",function:()=>{if(i=wt(e,N([n.year(),n.month()]),a,r,s,d),i==null){X("btnESZ"),z({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}localStorage.setItem("dataBZ",JSON.stringify(i)),document.getElementById("tableBZ").instance.rows.load(Ie(i)),X("btnESZ"),z({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})},dismiss:!0,class:["text-primary"]},{text:"Abbrechen",function:()=>{X("btnESZ")},dismiss:!0}],fixed:!0});return}if(i==null){X("btnESZ"),z({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}localStorage.setItem("dataBZ",JSON.stringify(i)),document.getElementById("tableBZ").instance.rows.load(Ie(i)),X("btnESZ"),z({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}function wt(t,e,n,s,a,r){console.log("nacht: "+a),console.log("Bereitschafts Anfang: "+t.toDate()),console.log("Bereitschafts Ende: "+e.toDate()),console.log("Nacht Anfang: "+n.toDate()),console.log("Nacht Ende: "+s.toDate());let o,l,i,d,c,u,m,h,p,f,g,C;const M=E=>{const k=N(E,"HH:mm");return{hours:k.hour(),minutes:k.minute()}},I=JSON.parse(localStorage.getItem("VorgabenU")),D=N.duration(M(I.aZ.eT)),B=N.duration(M(I.aZ.eTF)),v=N.duration(M(I.aZ.bT)),w=10,O=30,_=45,b=N.duration({hours:8}),x=[b,v,v,v,v,v,b,b],R=[b,D,D,D,D,B,b,b],A=[0,O,O,O,O,0,0,0],S=(E,k,L,Y,F,q)=>{let W;const j=E.isoWeekday();return console.log(`Wochentag Bereitschafts Anfang: ${j}`),E.isSame(k,"d")||(F===!0?W=E.add(1,"d").startOf("d").add(L[j+1]):W=E.add(1,"d").startOf("d").add(b),console.log(`Merker B2.1: ${W.toDate()}`)),E.isSame(k,"d")|q===!1&&(Y===!0?W=E.startOf("d").add(L[j+1]):W=E.add(1,"d").startOf("d").add(b),console.log(`Merker B2.2: ${W.toDate()}`)),W.isAfter(E)||(F===!0?W=E.add(1,"d").startOf("d").add(L[j+1]):W=E.add(1,"d").startOf("d").add(b),console.log(`Merker B2.3: ${W.toDate()}`)),W},T=(E,k=0)=>(E=E.add(k,"d"),!(fu(E.toDate(),"HE")|E.isoWeekday()>5));m=T(t),console.log(`Arbeitstag Heute: ${m}`),h=T(t,1),console.log(`Arbeitstag Morgen: ${h}`),d=t.clone();const $=r.length;for(;r.length<26&&t.isBefore(e);){c=S(t,n,x,m,h,a),console.log(`Bereitschafts Ende A: ${c.toDate()}`),u=t.add(1,"d").hour(8).minute(0),console.log(`Bereitschafts Ende B: ${u.toDate()}`),d=N.min(c,u,n,e),console.log(`Bereitschafts Ende Merker: ${d.toDate()}`),o=n.add(1,"d").hour(s.hour()).minute(s.minute()),console.log(`Bereitschafts Anfang Nacht: ${o.toDate()}`),i=S(t,n,R,m,h,a),console.log(`Bereitschafts Anfang A: ${i.toDate()}`),l=t.isSame(d,"day")?N.min(o,i,u):N.min(N.max(i,u),o),console.log(`Bereitschafts Anfang Merker: ${l.toDate()}`),f=t.startOf("d").add(D),p===_?p=0:t.isSame(f)?p=A[t.day()]:t.isSame(f)||(p=0),C=t.hour(s.hour()).minute(s.minute()),g=f.hour(s.hour()).add(w,"h").minute(s.minute()),t.isSame(C)|t.isSame(g)&&(p=_),console.log(`Pausen Zeit: ${p}`),console.log(`Eingabe Tabelle: ${t.format("L, LT")} --- ${d.format("L, LT")} --- ${p}`);let E={beginB:t.toISOString(),endeB:d.toISOString(),pauseB:p};r.some(k=>JSON.stringify(k)===JSON.stringify(E))?console.log("Bereitschaftszeitraum bereits vorhanden"):r.push(E),t=l.clone(),console.log("Bereitschafts Anfang: "+t.toDate()),t.isAfter(n)&&(n=n.add(1,"d")),console.log(`Nacht Anfang: ${n.toDate()}`),n.isAfter(s)&&!n.isSame(e)&&(n=e.clone(),a=!1),console.log(`Nacht: ${a}`),m=T(t),console.log(`Arbeitstag Heute: ${m}`),h=T(t,1),console.log(`Arbeitstag Morgen: ${h}`),a&&(c=S(t,n,x,m,h,a),console.log(`Bereitschafts Ende A: ${c.toDate()}`),u=t.add(1,"d").startOf("d").add(b),console.log(`Bereitschafts Ende B: ${u.toDate()}`),d=N.min(c,u,n,e),console.log(`Bereitschafts Ende Merker: ${d.toDate()}`),t.isSame(n,"day")&&o.isBefore(n.subtract({days:1,hour:10}))&&d.isBefore(o.subtract(1,"h"))&&(o.add(w,"h"),console.log(`Bereitschafts Anfang Nacht: ${o}`),t=N.max(N.min(i,u),o),console.log(`Bereitschafts Anfang: ${t}`),m=T(t,0),console.log(`Arbeitstag Heute: ${m}`),h=T(t,1),console.log(`Arbeitstag Morgen: ${h}`)))}if(Yr(r),$==r.length){console.log("Keine änderung, Bereitschaft bereits vorhanden");return}return r}window.addEventListener("load",()=>{document.querySelector("#formEinstellungen").addEventListener("submit",t=>{t.preventDefault(),pn(document.getElementById("btnSaveEinstellungen"))}),localStorage.getItem("VorgabenU")&&Bt(JSON.parse(localStorage.getItem("VorgabenU")))});function Bt(t){Object.keys(t.pers).forEach(r=>{r!="Name"&&(document.getElementById(r).value=t.pers[r])}),Object.keys(t.aZ).forEach(r=>{document.getElementById(r).value=t.aZ[r]});let e=document.getElementById("TbodyTätigkeitsstätten");e.innerHTML="";let n,s;t.fZ.forEach(r=>{let o=e.insertRow();a(o,0,"Text",r.key),a(o,1,"Text",r.text),a(o,2,"time",r.value)});for(let r=0;r<5;r++){let o=e.insertRow();a(o,0,"Text",""),a(o,1,"Text",""),a(o,2,"time","")}function a(r,o,l,i){n=r.insertCell(o),s=document.createElement("input"),s.type=l,s.className="form-control text-center",s.value=i,n.appendChild(s)}}function Sa(){let t=JSON.parse(localStorage.getItem("VorgabenU"));Object.keys(t.pers).forEach(n=>{t.pers[n]=document.getElementById(n).value}),Object.keys(t.aZ).forEach(n=>{t.aZ[n]=document.getElementById(n).value}),t.fZ=e("TbodyTätigkeitsstätten"),t.pers.TB=="Tarifkraft"?document.getElementById("Neben-tab").parentElement.classList.remove("d-none"):document.getElementById("Neben-tab").parentElement.classList.add("d-none"),localStorage.setItem("VorgabenU",JSON.stringify(t));function e(n){const s=document.getElementById(n).rows;let a=[];for(const r of s){let o=r.children;const l=o[0].children[0].value;if(!l)continue;const i=o[1].children[0].value,d=o[2].children[0].value;if(!i||!d)throw z({message:`Einstellungen > Fahrzeiten > "${l}": Beschreibung / Fahrzeit fehlt`,status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Beschreibung / Fahrzeit fehlt");a.push({key:l,text:i,value:d})}return a}}N.locale("de");N.extend(hn);N.extend(ys);N.extend(_s);N.extend(Br);N.extend(Dr);window.addEventListener("load",()=>{const t=s=>s?'<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input" checked></div>':'<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input"></div>',e=s=>{switch(s){case"T":return"Tag";case"N":return"Nacht";case"BN":return"<span class='SchichtBereitschaft'>Bereitschaft<br>+ Nacht</span>";case"S":return"Sonder";default:return""}},n=en("tableE",{columns:[{name:"tagE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"eOrtE",title:"Einsatzort",classes:["custom-text-truncate"],type:"text"},{name:"schichtE",title:"Schicht",parser:e,type:"time"},{name:"abWE",title:"Ab Wohnung",breakpoints:"xl",type:"time"},{name:"beginE",title:"Arbeitszeit Von",breakpoints:"md",type:"time"},{name:"ab1E",title:"Ab 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"anEE",title:"An Einsatzort",breakpoints:"lg",type:"time"},{name:"abEE",title:"Ab Einsatzort",breakpoints:"lg",type:"time"},{name:"an1E",title:"An 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"endeE",title:"Arbeitszeit Bis",breakpoints:"md",type:"time"},{name:"anWE",title:"An Wohnung",breakpoints:"xl",type:"time"},{name:"berechnen",title:"Berechnen?",parser:t,breakpoints:"xxl"}],rows:Xe(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const s=Ta(n,"Anwesenheit hinzufügen");s.row=n,new U(s).show()},editRow:s=>{const a=Ta(s,"Anwesenheit bearbeiten");a.row=s,new U(a).show()},showRow:s=>{const a=Wu(s,"Anwesenheit anzeigen");a.row=s,new U(a).show()},deleteRow:s=>{s.deleteRow(),V("tableE",n)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?","JA","NEIN")&&(n.rows.load([]),oe(!1),localStorage.setItem("dataE",JSON.stringify([])))},customButton:[{classes:["btn","btn-secondary"],text:"Alle Zeiten entfernen",function:()=>{if(confirm(`Möchtest du wirklich alle Zeiten entfernen?
(bei Zeilen die auch berechnet werden)`)){let s=[...n.rows.array],a=[];s.forEach(r=>{if(!r.cells.berechnen)return a.push(r.cells);r.cells.abWE="",r.cells.ab1E="",r.cells.anEE="",r.cells.beginE="",r.cells.endeE="",r.cells.abEE="",r.cells.an1E="",r.cells.anWE="",a.push(r.cells)}),n.rows.load(a),V("tableE",n)}}}]},customFunction:{afterDrawRows:s=>{Pu(s)}}});document.querySelector("#btnZb").addEventListener("click",()=>{Fu(localStorage.getItem("Monat"),localStorage.getItem("Jahr"),localStorage.getItem("dataE"),localStorage.getItem("VorgabenU"))}),document.querySelector("#btnSaveE").addEventListener("click",()=>{pn(document.querySelector("#btnSaveE"))}),document.querySelector("#btnDownloadE").addEventListener("click",()=>{ws(document.querySelector("#btnDownloadE"),"E")}),document.querySelector("#btnESEE").addEventListener("click",Hu)});function Pu(t){document.querySelectorAll("#tableE .row-checkbox").forEach(e=>e.addEventListener("click",n=>{n.stopPropagation();const s=n.target.closest("tr").data;let a=s.cells;a.berechnen=n.target.checked,s.val(a),V("tableE",t)}))}function Hu(){const{modal:t,form:e}=be("Neue Anwesenheit eingeben",!0,"sm",n,Ve(),s);Kn(""),new U(t).show();function n(){const a=JSON.parse(localStorage.getItem("VorgabenU")),r=document.createElement("div");r.className="modal-body row g-2";const o=N([+localStorage.getItem("Jahr"),+localStorage.getItem("Monat")-1,N().date()]),l=document.createElement("div"),i=document.createElement("button");return i.className="btn btn-secondary btn-lg text-start col-12",i.type="button",i.id="btnNaechsterTag",i.textContent="+1 Tag",i.addEventListener("click",d=>{d.preventDefault(),Kn()}),l.appendChild(i),r.appendChild(l),r.appendChild(H({divClass:"form-floating",title:"Tag",name:"tagE",value:"",type:"date",required:!0,min:o.startOf("M").format("YYYY-MM-DD"),max:o.endOf("M").format("YYYY-MM-DD")})),r.appendChild(Le({divClass:"form-floating",title:"Einsatzort",name:"EOrt",value:null,required:!1,options:[{value:"",text:"",selected:!0},...a.fZ.map(d=>({value:d.key,text:d.key}))]})),r.appendChild(Le({divClass:"form-floating",title:"Schicht",name:"Schicht",value:null,options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}],required:!0})),r.appendChild(ke({checkClass:"form-check form-switch mt-3",id:"berechnen1",text:"Berechnen",status:!0})),r}function s(){return a=>{e.checkValidity&&!e.checkValidity()||(a.preventDefault(),zu(),V("tableE",document.querySelector("#tableE").CustomTable))}}}function Ta(t,e){const{modal:n,form:s}=be(e,!0,"fullscreen-sm-down",a,Ve(r(),t instanceof Q?"Speichern":null),o);return n;function a(){const l=JSON.parse(localStorage.getItem("VorgabenU")),i=document.createElement("div");i.className="modal-body row";let d;const c=+localStorage.getItem("Monat"),u=+localStorage.getItem("Jahr");if(t instanceof Q)d=N([u,c-1,t.cells.tagE]);else if(t instanceof xt)d=N([u,c-1,N().date()]);else throw Error("unbekannter Fehler");let m;m=t.columns.array.find(p=>p.name==="tagE"),i.appendChild(H({divClass:"form-floating col-12 col-sm-5 pb-3",title:m.title,name:m.name,value:d.format("YYYY-MM-DD"),type:"date",required:!0,min:d.startOf("M").format("YYYY-MM-DD"),max:d.endOf("M").format("YYYY-MM-DD")})),m=t.columns.array.find(p=>p.name==="eOrtE"),i.appendChild(Le({divClass:"form-floating col-12 col-sm-7 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||null,required:!1,options:[{value:"",text:"",selected:!0},...l.fZ.map(p=>({value:p.key,text:p.key}))]})),m=t.columns.array.find(p=>p.name==="schichtE"),i.appendChild(Le({divClass:"form-floating col-12 col-sm-7 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||null,required:!0,options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}]})),m=t.columns.array.find(p=>p.name==="berechnen"),i.appendChild(ke({checkClass:"form-check form-switch col-12 col-sm-4 pb-3",id:m.name,text:m.title,status:(t.cells&&t.cells[m.name])??!0})),i.appendChild(document.createElement("hr"));const h=document.createElement("div");return h.className="icon-ewt",i.appendChild(h),h.appendChild(Ne("material-icons-round big-icons","arrow_downward")),h.appendChild(pe("Wohnung")),h.appendChild(Ne("material-icons-round big-icons","arrow_upward")),m=t.columns.array.find(p=>p.name==="abWE"),i.appendChild(H({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(p=>p.name==="anWE"),i.appendChild(H({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),i.appendChild(pe("Arbeitszeit")),m=t.columns.array.find(p=>p.name==="beginE"),i.appendChild(H({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(p=>p.name==="endeE"),i.appendChild(H({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),i.appendChild(pe("1. Tätigkeitsstätte")),m=t.columns.array.find(p=>p.name==="ab1E"),i.appendChild(H({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(p=>p.name==="an1E"),i.appendChild(H({divClass:"form-floating col-6 pb-3",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),i.appendChild(pe("Einsatzort")),m=t.columns.array.find(p=>p.name==="anEE"),i.appendChild(H({divClass:"form-floating col-6",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),m=t.columns.array.find(p=>p.name==="abEE"),i.appendChild(H({divClass:"form-floating col-6",title:m.title,name:m.name,value:t.cells&&t.cells[m.name]||"",type:"time"})),i}function r(){if(t instanceof Q){const l=document.createElement("button");return l.type="button",l.className="btn btn-danger",l.arialabel="Zeiten löschen",l.innerHTML="Zeiten löschen",l.addEventListener("click",()=>Vu(n)),[l]}}function o(){return l=>{if(s.checkValidity&&!s.checkValidity())return;l.preventDefault();const i=n.row,d={tagE:N(s.querySelector("#tagE").value).format("DD"),eOrtE:s.querySelector("#eOrtE").value,schichtE:s.querySelector("#schichtE").value,abWE:s.querySelector("#abWE").value,ab1E:s.querySelector("#ab1E").value,anEE:s.querySelector("#anEE").value,beginE:s.querySelector("#beginE").value,endeE:s.querySelector("#endeE").value,abEE:s.querySelector("#abEE").value,an1E:s.querySelector("#an1E").value,anWE:s.querySelector("#anWE").value,berechnen:s.querySelector("#berechnen").checked};i instanceof Q?i.val(d):i.rows.add(d),U.getInstance(n).hide(),V("tableE",i.CustomTable||i)}}}function Wu(t,e){const{modal:n}=be(e,!1,"sm",s,As);return n;function s(){const a=document.createElement("div");a.className="modal-body row";let r;r=t.columns.array.find(c=>c.name==="tagE"),a.appendChild(Ct({divClass:"mb-1 col-6",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-2 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(c=>c.name==="berechnen");const o=ke({checkClass:"form-check form-switch col-5",id:r.name,text:r.title,status:(t.cells&&t.cells[r.name])??!0});o.addEventListener("click",c=>{const u=c.target.closest(".modal").row;u.cells.berechnen=c.target.checked;const m=u.CustomTable;m.drawRows(),V("tableE",m)}),a.appendChild(o),r=t.columns.array.find(c=>c.name==="eOrtE"),a.appendChild(Ct({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(c=>c.name==="schichtE"),a.appendChild(Ct({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),a.appendChild(document.createElement("hr"));const l=document.createElement("div");return l.className="icon-ewt-arrow",a.appendChild(l),l.appendChild(Ne("material-icons-round big-icons","arrow_downward")),l.appendChild(Ne("material-icons-round big-icons","arrow_upward")),a.appendChild(i({vorTitle:"ab",title:"Wohnung",nachTitle:"an"})),r=t.columns.array.find(c=>c.name==="abWE"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(c=>c.name==="anWE"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),a.appendChild(i({vorTitle:"von",title:"Arbeitszeit",nachTitle:"bis"})),r=t.columns.array.find(c=>c.name==="beginE"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(c=>c.name==="endeE"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),a.appendChild(i({vorTitle:"ab",title:"1. Tätigkeitsstätte",nachTitle:"an"})),r=t.columns.array.find(c=>c.name==="ab1E"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(c=>c.name==="an1E"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),a.appendChild(i({vorTitle:"an",title:"Einsatzort",nachTitle:"ab"})),r=t.columns.array.find(c=>c.name==="anEE"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(c=>c.name==="abEE"),a.appendChild(d({name:r.name,text:r.parser(t.cells[r.name])})),a;function i(c){const u=document.createElement("div");u.className=c.divClass??"icon-ewt";const m=document.createElement("h5");return m.className="my-1",m.textContent=c.title,u.appendChild(Ne("",c.vorTitle)),u.appendChild(m),u.appendChild(Ne("",c.nachTitle)),u}function d(c){const u=document.createElement("div");u.className=c.divClass??"mb-1 col-6 text-center";const m=document.createElement("span");return m.className=c.spanClass??"",m.id=c.name,m.innerHTML=c.text,u.appendChild(m),u}}}function Xe(t){if(t==null){if(localStorage.getItem("dataE")==null)return[];t=JSON.parse(localStorage.getItem("dataE"))}if(t.length===0||gn(t[0]))return t;let e=[];return t.forEach((n,s)=>{e[s]={tagE:n[0],eOrtE:n[1],schichtE:n[2]===""?"T":n[2],abWE:n[3],ab1E:n[4],anEE:n[5],beginE:n[6],endeE:n[7],abEE:n[8],an1E:n[9],anWE:n[10],berechnen:typeof n[11]=="string"?JSON.parse(n[11]):n[11]||!0}}),e}function Vu(t){t.querySelector("#abWE").value="",t.querySelector("#ab1E").value="",t.querySelector("#anEE").value="",t.querySelector("#beginE").value="",t.querySelector("#endeE").value="",t.querySelector("#abEE").value="",t.querySelector("#an1E").value="",t.querySelector("#anWE").value=""}function Fu(t,e,n,s){t=Number(t),e=Number(e),n=JSON.parse(n),s=JSON.parse(s),n=r(n,e,t),Yr(n),n=qu(s,n,e,t);for(const o of n)if(o.berechnen){o.tagE=`0${o.tagE}`.slice(-2);for(const[l,i]of Object.entries(o))switch(l){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":i&&(o[l]=i.format("LT"));break;default:throw Error("Datenfehler")}}const a=document.querySelector("#tableE").instance;console.log("save ",{ftE:a}),a.rows.load(Xe(n)),V("tableE",a),z({message:"EWT<br/>Zeiten berechnet.",status:"success",timeout:3e3,position:"br",fixed:!0});function r(o,l,i){for(const d of o){if(!d.berechnen)continue;const c=Number(d.tagE);d.tagE=c;for(const[u,m]of Object.entries(d))switch(u){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":if(m){let h=c,p=m.split(":");["endeE","abEE","an1E","anWE"].includes(u)&&["BN","N"].includes(d.schichtE)&&(h=d.tagE-1),d[u]=N([l,i-1,h,p[0],p[1],0,0])}else d[u]="";break;default:throw Error("Datenfehler")}}return o}}function qu(t,e,n,s){let a,r,o,l,i,d,c,u;const m=t.pers.Name=="Ackermann, Pascal"?N.duration(5,"m"):N.duration(0,"m"),h=f=>{const g=N(f,"HH:mm");return{hours:g.hour(),minutes:g.minute()}},p=t.aZ;for(const[f,g]of Object.entries(p))p[f]=N.duration(h(g));p.fZ={},t.fZ.map(f=>{p.fZ[f.key]=N.duration(h(f.value))});for(const f of e){if(!f.berechnen)continue;let g=N([n,s-1,f.tagE]);switch(f.schichtE){case"N":a=p.bN,r=p.eN.add(1,"d"),o=N.duration(45,"m"),l=o.clone();break;case"S":a=p.bS,r=p.eS,o=N.duration(20,"m"),l=o.clone();break;case"BN":a=p.bBN,r=p.eN.add(1,"d"),o=N.duration(60,"m"),l=N.duration(45,"m");break;case"T":a=p.bT,r=g.isoWeekday()===5?p.eTF:p.eT,o=N.duration(20,"m"),l=o.clone();break;default:throw Error("Schichtfehler")}f.beginE=d=f.beginE===""?g.add(a):f.beginE,f.endeE=c=f.endeE===""?g.add(r):f.endeE,f.abWE=f.abWE===""?d.subtract(p.rZ):f.abWE,f.ab1E=i=f.ab1E===""?d.add(o):f.ab1E,f.an1E=u=f.an1E===""?c.subtract(l):f.an1E,f.anWE=f.anWE===""?c.add(p.rZ).add(m):f.anWE,f.eOrtE!==""&&(f.anEE=f.anEE===""?i.add(p.fZ[f.eOrtE]):f.anEE,f.abEE=f.abEE===""?u.subtract(p.fZ[f.eOrtE]):f.abEE)}return e}function Kn(t,e=ie("tableE")){const n=document.getElementById("tagE");t==null&&(t=N(n.value).date()),t==""&&(t=0),typeof t=="string"&&(t=+t);let s=new Set(e.map(o=>+o.tagE)),a=N(document.getElementById("tagE").max).date(),r=!1;s.delete(0);do if(t++,t>a&&!r)t=1,r=!0;else if(t>a&&r)throw Error("Fehler beim Finden eines Freien Tages");while(s.has(t));n.value=N([+localStorage.getItem("Jahr"),+localStorage.getItem("Monat")-1,t]).format("YYYY-MM-DD")}function zu(){let t=`0${document.getElementById("tagE").value}`.slice(-2),e=document.getElementById("EOrt").value,n=document.getElementById("Schicht").value,s=document.getElementById("berechnen1").checked,a={tagE:t,eOrtE:e,schichtE:n,abWE:"",ab1E:"",anEE:"",beginE:"",endeE:"",abEE:"",an1E:"",anWE:"",berechnen:s};const r=document.querySelector("#tableE").instance;console.log("save ",{ftE:r}),r.rows.add(a),V("tableE",r),Kn(+t,r.getRows().map(o=>o.cells))}N.extend(hn);N.extend(ys);N.extend(_s);window.addEventListener("load",()=>{const t=en("tableN",{columns:[{name:"tagN",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"beginN",title:"Arbeit Von",type:"time"},{name:"endeN",title:"Arbeit Bis",type:"time"},{name:"beginPauseN",title:"Pause Von",breakpoints:"sm",type:"time"},{name:"endePauseN",title:"Pause Bis",breakpoints:"sm",type:"time"},{name:"dauerN",title:"Anzahl",breakpoints:"md"},{name:"nrN",title:"Zulage",breakpoints:"md"}],rows:ht(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const e=wa(t,"Nebenbezug hinzufügen");e.row=t,new U(e).show()},editRow:e=>{const n=wa(e,"Nebenbezug bearbeiten");n.row=e,new U(n).show()},showRow:e=>{const n=ju(e,"Nebenbezug anzeigen");n.row=e,new U(n).show()},deleteRow:e=>{e.deleteRow(),V("tableN",t)},deleteAllRows:()=>{confirm("Möchtest du wirklich alle Zeilen löschen?")&&(t.rows.load([]),oe(!1),localStorage.setItem("dataBE",JSON.stringify([])))}}});document.querySelector("#btnESN").addEventListener("click",()=>{Uu()}),document.querySelector("#btnSaveN").addEventListener("click",()=>{pn(document.querySelector("#btnSaveN"))}),document.querySelector("#btnDownloadN").addEventListener("click",()=>{ws(document.querySelector("#btnDownloadN"),"N")})});function Uu(){const{modal:t,form:e}=be("Neuen Nebenbezug eingeben",!0,null,n,Ve([s()]),a);new U(t).show();function n(){const r=ie("tableE");if(r.length===0){z({message:'Keine Tage in EWT gefunden. </br></br>Bitte erst EWT ausfüllen! </br>oder Manuell über "Neue Zeile"',timeout:3e3,position:"br",fixed:!0});return}console.log(r);const o=document.createElement("div");o.className="modal-body";const l=document.createElement("p");return l.className="text-center",l.textContent="!!! Erst EWT Eingeben und Berechnen !!!",o.appendChild(l),o.appendChild(Le({divClass:"form-floating col mb-3",title:"Tag (Aus EWT)",name:"tagN",required:!0,value:null,options:i()})),o.appendChild(Le({divClass:"form-floating col mb-3",title:"Nebenbezug (Aktuell nur 1 möglichkeit)",name:"Nebenbezug",required:!0,value:null,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),o.appendChild(H({divClass:"form-floating col",title:"Anzahl",name:"AnzahlN",value:1,type:"number",required:!0,min:1,max:1})),o;function i(){const d=ie("tableN"),c=+localStorage.getItem("Jahr"),u=+localStorage.getItem("Monat");let m=[];for(const h of r){const p=h.schichtE;let f,g,C="12:00",M="12:30";["N","BN"].includes(p)?(f=`0${h.tagE-1}`.slice(-2),g=`${f} | ${new Date(c,u-1,h.tagE-1).toLocaleDateString("de",{weekday:"short"})}`,C="01:00",M="01:45"):(f=`0${h.tagE}`.slice(-2),g=`${f} | ${new Date(c,u-1,h.tagE).toLocaleDateString("de",{weekday:"short"})}`),new Date(c,u-1,g).getDay()==5&&(C="",M="");let I={};p=="N"?I.text=`${g} | Nacht`:p=="BN"?I.text=`${g} | Nacht / Bereitschaft`:I.text=g,I.value=JSON.stringify({tagN:f,beginN:h.beginE,endeN:h.endeE,beginPauseN:C,endePauseN:M,nrN:"",dauerN:0}),d&&d.forEach(D=>{Number(D.tagN)==Number(f)&&(I.disabled=!0)}),m.push(I)}return m}}function s(){const r=document.createElement("button");return r.className="btn btn-info",r.type="button",r.textContent="Manuell",r.arialabel="Manuell",r.dataset.bsDismiss="modal",r.addEventListener("click",()=>document.querySelector("#tableN").instance.options.editing.addRow()),r}function a(){return r=>{e.checkValidity&&!e.checkValidity()||(r.preventDefault(),Zu(e))}}}function wa(t,e){const{modal:n,form:s}=be(e,!0,null,a,Ve(null,t instanceof Q?"Speichern":null),r);return n;function a(){const o=document.createElement("div");o.className="modal-body row";let l;const i=+localStorage.getItem("Monat"),d=+localStorage.getItem("Jahr");if(t instanceof Q)l=N([d,i-1,t.cells.tagN]);else if(t instanceof xt)l=N([d,i-1,N().date()]);else throw Error("unbekannter Fehler");let c;return c=t.columns.array.find(u=>u.name==="tagN"),o.appendChild(H({divClass:"form-floating col-6 pb-3",title:c.title,name:c.name,value:l.format("YYYY-MM-DD"),type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")})),o.appendChild(pe("Arbeitszeit")),["beginN","endeN"].forEach(u=>{c=t.columns.array.find(m=>m.name===u),o.appendChild(H({divClass:"form-floating col-6 pb-3",title:c.title,name:c.name,value:t.cells&&t.cells[c.name]||null,type:"time",required:!0}))}),o.appendChild(pe("Pause")),["beginPauseN","endePauseN"].forEach(u=>{c=t.columns.array.find(m=>m.name===u),o.appendChild(H({divClass:"form-floating col-6 pb-3",title:c.title,name:c.name,value:t.cells&&t.cells[c.name]||null,type:"time"}))}),o.appendChild(pe("Zulage")),c=t.columns.array.find(u=>u.name==="dauerN"),o.appendChild(H({divClass:"form-floating col-6 pb-3",title:c.title,name:c.name,value:t.cells&&t.cells[c.name]||1,type:"number",required:!0,min:1,max:1})),c=t.columns.array.find(u=>u.name==="nrN"),o.appendChild(Le({divClass:"form-floating col-6 pb-3",title:c.title,name:c.name,value:t.cells&&t.cells[c.name]||null,required:!0,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),o}function r(){return o=>{if(s.checkValidity&&!s.checkValidity())return;o.preventDefault();const l=n.row,i={tagN:N(s.querySelector("#tagN").value).format("DD"),beginN:s.querySelector("#beginN").value,endeN:s.querySelector("#endeN").value,beginPauseN:s.querySelector("#beginPauseN").value,endePauseN:s.querySelector("#endePauseN").value,nrN:s.querySelector("#nrN").value,dauerN:Number(s.querySelector("#dauerN").value)};l instanceof Q?l.val(i):l.rows.add(i),U.getInstance(n).hide(),V("tableN",l.CustomTable||l)}}}function ju(t,e){const{modal:n}=be(e,!1,"sm",s,As);return n;function s(){const a=document.createElement("div");a.className="modal-body row";let r,o;return r=t.columns.array.find(d=>d.name==="tagN"),a.appendChild(Ct({divClass:"mb-2 col-12 text-center",labelClass:"pe-3 align-middle col-form-label text-wrap fw-bold",spanClass:"align-middle my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),a.appendChild(l("Arbeitszeit")),r=t.columns.array.find(d=>d.name==="beginN"),o=t.columns.array.find(d=>d.name==="endeN"),a.appendChild(i({divClass:"mb-2 col-12 text-center",vorTitle:r.parser(t.cells[r.name]),title:"arrow_right_alt",nachTitle:o.parser(t.cells[o.name])})),a.appendChild(l("Pause")),r=t.columns.array.find(d=>d.name==="beginPauseN"),o=t.columns.array.find(d=>d.name==="endePauseN"),a.appendChild(i({divClass:"mb-2 text-center",vorTitle:r.parser(t.cells[r.name]),title:"arrow_right_alt",nachTitle:o.parser(t.cells[o.name])})),a.appendChild(l("Zulage")),r=t.columns.array.find(d=>d.name==="dauerN"),o=t.columns.array.find(d=>d.name==="nrN"),a.appendChild(i({divClass:"mb-2 col-12 text-center",vorTitleClass:"col-4 align-middle text-break my-auto",vorTitle:r.parser(t.cells[r.name]),titleClass:"align-middle fw-semibold mx-1",title:"X",nachTitleClass:"col-6 align-middle text-break my-auto",nachTitle:o.parser(t.cells[o.name])})),a;function l(d){const c=document.createElement("h4");return c.className="text-center mb-0",c.innerHTML=d,c}function i(d){const c=document.createElement("div");return c.className=d.divClass??"icon-ewt",c.appendChild(Ne(d.vorTitleClass??"",d.vorTitle)),c.appendChild(Ne(d.titleClass??"material-icons-round big-icons",d.title)),c.appendChild(Ne(d.nachTitleClass??"",d.nachTitle)),c}}}function ht(t){if(t==null){if(localStorage.getItem("dataN")==null)return[];t=JSON.parse(localStorage.getItem("dataN"))}if(t.length===0||gn(t[0]))return t;let e=[];return t.forEach((n,s)=>{e[s]={tagN:n[0],beginN:n[1],endeN:n[2],beginPauseN:n[3],endePauseN:n[4],nrN:n[5],dauerN:n[6]===""?1:Number(n[6])}}),e}function Zu(t){let e=t.querySelector("#tagN"),n=e.selectedIndex;if(n<0)return;let s=JSON.parse(e.value);for(s.nrN=t.querySelector("#Nebenbezug").value,s.dauerN=+t.querySelector("#AnzahlN").value,console.log(s),e[n].selected=!1,e[n].disabled=!0,n++;n<e.length;){if(!e[n].disabled){e[n].selected=!0;break}n++}document.querySelector("#tableN").instance.rows.add(s),V("tableN",document.querySelector("#tableN").CustomTable)}N.extend(hn);window.addEventListener("load",()=>{var t;if(localStorage.length>3&&localStorage.getItem("UserID")){const e=localStorage.getItem("Benutzer");tn(),z({message:`Hallo ${e},<br/>die App hat ein Update erhalten.<br/>Bitte melde dich neu an, um<br/>die neuen Funktionen zu nutzen.`,status:"info",timeout:1e4,position:"br",fixed:!0})}if(document.getElementById("formLogin").addEventListener("submit",e=>{e.preventDefault(),kr()}),document.getElementById("formNewUser").addEventListener("submit",e=>{e.preventDefault(),Ku()}),document.getElementById("formChangePW").addEventListener("submit",e=>{e.preventDefault(),Ju()}),document.getElementById("formSelectMonatJahr").addEventListener("submit",e=>{e.preventDefault(),Xn()}),document.getElementById("btnNewUser").addEventListener("click",()=>{document.getElementById("loginDisplay").classList.add("d-none"),document.getElementById("NewDisplay").classList.remove("d-none")}),document.getElementById("btnCancelNewUser").addEventListener("click",()=>{document.getElementById("NewDisplay").classList.add("d-none"),document.getElementById("loginDisplay").classList.remove("d-none")}),document.getElementById("btnCancelChangePW").addEventListener("click",()=>{document.getElementById("ChangeDisplay").classList.add("d-none"),document.getElementById("SelectDisplay").classList.remove("d-none")}),document.getElementById("btnPasswortAEndern").addEventListener("click",()=>{document.getElementById("SelectDisplay").classList.add("d-none"),document.getElementById("ChangeDisplay").classList.remove("d-none")}),document.getElementById("btnLogout").addEventListener("click",tn),document.getElementById("Monat").addEventListener("change",Gn),document.getElementById("Jahr").addEventListener("change",Gn),localStorage.getItem("Benutzer")&&localStorage.getItem("accessToken")){let e=localStorage.getItem("Benutzer");document.getElementById("Willkommen").innerHTML=`Hallo, ${e}.`,document.getElementById("loginDisplay").classList.add("d-none");let n=localStorage.getItem("Jahr");document.getElementById("Jahr").value=n;let s=localStorage.getItem("Monat");document.getElementById("Monat").value=s,document.getElementById("SelectDisplay").classList.remove("d-none"),console.log("Benutzer gefunden"),((t=JSON.parse(localStorage.getItem("VorgabenU")))==null?void 0:t.pers.TB)=="Tarifkraft"&&document.getElementById("Neben-tab").parentElement.classList.remove("d-none"),e==="Jan"&&document.getElementById("admin").classList.remove("d-none"),document.getElementById("navmenu").classList.remove("d-none"),document.getElementById("btn-navmenu").classList.remove("d-none"),navigator.onLine&&Xn(s,n)}});function Gn(){if(document.getElementById("Monat").value===localStorage.getItem("Monat")&&document.getElementById("Jahr").value===localStorage.getItem("Jahr")){oe(!1),navigator.onLine||Qn(!0);return}oe(!0),navigator.onLine&&(document.querySelector("#btnAuswaehlen").disabled=!1)}async function kr(t=document.getElementById("Benutzer").value,e=document.getElementById("Passwort").value){document.getElementById("btnLogin").disabled=!0,Fe("btnLogin");let n={Name:t,Passwort:e};try{const s=await Te("login",n,"POST");if(s.statusCode==200){let{accessToken:a,refreshToken:r}=s.data;console.log({accessToken:a,refreshToken:r}),t=`${t[0].toUpperCase()}${t.substring(1)}`,localStorage.setItem("Benutzer",t),document.getElementById("Willkommen").innerHTML=`Hallo, ${t}.`,document.getElementById("loginDisplay").classList.add("d-none"),document.getElementById("ChangeDisplay").classList.add("d-none"),document.getElementById("NewDisplay").classList.add("d-none"),localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",r);const o=N().year();document.getElementById("Jahr").value=o;const l=N().month()+1;document.getElementById("Monat").value=l,document.getElementById("SelectDisplay").classList.remove("d-none"),document.getElementById("Benutzer").value="",document.getElementById("Passwort").value="",document.getElementById("errorMessage").innerHTML="",t==="Jan"&&document.getElementById("admin").classList.remove("d-none"),console.log("Eingeloggt"),Xn(l,o)}else document.getElementById("errorMessage").innerHTML=s.message}catch(s){console.log(s.message)}finally{X("btnLogin")}}function Xn(t=document.getElementById("Monat").value,e=document.getElementById("Jahr").value){Fe("btnAuswaehlen"),document.getElementById("errorMessage").innerHTML="",localStorage.getItem("Jahr")&&localStorage.getItem("Monat")&&(localStorage.getItem("Jahr")!=e||localStorage.getItem("Monat")!=t)&&localStorage.setItem("monatswechsel",!0),localStorage.setItem("Jahr",e),localStorage.setItem("Monat",t),xr(e,t),localStorage.getItem("accessToken")&&Gu(t,e)}function tn(){es.abort(),Pr(),localStorage.clear(),document.getElementById("navmenu").classList.add("d-none"),document.getElementById("btn-navmenu").classList.add("d-none"),document.getElementById("loginDisplay").classList.remove("d-none"),document.getElementById("NewDisplay").classList.add("d-none"),document.getElementById("SelectDisplay").classList.add("d-none"),document.getElementById("admin").classList.add("d-none"),document.getElementById("Neben-tab").parentElement.classList.add("d-none"),document.getElementById("Willkommen").innerHTML="Willkommen"}async function Ju(){const t=document.getElementById("passwortOld").value,e=document.getElementById("Passwort3").value,n=document.getElementById("Passwort4").value;if(!t){document.getElementById("errorMessage").innerHTML="Bitte Aktuelles Passwort Eingeben";return}if(!e){document.getElementById("errorMessage").innerHTML="Bitte Neues Passwort Eingeben";return}if(!n){document.getElementById("errorMessage").innerHTML="Bitte Neues Passwort wiederholen";return}if(e!=n){document.getElementById("errorMessage").innerHTML="Passworter falsch wiederholt";return}if(t==e){document.getElementById("errorMessage").innerHTML="Passwörter Alt und Neu sind gleich";return}Fe("btnChange");try{const a=await Te("changePW",{PasswortAlt:t,PasswortNeu:e},"POST");if(a.statusCode>=400){console.log(a.message),document.getElementById("errorMessage").innerHTML=a.message,z({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}else if(a.statusCode==200)console.log(`Passwort geändert: ${a.data}`),z({message:"Login<br/>Passwort wurde geändert.",status:"success",timeout:3e3,position:"br",fixed:!0}),document.getElementById("errorMessage").innerHTML="";else{console.log("Fehler"),z({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}document.getElementById("SelectDisplay").classList.remove("d-none"),document.getElementById("ChangeDisplay").classList.add("d-none"),document.getElementById("passwortOld").value="",document.getElementById("Passwort3").value="",document.getElementById("Passwort4").value=""}catch(s){console.log(s);return}finally{X("btnChange")}}async function Ku(){const t=document.getElementById("Zugang").value,e=document.getElementById("Benutzer2").value,n=document.getElementById("Passwort1").value,s=document.getElementById("Passwort2").value;if(!t){document.getElementById("errorMessage").innerHTML="Bitte Zugangscode Eingeben";return}if(!e){document.getElementById("errorMessage").innerHTML="Bitte Benutzername Eingeben";return}if(!n){document.getElementById("errorMessage").innerHTML="Bitte Passwort Eingeben";return}if(!s){document.getElementById("errorMessage").innerHTML="Bitte Passwort wiederholen";return}if(n!=s){document.getElementById("errorMessage").innerHTML="Passwörter falsch wiederholt";return}Fe("btnNeu");let a={Code:t,Name:e,Passwort:n};try{const r=await Te("add",a,"POST");if(r.statusCode>=400){console.log(r.message),document.getElementById("errorMessage").innerHTML=r.message;return}if(r.statusCode==201)z({message:"Registrierung<br/>Benutzer erfolgreich angelegt.",status:"success",timeout:3e3,position:"br",fixed:!0});else{console.log("Fehler: ",r.message),z({message:`Registrierung <br/>Fehler bei Benutzerstellung: </br>${r.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}}catch(r){console.log(r);return}finally{X("btnNeu")}document.getElementById("errorMessage").innerHTML="",kr(document.getElementById("Benutzer2").value,document.getElementById("Passwort1").value),document.getElementById("Zugang").value="",document.getElementById("Benutzer2").value="",document.getElementById("Passwort1").value="",document.getElementById("Passwort2").value=""}async function Gu(t,e){xr(e,t);let n;try{const g=await Te(`${t}&${e}`);if(g.statusCode==200)n=g.data;else throw Error(g.message)}catch(g){console.error(g),z({message:"Server <br/>Keine Verbindung zum Server oder Serverfehler.",status:"error",timeout:3e3,position:"br",fixed:!0});return}finally{X("btnAuswaehlen")}const s=n;console.log("Daten geladen: ",s);let{vorgabenB:a,vorgabenU:r,datenBerechnung:o,datenGeld:l}=s,i=s.datenB.datenBZ,d=s.datenB.datenBE,c=s.datenE,u=s.datenN,m=[],h=!1;localStorage.getItem("monatswechsel")&&(h=!0,localStorage.removeItem("monatswechsel"));let p={};localStorage.getItem("dataServer")&&(p=JSON.parse(localStorage.getItem("dataServer")),console.log("Unterschiede Server - Client | Bereits vorhanden",p)),localStorage.setItem("VorgabenB",JSON.stringify(a));const f=(g,C,M,I,D,B=!1)=>{if(!localStorage.getItem(g))console.log(`${C} speichern, nicht vorhanden`),localStorage.setItem(g,JSON.stringify(M)),B&&document.getElementById(B.name).instance.rows.load(B.data);else if(h)console.log(`${C} speichern`),localStorage.setItem(g,JSON.stringify(M));else if(localStorage.getItem(g)!==JSON.stringify(M))return console.log(`${C} vorhanden & änderungen`),m.find(v=>v==D)||m.push(D),p[I]=M,JSON.parse(localStorage.getItem(g));return M};r=f("VorgabenU","VorgabenU",r,"vorgabenU","Persönliche Daten"),i=f("dataBZ","DatenBZ",i,"dataBZ","Bereitschaftszeit",{name:"tableBZ",data:Ie(i)}),d=f("dataBE","DatenBE",d,"dataBE","Bereitschaftseinsatz",{name:"tableBE",data:ft(d)}),c=f("dataE","DatenE",c,"dataE","EWT",{name:"tableE",data:Xe(c)}),u=f("dataN","DatenN",u,"dataN","Nebenbezüge",{name:"tableN",data:ht(u)}),localStorage.setItem("datenBerechnung",JSON.stringify(o)),localStorage.setItem("VorgabenGeld",JSON.stringify(l)),m.length>0?(Object.keys(p).length>0&&console.log("Unterschiede Server - Client",p),localStorage.setItem("dataServer",JSON.stringify(p)),z({message:`<b>Ungespeicherte Daten:</b> <br/>${m.join("<br/>")}`,status:"info",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Lokale Daten überschreiben",function:()=>{Aa(),X("btnAuswaehlen"),oe(!1)},dismiss:!0,class:["text-primary"]},{text:"Daten behalten",function:()=>{Aa(!1),X("btnAuswaehlen"),oe(!1)},dismiss:!0,class:["text-secondary"]}]})):(X("btnAuswaehlen"),oe(!1)),(p.dataBZ!=null||h)&&document.getElementById("tableBZ").instance.rows.load(Ie(i)),(p.dataBE!=null||h)&&document.getElementById("tableBE").instance.rows.load(ft(d)),(p.dataE!=null||h)&&document.getElementById("tableE").instance.rows.load(Xe(c)),(p.dataN!=null||h)&&document.getElementById("tableN").instance.rows.load(ht(u)),vs(o,l),Bt(r),r.pers.TB=="Tarifkraft"&&document.getElementById("Neben-tab").parentElement.classList.remove("d-none"),document.getElementById("navmenu").classList.remove("d-none"),document.getElementById("btn-navmenu").classList.remove("d-none"),z({message:"Neue Daten geladen.",status:"success",timeout:3e3,position:"br",fixed:!0})}function xr(t,e){document.getElementById("Monat").value=e;let n=N([+t,e-1]);document.getElementById("MonatB").innerText=document.getElementById("MonatE").innerText=document.getElementById("MonatN").innerText=n.format("MM / YY"),document.getElementById("MonatBerechnung").innerText=t}function Aa(t=!0){if(!t){localStorage.removeItem("dataServer");return}let e=JSON.parse(localStorage.getItem("dataServer"));console.log({dataServer:e}),e.vorgabenU&&(console.log("VorgabenU überschreiben"),localStorage.setItem("VorgabenU",JSON.stringify(e.vorgabenU)),Bt(e.vorgabenU),delete e.vorgabenU),e.dataBZ&&(console.log("DatenBZ überschreiben"),localStorage.setItem("dataBZ",JSON.stringify(e.dataBZ)),document.getElementById("tableBZ").instance.rows.load(Ie(e.dataBZ)),delete e.dataBZ),e.dataBE&&(console.log("DatenBE überschreiben"),localStorage.setItem("dataBE",JSON.stringify(e.dataBE)),document.getElementById("tableBE").instance.rows.load(ft(e.dataBE)),delete e.dataBE),e.dataE&&(console.log("DatenE überschreiben"),localStorage.setItem("dataE",JSON.stringify(e.dataE)),document.getElementById("tableE").instance.rows.load(Xe(e.dataE)),delete e.dataE),e.dataN&&(console.log("DatenN überschreiben"),localStorage.setItem("dataN",JSON.stringify(e.dataN)),document.getElementById("tableN").instance.rows.load(ht(e.dataN)),delete e.dataN),localStorage.removeItem("dataServer")}window.addEventListener("load",()=>{Xu("localStorage")||z({message:"Bitte Cookies zulassen!",dismissible:!0,status:"error",timeout:!1,position:"tc",fixed:!1});let t;navigator.onLine||e(),window.addEventListener("offline",()=>{e()});function e(){Qn(!0),t=z({message:"Du bist offline",dismissible:!1,status:"error",timeout:!1,position:"tr",fixed:!0}),window.addEventListener("online",()=>{Qn(!1),Gn(),t.Close(),z({message:"Du bist wieder online",dismissible:!1,status:"info",timeout:2e3,position:"tr",fixed:!0})},{once:!0})}if(localStorage.getItem("accessToken")){let s=document.location.toString();if(s.match("#")){let a=s.split("#")[1];console.log(a);let r=document.querySelector("#"+a+"-tab");console.log(r),Ge.getOrCreateInstance(r).show(),window.scrollTo(0,1)}}[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(s=>new un(s))});const Na="http://192.168.178.56:8080/api/v1",Xu=t=>{let e;try{e=window[t];let n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}};async function ws(t,e){Fe(t.id),oe(!0);const n=JSON.parse(localStorage.getItem("VorgabenGeld"));Object.setPrototypeOf(n,{getMonat:function(l){let i=this[1];const d=Object.keys(this).map(Number);if(d.length>1&&l>1&&Math.max(...d.filter(c=>c<=l))>1)for(let c=2;c<=l;c++)typeof this[c]<"u"&&(i={...i,...this[c]});return i}});const s=+document.getElementById("Monat").value,a=+document.getElementById("Jahr").value;let r={VorgabenU:JSON.parse(localStorage.getItem("VorgabenU")),VorgabenGeld:n.getMonat(s),Daten:{},Monat:s,Jahr:a};switch(e){case"B":r.Daten.BZ=ie("tableBZ"),r.Daten.BE=ie("tableBE");break;case"E":r.Daten.EWT=ie("tableE");break;case"N":r.Daten.N=ie("tableN");break}try{console.time("download");const l=await Te(`download/${e}`,r,"POST");if(l.statusCode!=200){console.timeEnd("download"),console.log("Fehler",l.message),z({message:`Download fehlerhaft:<br/>${l.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}o(`data:application/pdf;base64,${encodeURIComponent(l.data.data)}`,l.data.name),console.timeEnd("download")}catch(l){console.log(l);return}finally{oe(!1),X(t.id)}function o(l,i){let d=document.createElement("a");d.download=i,d.href=l,d.click()}}async function pn(t,e=""){Fe(t.id),oe(!0);try{switch(e){case"B":V("tableBZ"),V("tableBE");break;case"E":V("tableE");break;case"N":V("tableN");break;case"Einstellungen":Sa();break;default:V("tableBZ"),V("tableBE"),V("tableE"),V("tableN"),Sa();break}const n={BZ:JSON.parse(localStorage.getItem("dataBZ")),BE:JSON.parse(localStorage.getItem("dataBE")),E:JSON.parse(localStorage.getItem("dataE")),N:JSON.parse(localStorage.getItem("dataN")),User:JSON.parse(localStorage.getItem("VorgabenU")),Monat:localStorage.getItem("Monat"),Jahr:localStorage.getItem("Jahr")},s=await Te("saveData",n,"POST");if(s.statusCode!=200){console.log("Fehler",s.message);let d=JSON.parse(s.message);z({message:"Speichern<br/>Es ist ein Fehler aufgetreten:"+d.map(c=>`<br/>- ${c}`),status:"error",timeout:3e3,position:"br",fixed:!0});return}const a=s.data;console.log(a);let r,o,l,i;switch(e){case"B":r=document.getElementById("tableBZ").instance,console.log("save ",{ftBZ:r}),r.rows.load(Ie(a.daten.datenBZ)),o=document.getElementById("tableBE").instance,console.log("save ",{ftBE:o}),o.rows.load(ft(a.daten.datenBE)),V("tableBZ",r),V("tableBE",o),localStorage.setItem("VorgabenU",JSON.stringify(a.user)),localStorage.setItem("datenBerechnung",JSON.stringify(a.datenBerechnung));break;case"E":l=document.getElementById("tableE").instance,console.log("save ",{ftE:l}),l.rows.load(Xe(a.daten.datenE)),V("tableE",l),localStorage.setItem("VorgabenU",JSON.stringify(a.user)),localStorage.setItem("datenBerechnung",JSON.stringify(a.datenBerechnung));break;case"N":i=document.getElementById("tableN").instance,console.log("save ",{ftN:i}),i.rows.load(ht(a.daten.datenN)),V("tableN",i),localStorage.setItem("VorgabenU",JSON.stringify(a.user)),localStorage.setItem("datenBerechnung",JSON.stringify(a.datenBerechnung));break;case"Einstellungen":Bt(a.user),localStorage.setItem("VorgabenU",JSON.stringify(a.user)),localStorage.setItem("datenBerechnung",JSON.stringify(a.datenBerechnung));break;default:vs(a.datenBerechnung),Bt(a.user),r=document.getElementById("tableBZ").instance,console.log("save ",{ftBZ:r}),r.rows.load(Ie(a.daten.datenBZ)),o=document.getElementById("tableBE").instance,console.log("save ",{ftBE:o}),o.rows.load(ft(a.daten.datenBE)),l=document.getElementById("tableE").instance,console.log("save ",{ftE:l}),l.rows.load(Xe(a.daten.datenE)),i=document.getElementById("tableN").instance,console.log("save ",{ftN:i}),i.rows.load(ht(a.daten.datenN)),V("tableBZ",r),V("tableBE",o),V("tableE",l),V("tableN",i),localStorage.setItem("VorgabenU",JSON.stringify(a.user)),localStorage.setItem("datenBerechnung",JSON.stringify(a.datenBerechnung));break}console.log("Erfolgreich gespeichert"),z({message:"Speichern<br/>Daten gespeichert",status:"success",timeout:3e3,position:"br",fixed:!0})}catch(n){console.log(n);return}finally{X(t.id),oe(!1)}}function V(t,e){let n;switch(t){case"tableBZ":n=ie("tableBZ",e),localStorage.setItem("dataBZ",JSON.stringify(n));break;case"tableBE":n=ie("tableBE",e),localStorage.setItem("dataBE",JSON.stringify(n));break;case"tableE":n=ie("tableE",e),localStorage.setItem("dataE",JSON.stringify(n));break;case"tableN":n=ie("tableN",e),localStorage.setItem("dataN",JSON.stringify(n))}}function ie(t,e){return e||(e=document.getElementById(t).instance),e.getRows().map(n=>n.cells)}function Ve(t,e){return()=>{const n=document.createElement("div");n.className="modal-footer";const s=document.createElement("button");s.type="Submit",s.className="btn btn-primary",s.arialabel=e??"Hinzufügen",s.innerHTML=e??"Hinzufügen",n.appendChild(s),t&&t.forEach(r=>n.appendChild(r));const a=document.createElement("button");return a.type="button",a.className="btn btn-secondary",s.arialabel="Abbrechen",a.dataset.bsDismiss="modal",a.textContent="Abbrechen",n.appendChild(a),n}}function As(){const t=document.createElement("div");t.className="modal-footer";const e=document.createElement("button");e.type="button",e.className="btn btn-primary",e.arialabel="editieren",e.dataset.bsDismiss="modal",e.innerHTML="Bearbeiten",e.addEventListener("click",a=>{const r=a.target.closest(".modal").row;r.CustomTable.options.editing.editRow(r)}),t.appendChild(e);const n=document.createElement("button");n.type="button",n.className="btn btn-danger",n.arialabel="löschen",n.dataset.bsDismiss="modal",n.innerHTML="Löschen",n.addEventListener("click",a=>{const r=a.target.closest(".modal").row;r.CustomTable.options.editing.deleteRow(r)}),t.appendChild(n);const s=document.createElement("button");return s.type="button",s.className="btn btn-secondary",s.arialabel="Schließen",s.dataset.bsDismiss="modal",s.textContent="Schließen",t.appendChild(s),t}function Ct(t){const e=document.createElement("div");e.className=t.divClass??"mb-1 row";const n=document.createElement("label");n.className=t.labelClass??"col-3 col-form-label text-wrap fw-bold",n.setAttribute("for",t.name),n.textContent=t.title,e.appendChild(n);const s=document.createElement("span");return s.className=t.spanClass??"col-9 align-middle text-break my-auto",s.id=t.name,s.innerHTML=t.text??"&nbsp;",e.appendChild(s),e}function H(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("input");n.type=t.type,n.className="form-control validate",n.id=t.name,n.name=t.title,n.value=t.value,t.required&&(n.required=!0),t.disabled&&(n.disabled=!0),t.min!=null&&(n.min=t.min),t.max!=null&&(n.max=t.max),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function Le(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("select");n.className="form-select validate",n.id=t.name,n.value=t.value,t.required&&(n.required=!0),t.options.forEach(a=>{const r=document.createElement("option");r.value=a.value,r.textContent=a.text,a.disabled&&(r.disabled=!0),a.selected&&!t.value&&(r.selected=!0),r.value===t.value&&(r.selected=!0),n.appendChild(r)}),e.appendChild(n);const s=document.createElement("label");return s.className="form-label",s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function ke(t){const e=document.createElement("div");e.className=t.checkClass;const n=document.createElement("input");n.type="checkbox",n.className="form-check-input",n.id=t.id,t.status&&(n.checked=!0),t.disabled&&(n.disabled=!0),t.eventListener!=null&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-check-label",s.htmlFor=t.id,s.innerHTML=t.text,e.appendChild(s),e}function Rr(){let t=document.createElement("div");return t.className="w-100",t}function pe(t){const e=document.createElement("h4");return e.className="text-center mb-1",e.innerHTML=t,e}function Ne(t,e){const n=document.createElement("span");return n.className=t,n.textContent=e,n}function be(t,e,n,s,a,r){const o=document.querySelector("#modal");o.innerHTML="",delete o.row,o.role="document";const l=document.createElement("div");l.className="modal-dialog",n&&l.classList.add(`modal-${n}`);const i=e?document.createElement("form"):document.createElement("div");return e&&r&&i.addEventListener("submit",r()),i.className="modal-content",i.appendChild(d(t)),i.appendChild(s()),i.appendChild(a()),l.appendChild(i),o.appendChild(l),{modal:o,form:i};function d(c){const u=document.createElement("div");u.className="modal-header";const m=document.createElement("h5");m.className="modal-title",m.textContent=c,u.appendChild(m);const h=document.createElement("button");return h.type="button",h.className="btn-close",h.dataset.bsDismiss="modal",h.arialabel="Schließen",u.appendChild(h),u}}function Qn(t){document.querySelector("#btnAuswaehlen").disabled=t,document.querySelector("#btnChange").disabled=t,document.querySelector("#btnPasswortAEndern").disabled=t,document.querySelectorAll("[id^='btnSave']").forEach(e=>e.disabled=t),document.querySelectorAll("[id^='btnDownload']").forEach(e=>e.disabled=t)}function oe(t){for(const e of document.querySelectorAll("[data-disabler]"))e.disabled=t;console.log(`Button disabled: ${t}`)}function Fe(t){t=document.getElementById(t),t.dataset.normaltext||(t.dataset.normaltext=t.innerHTML),t.dataset.loadingtext||(t.dataset.loadingtext="<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),t.setAttribute("disabled",!0),t.innerHTML=t.dataset.loadingtext}function X(t){t=document.getElementById(t),t.innerHTML=t.dataset.normaltext,t.disabled=!1}function Yr(t){t.sort((e,n)=>{const s=e[0],a=n[0];return s<a?s==a?0:-1:s==a?0:1})}let On=0,es,ts;Pr();function Pr(){es=new AbortController,ts=es.signal}async function Te(t,e,n="GET",s=0,a=localStorage.getItem("accessToken")){if(s>2)throw Error("Zu viele Tokenfehler");const r=JSON.parse(localStorage.getItem("lastServerContact"));if(!r||r-Date.now()+5*60*1e3<0){let c=z({message:"Serververbindung wird aufgebaut. Bitte warten.",dismissible:!1,status:"info",timeout:!1,position:"br",fixed:!0});await fetch(`${Na}/`,{method:"GET",signal:ts}),await c.Close(),localStorage.setItem("lastServerContact",JSON.stringify(Date.now()))}let o=n==="GET"?{}:{"Content-Type":"application/json"};a&&((!e||e&&!e.refreshToken)&&(a=await Qu(a)),o.Authorization=`Bearer ${a}`);const l={mode:"cors",headers:o,method:n,signal:ts,cache:"no-cache"};e&&(l.body=JSON.stringify(e));const i=await fetch(`${Na}/${t}`,l),d=await i.json();return i.status==401&&d.message=="Token abgelaufen"?(a=await Hr(s,void 0,a),await Te(t,e,n,s+1,a)):(d.statusCode=i.status,d)}async function Qu(t=localStorage.getItem("accessToken")){const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(n).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join("")),r=JSON.parse(s).exp*1e3,o=new Date;return r<o.getTime()?await Hr():t}async function Hr(t,e=localStorage.getItem("refreshToken"),n=localStorage.getItem("accessToken")){if(!e||!n||On>2)throw On=0,tn(),z({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Fehler bei Token erneuerung");const s=await Te("refreshToken",{refreshToken:e},"POST",t,n);if(console.log(s),s.statusCode===200){On++;let{accessToken:a,refreshToken:r}=s.data;return console.log({accessToken:a,refreshToken:r}),localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",r),a}else throw tn(),z({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0}),Error("Fehler bei Token erneuerung")}function gn(t){return typeof t=="object"&&!Array.isArray(t)&&Object.prototype.toString.call(t)==="[object Object]"}
//# sourceMappingURL=index-ec82f8ab.js.map
