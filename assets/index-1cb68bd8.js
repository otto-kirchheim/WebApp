var qi=Object.defineProperty;var Hi=(t,e,n)=>e in t?qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(Hi(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var re="top",fe="bottom",he="right",ie="left",nn="auto",Et=[re,fe,he,ie],Qe="start",ft="end",br="clippingParents",Un="viewport",at="popper",Er="reference",On=Et.reduce(function(t,e){return t.concat([e+"-"+Qe,e+"-"+ft])},[]),jn=[].concat(Et,[nn]).reduce(function(t,e){return t.concat([e,e+"-"+Qe,e+"-"+ft])},[]),vr="beforeRead",_r="read",yr="afterRead",wr="beforeMain",Sr="main",Tr="afterMain",Cr="beforeWrite",Ar="write",Nr="afterWrite",Mr=[vr,_r,yr,wr,Sr,Tr,Cr,Ar,Nr];function Me(t){return t?(t.nodeName||"").toLowerCase():null}function me(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function et(t){var e=me(t).Element;return t instanceof e||t instanceof Element}function be(t){var e=me(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Zn(t){if(typeof ShadowRoot>"u")return!1;var e=me(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Wi(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!be(r)||!Me(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(a){var l=i[a];l===!1?r.removeAttribute(a):r.setAttribute(a,l===!0?"":l)}))})}function Fi(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=a.reduce(function(o,c){return o[c]="",o},{});!be(i)||!Me(i)||(Object.assign(i.style,l),Object.keys(r).forEach(function(o){i.removeAttribute(o)}))})}}const Kn={name:"applyStyles",enabled:!0,phase:"write",fn:Wi,effect:Fi,requires:["computeStyles"]};function Ae(t){return t.split("-")[0]}var Xe=Math.max,Xt=Math.min,ht=Math.round;function $n(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Dr(){return!/^((?!chrome|android).)*safari/i.test($n())}function mt(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&be(t)&&(i=t.offsetWidth>0&&ht(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&ht(s.height)/t.offsetHeight||1);var a=et(t)?me(t):window,l=a.visualViewport,o=!Dr()&&n,c=(s.left+(o&&l?l.offsetLeft:0))/i,u=(s.top+(o&&l?l.offsetTop:0))/r,d=s.width/i,f=s.height/r;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Gn(t){var e=mt(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function Lr(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Zn(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ke(t){return me(t).getComputedStyle(t)}function Vi(t){return["table","td","th"].indexOf(Me(t))>=0}function Fe(t){return((et(t)?t.ownerDocument:t.document)||window.document).documentElement}function sn(t){return Me(t)==="html"?t:t.assignedSlot||t.parentNode||(Zn(t)?t.host:null)||Fe(t)}function ys(t){return!be(t)||ke(t).position==="fixed"?null:t.offsetParent}function zi(t){var e=/firefox/i.test($n()),n=/Trident/i.test($n());if(n&&be(t)){var s=ke(t);if(s.position==="fixed")return null}var i=sn(t);for(Zn(i)&&(i=i.host);be(i)&&["html","body"].indexOf(Me(i))<0;){var r=ke(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Bt(t){for(var e=me(t),n=ys(t);n&&Vi(n)&&ke(n).position==="static";)n=ys(n);return n&&(Me(n)==="html"||Me(n)==="body"&&ke(n).position==="static")?e:n||zi(t)||e}function Jn(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Dt(t,e,n){return Xe(t,Xt(e,n))}function Ui(t,e,n){var s=Dt(t,e,n);return s>n?n:s}function Or(){return{top:0,right:0,bottom:0,left:0}}function $r(t){return Object.assign({},Or(),t)}function xr(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var ji=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$r(typeof e!="number"?e:xr(e,Et))};function Zi(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Ae(n.placement),o=Jn(l),c=[ie,he].indexOf(l)>=0,u=c?"height":"width";if(!(!r||!a)){var d=ji(i.padding,n),f=Gn(r),h=o==="y"?re:ie,p=o==="y"?fe:he,m=n.rects.reference[u]+n.rects.reference[o]-a[o]-n.rects.popper[u],g=a[o]-n.rects.reference[o],T=Bt(r),N=T?o==="y"?T.clientHeight||0:T.clientWidth||0:0,x=m/2-g/2,$=d[h],_=N-f[u]-d[p],v=N/2-f[u]/2+x,b=Dt($,v,_),S=o;n.modifiersData[s]=(e={},e[S]=b,e.centerOffset=b-v,e)}}function Ki(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Lr(e.elements.popper,i)&&(e.elements.arrow=i))}const kr={name:"arrow",enabled:!0,phase:"main",fn:Zi,effect:Ki,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pt(t){return t.split("-")[1]}var Gi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ji(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:ht(n*i)/i||0,y:ht(s*i)/i||0}}function ws(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,a=t.offsets,l=t.position,o=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=a.x,h=f===void 0?0:f,p=a.y,m=p===void 0?0:p,g=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var T=a.hasOwnProperty("x"),N=a.hasOwnProperty("y"),x=ie,$=re,_=window;if(c){var v=Bt(n),b="clientHeight",S="clientWidth";if(v===me(n)&&(v=Fe(n),ke(v).position!=="static"&&l==="absolute"&&(b="scrollHeight",S="scrollWidth")),v=v,i===re||(i===ie||i===he)&&r===ft){$=fe;var D=d&&v===_&&_.visualViewport?_.visualViewport.height:v[b];m-=D-s.height,m*=o?1:-1}if(i===ie||(i===re||i===fe)&&r===ft){x=he;var w=d&&v===_&&_.visualViewport?_.visualViewport.width:v[S];h-=w-s.width,h*=o?1:-1}}var k=Object.assign({position:l},c&&Gi),Y=u===!0?Ji({x:h,y:m},me(n)):{x:h,y:m};if(h=Y.x,m=Y.y,o){var L;return Object.assign({},k,(L={},L[$]=N?"0":"",L[x]=T?"0":"",L.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",L))}return Object.assign({},k,(e={},e[$]=N?m+"px":"",e[x]=T?h+"px":"",e.transform="",e))}function Xi(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,a=r===void 0?!0:r,l=n.roundOffsets,o=l===void 0?!0:l,c={placement:Ae(e.placement),variation:pt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ws(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:o})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ws(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Xn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xi,data:{}};var Ht={passive:!0};function Qi(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,a=s.resize,l=a===void 0?!0:a,o=me(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ht)}),l&&o.addEventListener("resize",n.update,Ht),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ht)}),l&&o.removeEventListener("resize",n.update,Ht)}}const Qn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qi,data:{}};var eo={left:"right",right:"left",bottom:"top",top:"bottom"};function Zt(t){return t.replace(/left|right|bottom|top/g,function(e){return eo[e]})}var to={start:"end",end:"start"};function Ss(t){return t.replace(/start|end/g,function(e){return to[e]})}function es(t){var e=me(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function ts(t){return mt(Fe(t)).left+es(t).scrollLeft}function no(t,e){var n=me(t),s=Fe(t),i=n.visualViewport,r=s.clientWidth,a=s.clientHeight,l=0,o=0;if(i){r=i.width,a=i.height;var c=Dr();(c||!c&&e==="fixed")&&(l=i.offsetLeft,o=i.offsetTop)}return{width:r,height:a,x:l+ts(t),y:o}}function so(t){var e,n=Fe(t),s=es(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=Xe(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Xe(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-s.scrollLeft+ts(t),o=-s.scrollTop;return ke(i||n).direction==="rtl"&&(l+=Xe(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:a,x:l,y:o}}function ns(t){var e=ke(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function Br(t){return["html","body","#document"].indexOf(Me(t))>=0?t.ownerDocument.body:be(t)&&ns(t)?t:Br(sn(t))}function Lt(t,e){var n;e===void 0&&(e=[]);var s=Br(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=me(s),a=i?[r].concat(r.visualViewport||[],ns(s)?s:[]):s,l=e.concat(a);return i?l:l.concat(Lt(sn(a)))}function xn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ro(t,e){var n=mt(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Ts(t,e,n){return e===Un?xn(no(t,n)):et(e)?ro(e,n):xn(so(Fe(t)))}function io(t){var e=Lt(sn(t)),n=["absolute","fixed"].indexOf(ke(t).position)>=0,s=n&&be(t)?Bt(t):t;return et(s)?e.filter(function(i){return et(i)&&Lr(i,s)&&Me(i)!=="body"}):[]}function oo(t,e,n,s){var i=e==="clippingParents"?io(t):[].concat(e),r=[].concat(i,[n]),a=r[0],l=r.reduce(function(o,c){var u=Ts(t,c,s);return o.top=Xe(u.top,o.top),o.right=Xt(u.right,o.right),o.bottom=Xt(u.bottom,o.bottom),o.left=Xe(u.left,o.left),o},Ts(t,a,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ir(t){var e=t.reference,n=t.element,s=t.placement,i=s?Ae(s):null,r=s?pt(s):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,o;switch(i){case re:o={x:a,y:e.y-n.height};break;case fe:o={x:a,y:e.y+e.height};break;case he:o={x:e.x+e.width,y:l};break;case ie:o={x:e.x-n.width,y:l};break;default:o={x:e.x,y:e.y}}var c=i?Jn(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case Qe:o[c]=o[c]-(e[u]/2-n[u]/2);break;case ft:o[c]=o[c]+(e[u]/2-n[u]/2);break}}return o}function gt(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,a=r===void 0?t.strategy:r,l=n.boundary,o=l===void 0?br:l,c=n.rootBoundary,u=c===void 0?Un:c,d=n.elementContext,f=d===void 0?at:d,h=n.altBoundary,p=h===void 0?!1:h,m=n.padding,g=m===void 0?0:m,T=$r(typeof g!="number"?g:xr(g,Et)),N=f===at?Er:at,x=t.rects.popper,$=t.elements[p?N:f],_=oo(et($)?$:$.contextElement||Fe(t.elements.popper),o,u,a),v=mt(t.elements.reference),b=Ir({reference:v,element:x,strategy:"absolute",placement:i}),S=xn(Object.assign({},x,b)),D=f===at?S:v,w={top:_.top-D.top+T.top,bottom:D.bottom-_.bottom+T.bottom,left:_.left-D.left+T.left,right:D.right-_.right+T.right},k=t.modifiersData.offset;if(f===at&&k){var Y=k[i];Object.keys(w).forEach(function(L){var A=[he,fe].indexOf(L)>=0?1:-1,C=[re,fe].indexOf(L)>=0?"y":"x";w[L]+=Y[C]*A})}return w}function ao(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,a=n.padding,l=n.flipVariations,o=n.allowedAutoPlacements,c=o===void 0?jn:o,u=pt(s),d=u?l?On:On.filter(function(p){return pt(p)===u}):Et,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=gt(t,{placement:m,boundary:i,rootBoundary:r,padding:a})[Ae(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function lo(t){if(Ae(t)===nn)return[];var e=Zt(t);return[Ss(t),e,Ss(e)]}function co(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!0:a,o=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,g=e.options.placement,T=Ae(g),N=T===g,x=o||(N||!p?[Zt(g)]:lo(g)),$=[g].concat(x).reduce(function(K,Q){return K.concat(Ae(Q)===nn?ao(e,{placement:Q,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):Q)},[]),_=e.rects.reference,v=e.rects.popper,b=new Map,S=!0,D=$[0],w=0;w<$.length;w++){var k=$[w],Y=Ae(k),L=pt(k)===Qe,A=[re,fe].indexOf(Y)>=0,C=A?"width":"height",B=gt(e,{placement:k,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),y=A?L?he:ie:L?fe:re;_[C]>v[C]&&(y=Zt(y));var R=Zt(y),I=[];if(r&&I.push(B[Y]<=0),l&&I.push(B[y]<=0,B[R]<=0),I.every(function(K){return K})){D=k,S=!1;break}b.set(k,I)}if(S)for(var H=p?3:1,U=function(Q){var ue=$.find(function(de){var ee=b.get(de);if(ee)return ee.slice(0,Q).every(function(J){return J})});if(ue)return D=ue,"break"},j=H;j>0;j--){var W=U(j);if(W==="break")break}e.placement!==D&&(e.modifiersData[s]._skip=!0,e.placement=D,e.reset=!0)}}const Rr={name:"flip",enabled:!0,phase:"main",fn:co,requiresIfExists:["offset"],data:{_skip:!1}};function Cs(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function As(t){return[re,he,fe,ie].some(function(e){return t[e]>=0})}function uo(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,a=gt(e,{elementContext:"reference"}),l=gt(e,{altBoundary:!0}),o=Cs(a,s),c=Cs(l,i,r),u=As(o),d=As(c);e.modifiersData[n]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Yr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uo};function fo(t,e,n){var s=Ae(t),i=[ie,re].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=r[0],l=r[1];return a=a||0,l=(l||0)*i,[ie,he].indexOf(s)>=0?{x:l,y:a}:{x:a,y:l}}function ho(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,a=jn.reduce(function(u,d){return u[d]=fo(d,e.rects,r),u},{}),l=a[e.placement],o=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=o,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=a}const Pr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ho};function mo(t){var e=t.state,n=t.name;e.modifiersData[n]=Ir({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ss={name:"popperOffsets",enabled:!0,phase:"read",fn:mo,data:{}};function po(t){return t==="x"?"y":"x"}function go(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,a=n.altAxis,l=a===void 0?!1:a,o=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,m=p===void 0?0:p,g=gt(e,{boundary:o,rootBoundary:c,padding:d,altBoundary:u}),T=Ae(e.placement),N=pt(e.placement),x=!N,$=Jn(T),_=po($),v=e.modifiersData.popperOffsets,b=e.rects.reference,S=e.rects.popper,D=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,w=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Y={x:0,y:0};if(v){if(r){var L,A=$==="y"?re:ie,C=$==="y"?fe:he,B=$==="y"?"height":"width",y=v[$],R=y+g[A],I=y-g[C],H=h?-S[B]/2:0,U=N===Qe?b[B]:S[B],j=N===Qe?-S[B]:-b[B],W=e.elements.arrow,K=h&&W?Gn(W):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Or(),ue=Q[A],de=Q[C],ee=Dt(0,b[B],K[B]),J=x?b[B]/2-H-ee-ue-w.mainAxis:U-ee-ue-w.mainAxis,oe=x?-b[B]/2+H+ee+de+w.mainAxis:j+ee+de+w.mainAxis,ge=e.elements.arrow&&Bt(e.elements.arrow),Te=ge?$==="y"?ge.clientTop||0:ge.clientLeft||0:0,rt=(L=k==null?void 0:k[$])!=null?L:0,St=y+J-rt-Te,Tt=y+oe-rt,pn=Dt(h?Xt(R,St):R,y,h?Xe(I,Tt):I);v[$]=pn,Y[$]=pn-y}if(l){var ms,Yi=$==="x"?re:ie,Pi=$==="x"?fe:he,Ze=v[_],qt=_==="y"?"height":"width",ps=Ze+g[Yi],gs=Ze-g[Pi],gn=[re,ie].indexOf(T)!==-1,bs=(ms=k==null?void 0:k[_])!=null?ms:0,Es=gn?ps:Ze-b[qt]-S[qt]-bs+w.altAxis,vs=gn?Ze+b[qt]+S[qt]-bs-w.altAxis:gs,_s=h&&gn?Ui(Es,Ze,vs):Dt(h?Es:ps,Ze,h?vs:gs);v[_]=_s,Y[_]=_s-Ze}e.modifiersData[s]=Y}}const qr={name:"preventOverflow",enabled:!0,phase:"main",fn:go,requiresIfExists:["offset"]};function bo(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Eo(t){return t===me(t)||!be(t)?es(t):bo(t)}function vo(t){var e=t.getBoundingClientRect(),n=ht(e.width)/t.offsetWidth||1,s=ht(e.height)/t.offsetHeight||1;return n!==1||s!==1}function _o(t,e,n){n===void 0&&(n=!1);var s=be(e),i=be(e)&&vo(e),r=Fe(e),a=mt(t,i,n),l={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(s||!s&&!n)&&((Me(e)!=="body"||ns(r))&&(l=Eo(e)),be(e)?(o=mt(e,!0),o.x+=e.clientLeft,o.y+=e.clientTop):r&&(o.x=ts(r))),{x:a.left+l.scrollLeft-o.x,y:a.top+l.scrollTop-o.y,width:a.width,height:a.height}}function yo(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var o=e.get(l);o&&i(o)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function wo(t){var e=yo(t);return Mr.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function So(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function To(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ns={placement:"bottom",modifiers:[],strategy:"absolute"};function Ms(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function rn(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?Ns:i;return function(l,o,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ns,r),modifiersData:{},elements:{reference:l,popper:o},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(T){var N=typeof T=="function"?T(u.options):T;m(),u.options=Object.assign({},r,u.options,N),u.scrollParents={reference:et(l)?Lt(l):l.contextElement?Lt(l.contextElement):[],popper:Lt(o)};var x=wo(To([].concat(s,u.options.modifiers)));return u.orderedModifiers=x.filter(function($){return $.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var T=u.elements,N=T.reference,x=T.popper;if(Ms(N,x)){u.rects={reference:_o(N,Bt(x),u.options.strategy==="fixed"),popper:Gn(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(w){return u.modifiersData[w.name]=Object.assign({},w.data)});for(var $=0;$<u.orderedModifiers.length;$++){if(u.reset===!0){u.reset=!1,$=-1;continue}var _=u.orderedModifiers[$],v=_.fn,b=_.options,S=b===void 0?{}:b,D=_.name;typeof v=="function"&&(u=v({state:u,options:S,name:D,instance:h})||u)}}}},update:So(function(){return new Promise(function(g){h.forceUpdate(),g(u)})}),destroy:function(){m(),f=!0}};if(!Ms(l,o))return h;h.setOptions(c).then(function(g){!f&&c.onFirstUpdate&&c.onFirstUpdate(g)});function p(){u.orderedModifiers.forEach(function(g){var T=g.name,N=g.options,x=N===void 0?{}:N,$=g.effect;if(typeof $=="function"){var _=$({state:u,name:T,instance:h,options:x}),v=function(){};d.push(_||v)}})}function m(){d.forEach(function(g){return g()}),d=[]}return h}}var Co=rn(),Ao=[Qn,ss,Xn,Kn],No=rn({defaultModifiers:Ao}),Mo=[Qn,ss,Xn,Kn,Pr,Rr,qr,kr,Yr],rs=rn({defaultModifiers:Mo});const Hr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Tr,afterRead:yr,afterWrite:Nr,applyStyles:Kn,arrow:kr,auto:nn,basePlacements:Et,beforeMain:wr,beforeRead:vr,beforeWrite:Cr,bottom:fe,clippingParents:br,computeStyles:Xn,createPopper:rs,createPopperBase:Co,createPopperLite:No,detectOverflow:gt,end:ft,eventListeners:Qn,flip:Rr,hide:Yr,left:ie,main:Sr,modifierPhases:Mr,offset:Pr,placements:jn,popper:at,popperGenerator:rn,popperOffsets:ss,preventOverflow:qr,read:_r,reference:Er,right:he,start:Qe,top:re,variationPlacements:On,viewport:Un,write:Ar},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Re=new Map,bn={set(t,e,n){Re.has(t)||Re.set(t,new Map);const s=Re.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Re.has(t)&&Re.get(t).get(e)||null},remove(t,e){if(!Re.has(t))return;const n=Re.get(t);n.delete(e),n.size===0&&Re.delete(t)}},Do=1e6,Lo=1e3,kn="transitionend",Wr=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),Oo=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),$o=t=>{do t+=Math.floor(Math.random()*Do);while(document.getElementById(t));return t},xo=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Lo)},Fr=t=>{t.dispatchEvent(new Event(kn))},$e=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Pe=t=>$e(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Wr(t)):null,vt=t=>{if(!$e(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},qe=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Vr=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Vr(t.parentNode):null},Qt=()=>{},It=t=>{t.offsetHeight},zr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,En=[],ko=t=>{document.readyState==="loading"?(En.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of En)e()}),En.push(t)):t()},Ee=()=>document.documentElement.dir==="rtl",ye=t=>{ko(()=>{const e=zr();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},ae=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,Ur=(t,e,n=!0)=>{if(!n){ae(t);return}const s=5,i=xo(e)+s;let r=!1;const a=({target:l})=>{l===e&&(r=!0,e.removeEventListener(kn,a),ae(t))};e.addEventListener(kn,a),setTimeout(()=>{r||Fr(e)},i)},is=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},Bo=/[^.]*(?=\..*)\.|.*/,Io=/\..*/,Ro=/::\d+$/,vn={};let Ds=1;const jr={mouseenter:"mouseover",mouseleave:"mouseout"},Yo=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Zr(t,e){return e&&`${e}::${Ds++}`||t.uidEvent||Ds++}function Kr(t){const e=Zr(t);return t.uidEvent=e,vn[e]=vn[e]||{},vn[e]}function Po(t,e){return function n(s){return os(s,{delegateTarget:t}),n.oneOff&&M.off(t,s.type,e),e.apply(t,[s])}}function qo(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const l of r)if(l===a)return os(i,{delegateTarget:a}),s.oneOff&&M.off(t,i.type,e,n),n.apply(a,[i])}}function Gr(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function Jr(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=Xr(t);return Yo.has(r)||(r=t),[s,i,r]}function Ls(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,a,l]=Jr(e,n,s);e in jr&&(a=(p=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return p.call(this,m)})(a));const o=Kr(t),c=o[l]||(o[l]={}),u=Gr(c,a,r?n:null);if(u){u.oneOff=u.oneOff&&i;return}const d=Zr(a,e.replace(Bo,"")),f=r?qo(t,n,a):Po(t,a);f.delegationSelector=r?n:null,f.callable=a,f.oneOff=i,f.uidEvent=d,c[d]=f,t.addEventListener(l,f,r)}function Bn(t,e,n,s,i){const r=Gr(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function Ho(t,e,n,s){const i=e[n]||{};for(const[r,a]of Object.entries(i))r.includes(s)&&Bn(t,e,n,a.callable,a.delegationSelector)}function Xr(t){return t=t.replace(Io,""),jr[t]||t}const M={on(t,e,n,s){Ls(t,e,n,s,!1)},one(t,e,n,s){Ls(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,a]=Jr(e,n,s),l=a!==e,o=Kr(t),c=o[a]||{},u=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;Bn(t,o,a,r,i?n:null);return}if(u)for(const d of Object.keys(o))Ho(t,o,d,e.slice(1));for(const[d,f]of Object.entries(c)){const h=d.replace(Ro,"");(!l||e.includes(h))&&Bn(t,o,a,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=zr(),i=Xr(e),r=e!==i;let a=null,l=!0,o=!0,c=!1;r&&s&&(a=s.Event(e,n),s(t).trigger(a),l=!a.isPropagationStopped(),o=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const u=os(new Event(e,{bubbles:l,cancelable:!0}),n);return c&&u.preventDefault(),o&&t.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function os(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function Os(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function _n(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const xe={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${_n(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${_n(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Os(t.dataset[s])}return e},getDataAttribute(t,e){return Os(t.getAttribute(`data-bs-${_n(e)}`))}};class Rt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=$e(n)?xe.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...$e(n)?xe.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],a=$e(r)?"element":Oo(r);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${a}" but expected type "${i}".`)}}}const Wo="5.3.0";class Se extends Rt{constructor(e,n){super(),e=Pe(e),e&&(this._element=e,this._config=this._getConfig(n),bn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){bn.remove(this._element,this.constructor.DATA_KEY),M.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){Ur(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return bn.get(Pe(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Wo}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const yn=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return Wr(e)},P={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!qe(n)&&vt(n))},getSelectorFromElement(t){const e=yn(t);return e&&P.findOne(e)?e:null},getElementFromSelector(t){const e=yn(t);return e?P.findOne(e):null},getMultipleElementsFromSelector(t){const e=yn(t);return e?P.find(e):[]}},on=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;M.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),qe(this))return;const r=P.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},Fo="alert",Vo="bs.alert",Qr=`.${Vo}`,zo=`close${Qr}`,Uo=`closed${Qr}`,jo="fade",Zo="show";class an extends Se{static get NAME(){return Fo}close(){if(M.trigger(this._element,zo).defaultPrevented)return;this._element.classList.remove(Zo);const n=this._element.classList.contains(jo);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),M.trigger(this._element,Uo),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=an.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}on(an,"close");ye(an);const Ko="button",Go="bs.button",Jo=`.${Go}`,Xo=".data-api",Qo="active",$s='[data-bs-toggle="button"]',ea=`click${Jo}${Xo}`;class ln extends Se{static get NAME(){return Ko}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Qo))}static jQueryInterface(e){return this.each(function(){const n=ln.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}M.on(document,ea,$s,t=>{t.preventDefault();const e=t.target.closest($s);ln.getOrCreateInstance(e).toggle()});ye(ln);const ta="swipe",_t=".bs.swipe",na=`touchstart${_t}`,sa=`touchmove${_t}`,ra=`touchend${_t}`,ia=`pointerdown${_t}`,oa=`pointerup${_t}`,aa="touch",la="pen",ca="pointer-event",ua=40,da={endCallback:null,leftCallback:null,rightCallback:null},fa={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class en extends Rt{constructor(e,n){super(),this._element=e,!(!e||!en.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return da}static get DefaultType(){return fa}static get NAME(){return ta}dispose(){M.off(this._element,_t)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ae(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ua)return;const n=e/this._deltaX;this._deltaX=0,n&&ae(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(M.on(this._element,ia,e=>this._start(e)),M.on(this._element,oa,e=>this._end(e)),this._element.classList.add(ca)):(M.on(this._element,na,e=>this._start(e)),M.on(this._element,sa,e=>this._move(e)),M.on(this._element,ra,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===la||e.pointerType===aa)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ha="carousel",ma="bs.carousel",Ve=`.${ma}`,ei=".data-api",pa="ArrowLeft",ga="ArrowRight",ba=500,Ct="next",it="prev",lt="left",Kt="right",Ea=`slide${Ve}`,wn=`slid${Ve}`,va=`keydown${Ve}`,_a=`mouseenter${Ve}`,ya=`mouseleave${Ve}`,wa=`dragstart${Ve}`,Sa=`load${Ve}${ei}`,Ta=`click${Ve}${ei}`,ti="carousel",Wt="active",Ca="slide",Aa="carousel-item-end",Na="carousel-item-start",Ma="carousel-item-next",Da="carousel-item-prev",ni=".active",si=".carousel-item",La=ni+si,Oa=".carousel-item img",$a=".carousel-indicators",xa="[data-bs-slide], [data-bs-slide-to]",ka='[data-bs-ride="carousel"]',Ba={[pa]:Kt,[ga]:lt},Ia={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ra={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yt extends Se{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne($a,this._element),this._addEventListeners(),this._config.ride===ti&&this.cycle()}static get Default(){return Ia}static get DefaultType(){return Ra}static get NAME(){return ha}next(){this._slide(Ct)}nextWhenVisible(){!document.hidden&&vt(this._element)&&this.next()}prev(){this._slide(it)}pause(){this._isSliding&&Fr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){M.one(this._element,wn,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){M.one(this._element,wn,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?Ct:it;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&M.on(this._element,va,e=>this._keydown(e)),this._config.pause==="hover"&&(M.on(this._element,_a,()=>this.pause()),M.on(this._element,ya,()=>this._maybeEnableCycle())),this._config.touch&&en.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of P.find(Oa,this._element))M.on(s,wa,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(lt)),rightCallback:()=>this._slide(this._directionToOrder(Kt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ba+this._config.interval))}};this._swipeHelper=new en(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Ba[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=P.findOne(ni,this._indicatorsElement);n.classList.remove(Wt),n.removeAttribute("aria-current");const s=P.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(Wt),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===Ct,r=n||is(this._getItems(),s,i,this._config.wrap);if(r===s)return;const a=this._getItemIndex(r),l=h=>M.trigger(this._element,h,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:a});if(l(Ea).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const u=i?Na:Aa,d=i?Ma:Da;r.classList.add(d),It(r),s.classList.add(u),r.classList.add(u);const f=()=>{r.classList.remove(u,d),r.classList.add(Wt),s.classList.remove(Wt,d,u),this._isSliding=!1,l(wn)};this._queueCallback(f,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ca)}_getActive(){return P.findOne(La,this._element)}_getItems(){return P.find(si,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ee()?e===lt?it:Ct:e===lt?Ct:it}_orderToDirection(e){return Ee()?e===it?lt:Kt:e===it?Kt:lt}static jQueryInterface(e){return this.each(function(){const n=Yt.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}M.on(document,Ta,xa,function(t){const e=P.getElementFromSelector(this);if(!e||!e.classList.contains(ti))return;t.preventDefault();const n=Yt.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(xe.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});M.on(window,Sa,()=>{const t=P.find(ka);for(const e of t)Yt.getOrCreateInstance(e)});ye(Yt);const Ya="collapse",Pa="bs.collapse",Pt=`.${Pa}`,qa=".data-api",Ha=`show${Pt}`,Wa=`shown${Pt}`,Fa=`hide${Pt}`,Va=`hidden${Pt}`,za=`click${Pt}${qa}`,Sn="show",ut="collapse",Ft="collapsing",Ua="collapsed",ja=`:scope .${ut} .${ut}`,Za="collapse-horizontal",Ka="width",Ga="height",Ja=".collapse.show, .collapse.collapsing",In='[data-bs-toggle="collapse"]',Xa={parent:null,toggle:!0},Qa={parent:"(null|element)",toggle:"boolean"};class Ot extends Se{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=P.find(In);for(const i of s){const r=P.getSelectorFromElement(i),a=P.find(r).filter(l=>l===this._element);r!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xa}static get DefaultType(){return Qa}static get NAME(){return Ya}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Ja).filter(l=>l!==this._element).map(l=>Ot.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||M.trigger(this._element,Ha).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(ut),this._element.classList.add(Ft),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Ft),this._element.classList.add(ut,Sn),this._element.style[s]="",M.trigger(this._element,Wa)},a=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||M.trigger(this._element,Fa).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,It(this._element),this._element.classList.add(Ft),this._element.classList.remove(ut,Sn);for(const i of this._triggerArray){const r=P.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Ft),this._element.classList.add(ut),M.trigger(this._element,Va)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Sn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Pe(e.parent),e}_getDimension(){return this._element.classList.contains(Za)?Ka:Ga}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(In);for(const n of e){const s=P.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=P.find(ja,this._config.parent);return P.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(Ua,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Ot.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}M.on(document,za,In,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of P.getMultipleElementsFromSelector(this))Ot.getOrCreateInstance(e,{toggle:!1}).toggle()});ye(Ot);const xs="dropdown",el="bs.dropdown",nt=`.${el}`,as=".data-api",tl="Escape",ks="Tab",nl="ArrowUp",Bs="ArrowDown",sl=2,rl=`hide${nt}`,il=`hidden${nt}`,ol=`show${nt}`,al=`shown${nt}`,ri=`click${nt}${as}`,ii=`keydown${nt}${as}`,ll=`keyup${nt}${as}`,ct="show",cl="dropup",ul="dropend",dl="dropstart",fl="dropup-center",hl="dropdown-center",Ge='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ml=`${Ge}.${ct}`,Gt=".dropdown-menu",pl=".navbar",gl=".navbar-nav",bl=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",El=Ee()?"top-end":"top-start",vl=Ee()?"top-start":"top-end",_l=Ee()?"bottom-end":"bottom-start",yl=Ee()?"bottom-start":"bottom-end",wl=Ee()?"left-start":"right-start",Sl=Ee()?"right-start":"left-start",Tl="top",Cl="bottom",Al={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Nl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ne extends Se{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,Gt)[0]||P.prev(this._element,Gt)[0]||P.findOne(Gt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Al}static get DefaultType(){return Nl}static get NAME(){return xs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qe(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!M.trigger(this._element,ol,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(gl))for(const s of[].concat(...document.body.children))M.on(s,"mouseover",Qt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ct),this._element.classList.add(ct),M.trigger(this._element,al,e)}}hide(){if(qe(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!M.trigger(this._element,rl,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))M.off(s,"mouseover",Qt);this._popper&&this._popper.destroy(),this._menu.classList.remove(ct),this._element.classList.remove(ct),this._element.setAttribute("aria-expanded","false"),xe.removeDataAttribute(this._menu,"popper"),M.trigger(this._element,il,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!$e(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${xs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Hr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:$e(this._config.reference)?e=Pe(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=rs(e,this._menu,n)}_isShown(){return this._menu.classList.contains(ct)}_getPlacement(){const e=this._parent;if(e.classList.contains(ul))return wl;if(e.classList.contains(dl))return Sl;if(e.classList.contains(fl))return Tl;if(e.classList.contains(hl))return Cl;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(cl)?n?vl:El:n?yl:_l}_detectNavbar(){return this._element.closest(pl)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(xe.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ae(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const s=P.find(bl,this._menu).filter(i=>vt(i));s.length&&is(s,n,e===Bs,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Ne.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===sl||e.type==="keyup"&&e.key!==ks)return;const n=P.find(ml);for(const s of n){const i=Ne.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),a=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ks||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:i._element};e.type==="click"&&(l.clickEvent=e),i._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===tl,i=[nl,Bs].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(Ge)?this:P.prev(this,Ge)[0]||P.next(this,Ge)[0]||P.findOne(Ge,e.delegateTarget.parentNode),a=Ne.getOrCreateInstance(r);if(i){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),r.focus())}}M.on(document,ii,Ge,Ne.dataApiKeydownHandler);M.on(document,ii,Gt,Ne.dataApiKeydownHandler);M.on(document,ri,Ne.clearMenus);M.on(document,ll,Ne.clearMenus);M.on(document,ri,Ge,function(t){t.preventDefault(),Ne.getOrCreateInstance(this).toggle()});ye(Ne);const oi="backdrop",Ml="fade",Is="show",Rs=`mousedown.bs.${oi}`,Dl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ll={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ai extends Rt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Dl}static get DefaultType(){return Ll}static get NAME(){return oi}show(e){if(!this._config.isVisible){ae(e);return}this._append();const n=this._getElement();this._config.isAnimated&&It(n),n.classList.add(Is),this._emulateAnimation(()=>{ae(e)})}hide(e){if(!this._config.isVisible){ae(e);return}this._getElement().classList.remove(Is),this._emulateAnimation(()=>{this.dispose(),ae(e)})}dispose(){this._isAppended&&(M.off(this._element,Rs),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ml),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Pe(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),M.on(e,Rs,()=>{ae(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Ur(e,this._getElement(),this._config.isAnimated)}}const Ol="focustrap",$l="bs.focustrap",tn=`.${$l}`,xl=`focusin${tn}`,kl=`keydown.tab${tn}`,Bl="Tab",Il="forward",Ys="backward",Rl={autofocus:!0,trapElement:null},Yl={autofocus:"boolean",trapElement:"element"};class li extends Rt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Rl}static get DefaultType(){return Yl}static get NAME(){return Ol}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),M.off(document,tn),M.on(document,xl,e=>this._handleFocusin(e)),M.on(document,kl,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,M.off(document,tn))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=P.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Ys?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===Bl&&(this._lastTabNavDirection=e.shiftKey?Ys:Il)}}const Ps=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qs=".sticky-top",Vt="padding-right",Hs="margin-right";class Rn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Vt,n=>n+e),this._setElementAttributes(Ps,Vt,n=>n+e),this._setElementAttributes(qs,Hs,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Vt),this._resetElementAttributes(Ps,Vt),this._resetElementAttributes(qs,Hs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,n);const l=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&xe.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=xe.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}xe.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if($e(e)){n(e);return}for(const s of P.find(e,this._element))n(s)}}const Pl="modal",ql="bs.modal",ve=`.${ql}`,Hl=".data-api",Wl="Escape",Fl=`hide${ve}`,Vl=`hidePrevented${ve}`,ci=`hidden${ve}`,ui=`show${ve}`,zl=`shown${ve}`,Ul=`resize${ve}`,jl=`click.dismiss${ve}`,Zl=`mousedown.dismiss${ve}`,Kl=`keydown.dismiss${ve}`,Gl=`click${ve}${Hl}`,Ws="modal-open",Jl="fade",Fs="show",Tn="modal-static",Xl=".modal.show",Ql=".modal-dialog",ec=".modal-body",tc='[data-bs-toggle="modal"]',nc={backdrop:!0,focus:!0,keyboard:!0},sc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Z extends Se{constructor(e,n){super(e,n),this._dialog=P.findOne(Ql,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rn,this._addEventListeners()}static get Default(){return nc}static get DefaultType(){return sc}static get NAME(){return Pl}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||M.trigger(this._element,ui,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ws),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||M.trigger(this._element,Fl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Fs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){M.off(window,ve),M.off(this._dialog,ve),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ai({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new li({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=P.findOne(ec,this._dialog);n&&(n.scrollTop=0),It(this._element),this._element.classList.add(Fs);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,M.trigger(this._element,zl,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){M.on(this._element,Kl,e=>{if(e.key===Wl){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),M.on(window,Ul,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),M.on(this._element,Zl,e=>{M.one(this._element,jl,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ws),this._resetAdjustments(),this._scrollBar.reset(),M.trigger(this._element,ci)})}_isAnimated(){return this._element.classList.contains(Jl)}_triggerBackdropTransition(){if(M.trigger(this._element,Vl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Tn)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Tn),this._queueCallback(()=>{this._element.classList.remove(Tn),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=Ee()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=Ee()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Z.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}M.on(document,Gl,tc,function(t){const e=P.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),M.one(e,ui,i=>{i.defaultPrevented||M.one(e,ci,()=>{vt(this)&&this.focus()})});const n=P.findOne(Xl);n&&Z.getInstance(n).hide(),Z.getOrCreateInstance(e).toggle(this)});on(Z);ye(Z);const rc="offcanvas",ic="bs.offcanvas",Be=`.${ic}`,di=".data-api",oc=`load${Be}${di}`,ac="Escape",Vs="show",zs="showing",Us="hiding",lc="offcanvas-backdrop",fi=".offcanvas.show",cc=`show${Be}`,uc=`shown${Be}`,dc=`hide${Be}`,js=`hidePrevented${Be}`,hi=`hidden${Be}`,fc=`resize${Be}`,hc=`click${Be}${di}`,mc=`keydown.dismiss${Be}`,pc='[data-bs-toggle="offcanvas"]',gc={backdrop:!0,keyboard:!0,scroll:!1},bc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class He extends Se{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return gc}static get DefaultType(){return bc}static get NAME(){return rc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||M.trigger(this._element,cc,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Rn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zs);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Vs),this._element.classList.remove(zs),M.trigger(this._element,uc,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||M.trigger(this._element,dc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Us),this._backdrop.hide();const n=()=>{this._element.classList.remove(Vs,Us),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Rn().reset(),M.trigger(this._element,hi)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){M.trigger(this._element,js);return}this.hide()},n=!!this._config.backdrop;return new ai({className:lc,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new li({trapElement:this._element})}_addEventListeners(){M.on(this._element,mc,e=>{if(e.key===ac){if(this._config.keyboard){this.hide();return}M.trigger(this._element,js)}})}static jQueryInterface(e){return this.each(function(){const n=He.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}M.on(document,hc,pc,function(t){const e=P.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),qe(this))return;M.one(e,hi,()=>{vt(this)&&this.focus()});const n=P.findOne(fi);n&&n!==e&&He.getInstance(n).hide(),He.getOrCreateInstance(e).toggle(this)});M.on(window,oc,()=>{for(const t of P.find(fi))He.getOrCreateInstance(t).show()});M.on(window,fc,()=>{for(const t of P.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&He.getOrCreateInstance(t).hide()});on(He);ye(He);const Ec=/^aria-[\w-]*$/i,mi={"*":["class","dir","id","lang","role",Ec],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_c=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,yc=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?vc.has(n)?!!_c.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function wc(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const a of r){const l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const o=[].concat(...a.attributes),c=[].concat(e["*"]||[],e[l]||[]);for(const u of o)yc(u,c)||a.removeAttribute(u.nodeName)}return i.body.innerHTML}const Sc="TemplateFactory",Tc={allowList:mi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Cc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ac={entry:"(string|element|function|null)",selector:"(string|element)"};class Nc extends Rt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Tc}static get DefaultType(){return Cc}static get NAME(){return Sc}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},Ac)}_setContent(e,n,s){const i=P.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if($e(n)){this._putElementInTemplate(Pe(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?wc(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ae(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Mc="tooltip",Dc=new Set(["sanitize","allowList","sanitizeFn"]),Cn="fade",Lc="modal",zt="show",Oc=".tooltip-inner",Zs=`.${Lc}`,Ks="hide.bs.modal",At="hover",An="focus",$c="click",xc="manual",kc="hide",Bc="hidden",Ic="show",Rc="shown",Yc="inserted",Pc="click",qc="focusin",Hc="focusout",Wc="mouseenter",Fc="mouseleave",Vc={AUTO:"auto",TOP:"top",RIGHT:Ee()?"left":"right",BOTTOM:"bottom",LEFT:Ee()?"right":"left"},zc={allowList:mi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Uc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class yt extends Se{constructor(e,n){if(typeof Hr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return zc}static get DefaultType(){return Uc}static get NAME(){return Mc}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),M.off(this._element.closest(Zs),Ks,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=M.trigger(this._element,this.constructor.eventName(Ic)),s=(Vr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),M.trigger(this._element,this.constructor.eventName(Yc))),this._popper=this._createPopper(i),i.classList.add(zt),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))M.on(l,"mouseover",Qt);const a=()=>{M.trigger(this._element,this.constructor.eventName(Rc)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||M.trigger(this._element,this.constructor.eventName(kc)).defaultPrevented)return;if(this._getTipElement().classList.remove(zt),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))M.off(i,"mouseover",Qt);this._activeTrigger[$c]=!1,this._activeTrigger[An]=!1,this._activeTrigger[At]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),M.trigger(this._element,this.constructor.eventName(Bc)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Cn,zt),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=$o(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Cn),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Nc({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Oc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Cn)}_isShown(){return this.tip&&this.tip.classList.contains(zt)}_createPopper(e){const n=ae(this._config.placement,[this,e,this._element]),s=Vc[n.toUpperCase()];return rs(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return ae(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...ae(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")M.on(this._element,this.constructor.eventName(Pc),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==xc){const s=n===At?this.constructor.eventName(Wc):this.constructor.eventName(qc),i=n===At?this.constructor.eventName(Fc):this.constructor.eventName(Hc);M.on(this._element,s,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusin"?An:At]=!0,a._enter()}),M.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger[r.type==="focusout"?An:At]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},M.on(this._element.closest(Zs),Ks,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=xe.getDataAttributes(this._element);for(const s of Object.keys(n))Dc.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Pe(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=yt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ye(yt);const jc="popover",Zc=".popover-header",Kc=".popover-body",Gc={...yt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Jc={...yt.DefaultType,content:"(null|string|element|function)"};class cn extends yt{static get Default(){return Gc}static get DefaultType(){return Jc}static get NAME(){return jc}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Zc]:this._getTitle(),[Kc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=cn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ye(cn);const Xc="scrollspy",Qc="bs.scrollspy",ls=`.${Qc}`,eu=".data-api",tu=`activate${ls}`,Gs=`click${ls}`,nu=`load${ls}${eu}`,su="dropdown-item",ot="active",ru='[data-bs-spy="scroll"]',Nn="[href]",iu=".nav, .list-group",Js=".nav-link",ou=".nav-item",au=".list-group-item",lu=`${Js}, ${ou} > ${Js}, ${au}`,cu=".dropdown",uu=".dropdown-toggle",du={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},fu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class un extends Se{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return du}static get DefaultType(){return fu}static get NAME(){return Xc}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Pe(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(M.off(this._config.target,Gs),M.on(this._config.target,Gs,Nn,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),s=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const l=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&l){if(s(a),!i)return;continue}!r&&!l&&s(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=P.find(Nn,this._config.target);for(const n of e){if(!n.hash||qe(n))continue;const s=P.findOne(decodeURI(n.hash),this._element);vt(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ot),this._activateParents(e),M.trigger(this._element,tu,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(su)){P.findOne(uu,e.closest(cu)).classList.add(ot);return}for(const n of P.parents(e,iu))for(const s of P.prev(n,lu))s.classList.add(ot)}_clearActiveClass(e){e.classList.remove(ot);const n=P.find(`${Nn}.${ot}`,e);for(const s of n)s.classList.remove(ot)}static jQueryInterface(e){return this.each(function(){const n=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}M.on(window,nu,()=>{for(const t of P.find(ru))un.getOrCreateInstance(t)});ye(un);const hu="tab",mu="bs.tab",st=`.${mu}`,pu=`hide${st}`,gu=`hidden${st}`,bu=`show${st}`,Eu=`shown${st}`,vu=`click${st}`,_u=`keydown${st}`,yu=`load${st}`,wu="ArrowLeft",Xs="ArrowRight",Su="ArrowUp",Qs="ArrowDown",Je="active",er="fade",Mn="show",Tu="dropdown",Cu=".dropdown-toggle",Au=".dropdown-menu",Dn=":not(.dropdown-toggle)",Nu='.list-group, .nav, [role="tablist"]',Mu=".nav-item, .list-group-item",Du=`.nav-link${Dn}, .list-group-item${Dn}, [role="tab"]${Dn}`,pi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ln=`${Du}, ${pi}`,Lu=`.${Je}[data-bs-toggle="tab"], .${Je}[data-bs-toggle="pill"], .${Je}[data-bs-toggle="list"]`;class tt extends Se{constructor(e){super(e),this._parent=this._element.closest(Nu),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),M.on(this._element,_u,n=>this._keydown(n)))}static get NAME(){return hu}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?M.trigger(n,pu,{relatedTarget:e}):null;M.trigger(e,bu,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Je),this._activate(P.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Mn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),M.trigger(e,Eu,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(er))}_deactivate(e,n){if(!e)return;e.classList.remove(Je),e.blur(),this._deactivate(P.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Mn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),M.trigger(e,gu,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(er))}_keydown(e){if(![wu,Xs,Su,Qs].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[Xs,Qs].includes(e.key),s=is(this._getChildren().filter(i=>!qe(i)),e.target,n,!0);s&&(s.focus({preventScroll:!0}),tt.getOrCreateInstance(s).show())}_getChildren(){return P.find(Ln,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=P.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(Tu))return;const i=(r,a)=>{const l=P.findOne(r,s);l&&l.classList.toggle(a,n)};i(Cu,Je),i(Au,Mn),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Je)}_getInnerElement(e){return e.matches(Ln)?e:P.findOne(Ln,e)}_getOuterElement(e){return e.closest(Mu)||e}static jQueryInterface(e){return this.each(function(){const n=tt.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}M.on(document,vu,pi,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!qe(this)&&tt.getOrCreateInstance(this).show()});M.on(window,yu,()=>{for(const t of P.find(Lu))tt.getOrCreateInstance(t)});ye(tt);const Ou="toast",$u="bs.toast",ze=`.${$u}`,xu=`mouseover${ze}`,ku=`mouseout${ze}`,Bu=`focusin${ze}`,Iu=`focusout${ze}`,Ru=`hide${ze}`,Yu=`hidden${ze}`,Pu=`show${ze}`,qu=`shown${ze}`,Hu="fade",tr="hide",Ut="show",jt="showing",Wu={animation:"boolean",autohide:"boolean",delay:"number"},Fu={animation:!0,autohide:!0,delay:5e3};class dn extends Se{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Fu}static get DefaultType(){return Wu}static get NAME(){return Ou}show(){if(M.trigger(this._element,Pu).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Hu);const n=()=>{this._element.classList.remove(jt),M.trigger(this._element,qu),this._maybeScheduleHide()};this._element.classList.remove(tr),It(this._element),this._element.classList.add(Ut,jt),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||M.trigger(this._element,Ru).defaultPrevented)return;const n=()=>{this._element.classList.add(tr),this._element.classList.remove(jt,Ut),M.trigger(this._element,Yu)};this._element.classList.add(jt),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ut),super.dispose()}isShown(){return this._element.classList.contains(Ut)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){M.on(this._element,xu,e=>this._onInteraction(e,!0)),M.on(this._element,ku,e=>this._onInteraction(e,!1)),M.on(this._element,Bu,e=>this._onInteraction(e,!0)),M.on(this._element,Iu,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=dn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}on(dn);ye(dn);/*!
 * CustomSnackbar
 *
 * Copyright 2022-2023 Jan Otto
 */class Vu{constructor(e){z(this,"_Element");z(this,"_Container");z(this,"_Interval");z(this,"_Message");z(this,"_MessageWrapper");z(this,"_Options");const n=this;this._Options=a(e),this._Container=l(),o();const{_Message:s,_MessageWrapper:i,_Element:r}=c();this._Element=r,this._Message=s,this._MessageWrapper=i,this._Container.appendChild(this._Element),this._Options.timeout&&this._Options.timeout>0&&(this._Interval=setTimeout(()=>this.Close.call(this),Number(this._Options.timeout)));function a(d){return{message:d.message??"Operation performed successfully.",dismissible:d.dismissible??!0,timeout:d.timeout??5e3,status:d.status??"info",actions:d.actions??[],fixed:d.fixed??!1,position:d.position??"br",container:d.container??document.body,width:d.width,speed:d.speed,icon:d.icon}}function l(){let d=p();return d==null&&(console.warn("SnackBar: Could not find target container "+n._Options.container.normalize()),d=document.body),f(d);function f(m){let g;const T=u();if(m){for(let N=0;N<m.children.length;N++)if(g=m.children.item(N),g&&g.nodeType===1&&g.classList.length>0&&g.classList.contains("CustomSnackbar-container")&&g.classList.contains(T))return g}return h(m)}function h(m){const g=document.createElement("div");return g.classList.add("CustomSnackbar-container"),n._Options.fixed&&g.classList.add("CustomSnackbar-container--fixed"),m.appendChild(g),g}function p(){return typeof n._Options.container=="string"?document.querySelector(n._Options.container):n._Options.container}}function o(){n._Container.classList.add(u());const d="CustomSnackbar-container--fixed";n._Options.fixed?n._Container.classList.add(d):n._Container.classList.remove(d)}function c(){const d=m(),{_Message:f,_MessageWrapper:h,innerSnack:p}=g();return d.appendChild(p),{_Message:f,_MessageWrapper:h,_Element:d};function m(){const b=document.createElement("div");return b.classList.add("CustomSnackbar__wrapper"),b.style.height="0px",b.style.opacity="0",b.style.marginTop="0px",b.style.marginBottom="0px",_(b),v(b),b}function g(){const b=document.createElement("div");b.classList.add("CustomSnackbar","CustomSnackbar--show"),T(b);const{_Message:S,_MessageWrapper:D}=N(b);return x(b),$(b),{_Message:S,_MessageWrapper:D,innerSnack:b}}function T(b){if(!n._Options.status)return;const S=document.createElement("span");S.classList.add("CustomSnackbar__status"),D(S),w(S),b.appendChild(S);function D(k){switch(n._Options.status){case"success":case"green":k.classList.add("CustomSnackbar--success");break;case"warning":case"alert":case"orange":k.classList.add("CustomSnackbar--warning");break;case"danger":case"error":case"red":k.classList.add("CustomSnackbar--danger");break;default:k.classList.add("CustomSnackbar--info");break}}function w(k){if(!n._Options.icon)return;const Y=document.createElement("span");switch(Y.classList.add("CustomSnackbar__icon"),n._Options.icon){case"exclamation":case"warn":case"danger":Y.innerText="!";break;case"info":case"question":case"question-mark":Y.innerText="?";break;case"plus":case"add":Y.innerText="+";break;default:n._Options.icon.length>1&&console.warn("Invalid icon character provided: ",n._Options.icon),Y.innerText=n._Options.icon.substring(0,1);break}k.appendChild(Y)}}function N(b){const S=document.createElement("div");S.classList.add("CustomSnackbar__message-wrapper");const D=document.createElement("span");return D.classList.add("CustomSnackbar__message"),D.innerHTML=n._Options.message,S.appendChild(D),b.appendChild(S),{_Message:D,_MessageWrapper:S}}function x(b){if(typeof n._Options.actions!="object")return;n._Options.actions.forEach(D=>{S(b,D)});function S(D,w){const k=document.createElement("span");k.classList.add("CustomSnackbar__action",...w.class??[]),k.textContent=w.text,typeof w.function=="function"?w.dismiss===!0?k.onclick=function(){w.function&&w.function(),n.Close.call(n)}:k.onclick=w.function:k.onclick=n.Close.bind(n),D.appendChild(k)}}function $(b){if(!n._Options.dismissible)return;const S=document.createElement("span");S.classList.add("CustomSnackbar__close"),S.innerText="×",S.onclick=n.Close.bind(n),b.appendChild(S)}function _(b){n._Options.width&&(b.style.width=String(n._Options.width))}function v(b){const{speed:S}=n._Options;switch(typeof S){case"number":b.style.transitionDuration=S+"ms";break;case"string":b.style.transitionDuration=S;break}}}function u(){switch(n._Options.position){case"bl":return"CustomSnackbar-container--bottom-left";case"tl":return"CustomSnackbar-container--top-left";case"tr":return"CustomSnackbar-container--top-right";case"tc":case"tm":return"CustomSnackbar-container--top-center";case"bc":case"bm":return"CustomSnackbar-container--bottom-center";default:return"CustomSnackbar-container--bottom-right"}}this.Open()}Open(){const n=(()=>{const i=window.getComputedStyle(this._MessageWrapper);return this._Message.scrollHeight+parseFloat(i.getPropertyValue("padding-top"))+parseFloat(i.getPropertyValue("padding-bottom"))})();this._Element.style.height=n+"px",this._Element.style.opacity="1",this._Element.style.marginTop="5px",this._Element.style.marginBottom="5px";const s=()=>{this._Element.removeEventListener("transitioned",s),this._Element.style.height="0"};return this._Element.addEventListener("transitioned",s),this}Close(){this._Interval&&clearInterval(this._Interval);const e=this._Element.scrollHeight,n=this._Element.style.transition;this._Element.style.transition="",requestAnimationFrame(()=>{this._Element.style.height=e+"px",this._Element.style.opacity="1",this._Element.style.marginTop="0px",this._Element.style.marginBottom="0px",this._Element.style.transition=n,requestAnimationFrame(()=>{this._Element.style.height="0px",this._Element.style.opacity="0"})}),setTimeout(()=>{this._Container.removeChild(this._Element)},1e3)}}const V=t=>new Vu(t);function gi(){const t=()=>E.get("theme"),e=r=>E.set("theme",r),n=()=>{const r=t();return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},s=r=>{r==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",r)};s(n());const i=(r,a=!1)=>{const l=document.querySelector("#bd-theme");if(!l)return;const o=document.querySelector("#bd-theme-text"),c=document.querySelector(".theme-icon-active use"),u=document.querySelector(`[data-bs-theme-value="${r}"]`);if(!o||!c||!u)return;const d=u.querySelector("svg use");if(!d)return;const f=d.getAttribute("href");if(!f)return;document.querySelectorAll("[data-bs-theme-value]").forEach(p=>{p.classList.remove("active"),p.setAttribute("aria-pressed","false")}),u.classList.add("active"),u.setAttribute("aria-pressed","true"),c.setAttribute("href",f);const h=`${o.textContent} (${u.dataset.bsThemeValue})`;l.setAttribute("aria-label",h),a&&l.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const r=t();r!=="light"&&r!=="dark"&&s(n())}),i(n()),document.querySelectorAll("[data-bs-theme-value]").forEach(r=>{r.addEventListener("click",()=>{const a=r.getAttribute("data-bs-theme-value");a&&(e(a),s(a),i(a,!0))})})}window.addEventListener("load",()=>{gi()});function bi(t,e=0,n="number"){t.sort((s,i)=>{let r=s[e],a=i[e];return n==="number"&&(r=+r,a=+a),r<a?r==a?0:-1:r==a?0:1})}function cs(t,e=E.get("VorgabenGeld")){if(t===!0)return te("btnNeuBerech");Object.setPrototypeOf(e,{getMonat:function(o){let c=e[1];const u=Object.keys(e).map(Number);if(u.length>1&&o>1&&Math.max(...u.filter(d=>d<=o))>1)for(let d=2;d<=o;d++)typeof e[d]<"u"&&(c={...c,...e[d]});return c}});const n=E.get("VorgabenU").pers.TB,s=Array.from({length:12},()=>[]),i=document.querySelector("#tbodyBerechnung");if(!i)return;i.innerHTML=`
		<tr><th rowspan="2">Bereitschaftszeiten</th></tr>
		<tr></tr>
		<tr><th>Bereitschaftszulage</th></tr>
		<tr><th>LRE 1</th></tr>
		<tr><th>LRE 2</th></tr>
		<tr><th>LRE 3</th></tr>
		<tr><th>Privat-PKW</th></tr>
		<tr><th>Summe Bereitschaft</th></tr>
		<tr><th><table class="table table-borderless m-0"><tbody>
			<tr><td class="py-0">Anzahl der</td><td class="py-0">>8</td></tr>
			<tr><td class="py-0">Abwesenheiten nach</td><td class="py-0">>14</td></tr>
			<tr><td class="py-0">FGr-TV / LfTV / RVB</td><td class="py-0">>24</td></tr>
		</tbody></table></th></tr>
		<tr><th><table class="table table-borderless m-0"><tbody>
			<tr><td class="py-0">steuerfreie Abwesen-</td><td class="py-0">>8</td></tr>
			<tr><td class="py-0">heiten § 9 EStG</td><td class="py-0">>14</td></tr>
		</tbody></table></th></tr>
		<tr><th>Summe EWT</th></tr>
		<tr><th>Summe Nebenbezüge</th></tr>
		<tr><th>Summe Gesamt</th></tr>
		`;const r=o=>o??"&nbsp;",a=o=>{const c=Math.floor(o/60),u=Math.round(o%60);return`${c}:${u.toString().padStart(2,"0")}`},l=o=>o.toLocaleString("de-DE",{style:"currency",currency:"EUR"});Array.from(i.children).forEach((o,c)=>{for(const[u,d]of Object.entries(t)){const f=d,h=+u,p=h-1,m=document.createElement("td");let g;switch(c){case 0:f.B.B!==0&&(m.textContent=f.B.B.toString());break;case 1:f.B.B!==0&&(m.textContent=n==="Tarifkraft"?a(f.B.B):Math.round((f.B.B-600)/8/60).toString());break;case 2:f.B.B!==0&&(s[p][0]=n==="Tarifkraft"?Math.round(f.B.B/60)*e.getMonat(h)[n]:Math.round((f.B.B-600)/8/60)*e.getMonat(h)[n],m.textContent=l(s[p][0]));break;case 3:f.B.L1!==0&&(s[p][0]+=Math.round(f.B.L1)*+e.getMonat(h).LRE1,m.textContent=l(Math.round(f.B.L1)*e.getMonat(h).LRE1));break;case 4:f.B.L2!==0&&(s[p][0]+=Math.round(f.B.L2)*e.getMonat(h).LRE2,m.textContent=l(Math.round(f.B.L2)*e.getMonat(h).LRE2));break;case 5:f.B.L3!==0&&(s[p][0]+=Math.round(f.B.L3)*e.getMonat(h).LRE3,m.textContent=l(Math.round(f.B.L3)*e.getMonat(h).LRE3));break;case 6:f.B.K!==0&&(g=Math.round(f.B.K)*(n==="Tarifkraft"?e.getMonat(h).PrivatPKWTarif:e.getMonat(h).PrivatPKWBeamter),s[p][0]+=g,m.textContent=l(g));break;case 7:s[p].length!==0?m.textContent=l(s[p][0]):s[p][0]||(s[p][0]=0);break;case 8:n==="Tarifkraft"&&(f.E.A8!==0&&(s[p][1]=f.E.A8*e.getMonat(h).TE8),f.E.A14!==0&&(s[p][1]+=f.E.A14*e.getMonat(h).TE14),f.E.A24!==0&&(s[p][1]+=f.E.A24*e.getMonat(h).TE24)),(f.E.A8>0||f.E.A14>0||f.E.A24>0)&&(m.innerHTML=`${r(f.E.A8)} <br />${r(f.E.A14)} <br />${r(f.E.A24)}`);break;case 9:n!=="Tarifkraft"&&(f.E.S8!==0&&(s[p][1]=f.E.S8*e.getMonat(h).BE8),f.E.S14!==0&&(s[p][1]+=f.E.S14*e.getMonat(h).BE14)),(f.E.S8>0||f.E.S14>0)&&(m.innerHTML=`${r(f.E.S8)} <br /> ${r(f.E.S14)}`),o.appendChild(m);break;case 10:s[p].length>1?m.textContent=l(s[p][1]):s[p][1]||(s[p][1]=0);break;case 11:f.N.F===0?s[p][2]=0:(n!=="Tarifkraft"?s[p][2]=0:s[p][2]=f.N.F*e.getMonat(h).Fahrentsch,m.textContent=l(s[p][2]));break;case 12:if(s[p].length!==0&&(s[p][0]||s[p][1]||s[p][2])){const T=Number(s[p][0])+Number(s[p][1])+Number(s[p][2]);m.textContent=l(T)}break}o.appendChild(m)}})}function We(t){if(t===void 0){if(!E.check("dataBZ"))return[];t=E.get("dataBZ")}return t===void 0?[]:t}function $t(t){if(t===void 0){if(!E.check("dataBE"))return[];t=E.get("dataBE")}return t===void 0?[]:t}function bt(t){if(t===void 0){if(!E.check("dataE"))return[];t=E.get("dataE")}return t===void 0?[]:t}/*!
 * Customtable
 *
 * Copyright 2022-2023 Jan Otto
 */class zu{constructor(e,n,s){z(this,"CustomTable");z(this,"name");z(this,"title");z(this,"breakpoints");z(this,"sortable");z(this,"sorted");z(this,"direction");z(this,"type");z(this,"parser");z(this,"classes");z(this,"visible");z(this,"editing");z(this,"index");z(this,"$el",null);if(!n.name)throw new Error("Name fehlt");if(!n.title&&!n.editing)throw new Error("Title fehlt");this.index=s,this.name=n.name,this.title=n.title,this.breakpoints=n.breakpoints,this.sortable=n.sortable,this.sorted=n.sorted,this.direction=n.direction,this.type=n.type,this.parser=n.parser,this.classes=n.classes,this.visible=n.visible,n.editing&&(this.editing=n.editing),this.CustomTable=e}}class Uu{constructor(e,n){z(this,"CustomTable");z(this,"array",[]);this.array=n.map((s,i)=>new zu(e,s,i)),this.CustomTable=e}}class q{constructor(e,n){z(this,"CustomTable");z(this,"columns");z(this,"cells");z(this,"$el",null);this.CustomTable=e,this.columns=e.columns,this.cells=n}deleteRow(){this.CustomTable.rows.array=this.CustomTable.rows.array.filter(e=>e!==this),this.CustomTable.drawRows()}val(e){this.cells=e,this.CustomTable.drawRows()}}class ju{constructor(e,n){z(this,"CustomTable");z(this,"array",[]);this.array=n.map(s=>new q(e,s)),this.CustomTable=e}add(e){this.array.push(new q(this.CustomTable,e)),this.CustomTable.drawRows()}load(e,n=!1){n||(this.array.length=0),e.forEach(s=>this.array.push(new q(this.CustomTable,s))),this.CustomTable.drawRows()}}class Ue{constructor(e,n){z(this,"$el");z(this,"table");z(this,"rows");z(this,"columns");z(this,"state");z(this,"o",{breakpoints:{xs:480,sm:576,md:768,lg:992,xl:1200,xxl:1400}});z(this,"options");if(typeof e=="string"){this.table=e;const o=document.querySelector(`#${e}`);if(!o)throw new Error("Tabelle nicht gefunden");this.$el=o}else if(e instanceof HTMLTableElement)this.table=e.id,this.$el=e;else throw new Error("Tabellen Fehler");this.$el.instance=this,this.options=r.bind(this)(n),this.state=l.bind(this)();const s=this.$el.tHead?this.$el.tHead:this.$el.createTHead(),i=this.$el.tFoot?this.$el.tFoot:this.$el.createTFoot();if(this.$el.tBodies.length===0&&this.$el.createTBody(),this.$el.classList.add("customtable",...this.options.classes),this.state.editing){const o={name:"editing",title:"",type:"editing",breakpoints:null,sortable:!1,editing:this.options.editing,classes:["customtable-editing"],visible:!0,sorted:!1,direction:null,parser:a},c=this.maxBreakpoint(this.options.columns);if(Object.values(this.o.breakpoints).includes(c)){const u=Object.values(this.o.breakpoints).indexOf(c);if(typeof u=="number"){const d=Object.keys(this.o.breakpoints)[u];o.classes.push(`customtable-toggle-${d}`)}}this.options.columns.unshift(o)}return this.columns=new Uu(this,this.options.columns),this.rows=new ju(this,this.options.rows),this.draw(),i.childNodes.length===0&&this.$el.deleteTFoot(),s.childNodes.length===0&&this.$el.deleteTHead(),console.log(this),this;function r(o){var c,u,d,f,h,p,m,g,T,N,x,$;if(!o.columns)throw new Error("Spalten fehlen");return{columns:o.columns.map(_=>{if(!_.name)throw new Error("Spalten Name fehlt");return{name:_.name,title:_.title??"",breakpoints:_.breakpoints??null,sortable:_.sortable??!1,sorted:_.sorted??!1,direction:_.direction??null,type:_.type??"text",parser:_.parser??a,classes:_.classes??[],visible:_.visible??!0}}),rows:o.rows??[],empty:o.empty??"Keine Daten gefunden",sorting:{enabled:((c=o.sorting)==null?void 0:c.enabled)??!1},editing:{enabled:((u=o.editing)==null?void 0:u.enabled)??!1,addText:((d=o.editing)==null?void 0:d.addText)??"Neue Zeile",editText:((f=o.editing)==null?void 0:f.editText)??'<span class="material-icons-round small-icons" aria-hidden="true">edit</span>',deleteText:((h=o.editing)==null?void 0:h.deleteText)??'<span class="material-icons-round small-icons" aria-hidden="true">delete</span>',deleteAllText:((p=o.editing)==null?void 0:p.deleteAllText)??"Alle Zeilen löschen",addRow:((m=o.editing)==null?void 0:m.addRow)??function(){},editRow:((g=o.editing)==null?void 0:g.editRow)??function(){},showRow:((T=o.editing)==null?void 0:T.showRow)??function(){},deleteRow:((N=o.editing)==null?void 0:N.deleteRow)??function(){},deleteAllRows:((x=o.editing)==null?void 0:x.deleteAllRows)??this.deleteAllRows,customButton:(($=o.editing)==null?void 0:$.customButton)??null},classes:o.classes??[],customFunction:o.customFunction??null}}function a(o){switch(typeof o=="number"&&(o=o.toString()),this.type){case"text":case"number":return o;case"time":return o.length>0?o:"--:--";default:return o}}function l(){var o,c;return{sorting:((o=this.options.sorting)==null?void 0:o.enabled)??null,editing:((c=this.options.editing)==null?void 0:c.enabled)??null}}}getRows(){return this.rows.array}getArray(){return this.rows.array.map(e=>Object.values(e.cells))}draw(){var e,n;(e=this.options.customFunction)!=null&&e.beforeDraw&&this.options.customFunction.beforeDraw.call(this),this.drawHeader(),this.drawFooter(),this.drawRows(),(n=this.options.customFunction)!=null&&n.afterDraw&&this.options.customFunction.afterDraw.call(this)}drawFooter(){var s,i;(s=this.options.customFunction)!=null&&s.beforeDrawFooter&&this.options.customFunction.beforeDrawFooter.call(this);const e=this.$el.tFoot;if(e.innerHTML="",this.state.editing){const r=document.createElement("tr");r.classList.add("customtable-editing");const a=document.createElement("td");a.colSpan=this.columns.array.length+1;const l=document.createElement("div");l.classList.add("justify-content-sm-evenly");const o=n(["btn","btn-primary"],this.options.editing.addText,this.options.editing.addRow),c=n(["btn","btn-danger"],this.options.editing.deleteAllText,this.options.editing.deleteAllRows);l.appendChild(o),this.options.editing.customButton&&this.options.editing.customButton.length>0&&this.options.editing.customButton.forEach(u=>{const d=n(u.classes,u.text,u.function);l.appendChild(d)}),l.appendChild(c),a.appendChild(l),r.appendChild(a),e.appendChild(r)}(i=this.options.customFunction)!=null&&i.afterDrawFooter&&this.options.customFunction.afterDrawFooter.call(this);function n(r=["btn","btn-primary"],a="Button",l=()=>{}){const o=document.createElement("button");return o.classList.add(...r),o.innerText=a,o.title=a,o.addEventListener("click",c=>{c.stopPropagation(),c.preventDefault(),l()}),o}}drawRows(){var r,a;(r=this.options.customFunction)!=null&&r.beforeDrawRows&&this.options.customFunction.beforeDrawRows.call(this);const e=this.$el.tHead,n=this.$el.tBodies[0],s=this.$el.tFoot;n.innerHTML="";const i=this.columns.array.find(l=>l.sorted);if(i&&this.sort(i.index,i.direction),this.rows.array.length>0){for(const o of this.rows.array){const c=document.createElement("tr");o.columns.array.forEach(u=>{if(!u.visible)return;const d=document.createElement("td");if(u.editing){const f=document.createElement("div");f.classList.add("btn-group","btn-group-sm"),f.setAttribute("role","group");const h=(g,T,N,x="button")=>{const $=document.createElement("button");return $.classList.add(...g),$.innerHTML=T,$.title=x,$.addEventListener("click",_=>{_.stopPropagation(),_.preventDefault(),N(o)}),$},p=h(["btn","btn-outline-primary"],u.editing.editText,this.options.editing.editRow,"edit"),m=h(["btn","btn-outline-danger"],u.editing.deleteText,this.options.editing.deleteRow,"delete");f.append(p),f.append(m),d.appendChild(f)}else d.innerHTML=u.parser(o.cells[u.name]);u.breakpoints&&(d.dataset.breakpoints=u.breakpoints),u.classes.length>0&&d.classList.add(...u.classes),c.append(d)}),c.addEventListener("click",u=>{var d;(((d=u.view)==null?void 0:d.innerWidth)??0)>this.maxBreakpoint()||(u.stopPropagation(),this.options.editing.showRow(o))}),c.data=o,o.$el=c,n.appendChild(c)}e.style.display="";const l=s==null?void 0:s.querySelector(".btn-danger");l&&(l.style.display="")}else{const l=document.createElement("tr");l.classList.add("customtable-empty");const o=document.createElement("td");o.colSpan=this.columns.array.length+1,o.innerText=this.options.empty,l.appendChild(o),n.appendChild(l),e.style.display="none";const c=s==null?void 0:s.querySelector(".btn-danger");c&&(c.style.display="none")}(a=this.options.customFunction)!=null&&a.afterDrawRows&&this.options.customFunction.afterDrawRows.call(this)}drawHeader(){var r,a;(r=this.options.customFunction)!=null&&r.beforeDrawHeader&&this.options.customFunction.beforeDrawHeader.call(this);const e=this.$el.tHead;e.innerHTML="";const n=document.createElement("tr");n.classList.add("customtable-header","table-primary"),this.columns.array.forEach(l=>{if(!l.visible)return;const o=document.createElement("th");l.classes.length>0&&o.classList.add(...l.classes),l.classes.includes("customtable-editing")&&o.classList.remove("customtable-editing"),o.innerHTML=l.title,l.breakpoints&&(o.dataset.breakpoints=l.breakpoints),this.state.sorting&&l.sortable&&s.bind(this)(o,l),l.$el=o,n.appendChild(o)}),e.appendChild(n),(a=this.options.customFunction)!=null&&a.afterDrawHeader&&this.options.customFunction.afterDrawHeader.call(this);function s(l,o){l.classList.add("customtable-sortable");const c=document.createElement("span");c.classList.add("customtableIcon"),i.bind(this)(o,l,c),l.append(c),l.addEventListener("click",u=>{const d=u.target.closest("th");this.onSortClicked(d)})}function i(l,o,c){if(!l.sorted)return c.classList.add("customtable-sort");const u=l.direction?l.direction.toLowerCase():"asc";this.sort(l.index,u.toUpperCase()),o.classList.add(`customtable-${u}`),c.classList.add(u=="asc"?"customtable-sort-asc":"customtable-sort-desc")}}deleteAllRows(){this.rows.array.length=0,this.draw()}sort(e,n){const s={ASC:[1,-1],DESC:[-1,1],default:[1,-1]},i=this.rows.array,r=(a,l)=>{let o=a.cells[a.columns.array[e].name],c=l.cells[l.columns.array[e].name];return typeof o=="string"&&(o=o.toLowerCase()),typeof c=="string"&&(c=c.toLowerCase()),c.localeCompare(o,void 0,{numeric:!0})*(n?s[n]:s.default)[1]};i.sort(r)}onSortClicked(e){const n=this.columns.array.find(i=>i.$el==e);if(!n)throw new Error("Spalte nicht gefunden");const s=n.direction==="ASC"?"DESC":"ASC";this.columns.array.forEach(i=>{i.sorted=!1,i.direction=null}),n.direction=s,n.sorted=!0,this.draw()}breakpoints(e){return e||(e=this.columns.array),Array.from(new Set(e.map(n=>n.breakpoints).flatMap(n=>n?n.split(" "):[])))}maxBreakpoint(e=this.columns.array){return Math.max(...this.breakpoints(e).map(n=>this.o.breakpoints[n]))}}function xt(t,e){return new Ue(t,e)}var ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ei={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n=1e3,s=6e4,i=36e5,r="millisecond",a="second",l="minute",o="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var A=["th","st","nd","rd"],C=L%100;return"["+L+(A[(C-20)%10]||A[C]||A[0])+"]"}},x=function(L,A,C){var B=String(L);return!B||B.length>=A?L:""+Array(A+1-B.length).join(C)+L},$={s:x,z:function(L){var A=-L.utcOffset(),C=Math.abs(A),B=Math.floor(C/60),y=C%60;return(A<=0?"+":"-")+x(B,2,"0")+":"+x(y,2,"0")},m:function L(A,C){if(A.date()<C.date())return-L(C,A);var B=12*(C.year()-A.year())+(C.month()-A.month()),y=A.clone().add(B,d),R=C-y<0,I=A.clone().add(B+(R?-1:1),d);return+(-(B+(C-y)/(R?y-I:I-y))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:h,w:u,d:c,D:p,h:o,m:l,s:a,ms:r,Q:f}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},_="en",v={};v[_]=N;var b=function(L){return L instanceof k},S=function L(A,C,B){var y;if(!A)return _;if(typeof A=="string"){var R=A.toLowerCase();v[R]&&(y=R),C&&(v[R]=C,y=R);var I=A.split("-");if(!y&&I.length>1)return L(I[0])}else{var H=A.name;v[H]=A,y=H}return!B&&y&&(_=y),y||!B&&_},D=function(L,A){if(b(L))return L.clone();var C=typeof A=="object"?A:{};return C.date=L,C.args=arguments,new k(C)},w=$;w.l=S,w.i=b,w.w=function(L,A){return D(L,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var k=function(){function L(C){this.$L=S(C.locale,null,!0),this.parse(C)}var A=L.prototype;return A.parse=function(C){this.$d=function(B){var y=B.date,R=B.utc;if(y===null)return new Date(NaN);if(w.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var I=y.match(g);if(I){var H=I[2]-1||0,U=(I[7]||"0").substring(0,3);return R?new Date(Date.UTC(I[1],H,I[3]||1,I[4]||0,I[5]||0,I[6]||0,U)):new Date(I[1],H,I[3]||1,I[4]||0,I[5]||0,I[6]||0,U)}}return new Date(y)}(C),this.$x=C.x||{},this.init()},A.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},A.$utils=function(){return w},A.isValid=function(){return this.$d.toString()!==m},A.isSame=function(C,B){var y=D(C);return this.startOf(B)<=y&&y<=this.endOf(B)},A.isAfter=function(C,B){return D(C)<this.startOf(B)},A.isBefore=function(C,B){return this.endOf(B)<D(C)},A.$g=function(C,B,y){return w.u(C)?this[B]:this.set(y,C)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(C,B){var y=this,R=!!w.u(B)||B,I=w.p(C),H=function(ee,J){var oe=w.w(y.$u?Date.UTC(y.$y,J,ee):new Date(y.$y,J,ee),y);return R?oe:oe.endOf(c)},U=function(ee,J){return w.w(y.toDate()[ee].apply(y.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(J)),y)},j=this.$W,W=this.$M,K=this.$D,Q="set"+(this.$u?"UTC":"");switch(I){case h:return R?H(1,0):H(31,11);case d:return R?H(1,W):H(0,W+1);case u:var ue=this.$locale().weekStart||0,de=(j<ue?j+7:j)-ue;return H(R?K-de:K+(6-de),W);case c:case p:return U(Q+"Hours",0);case o:return U(Q+"Minutes",1);case l:return U(Q+"Seconds",2);case a:return U(Q+"Milliseconds",3);default:return this.clone()}},A.endOf=function(C){return this.startOf(C,!1)},A.$set=function(C,B){var y,R=w.p(C),I="set"+(this.$u?"UTC":""),H=(y={},y[c]=I+"Date",y[p]=I+"Date",y[d]=I+"Month",y[h]=I+"FullYear",y[o]=I+"Hours",y[l]=I+"Minutes",y[a]=I+"Seconds",y[r]=I+"Milliseconds",y)[R],U=R===c?this.$D+(B-this.$W):B;if(R===d||R===h){var j=this.clone().set(p,1);j.$d[H](U),j.init(),this.$d=j.set(p,Math.min(this.$D,j.daysInMonth())).$d}else H&&this.$d[H](U);return this.init(),this},A.set=function(C,B){return this.clone().$set(C,B)},A.get=function(C){return this[w.p(C)]()},A.add=function(C,B){var y,R=this;C=Number(C);var I=w.p(B),H=function(W){var K=D(R);return w.w(K.date(K.date()+Math.round(W*C)),R)};if(I===d)return this.set(d,this.$M+C);if(I===h)return this.set(h,this.$y+C);if(I===c)return H(1);if(I===u)return H(7);var U=(y={},y[l]=s,y[o]=i,y[a]=n,y)[I]||1,j=this.$d.getTime()+C*U;return w.w(j,this)},A.subtract=function(C,B){return this.add(-1*C,B)},A.format=function(C){var B=this,y=this.$locale();if(!this.isValid())return y.invalidDate||m;var R=C||"YYYY-MM-DDTHH:mm:ssZ",I=w.z(this),H=this.$H,U=this.$m,j=this.$M,W=y.weekdays,K=y.months,Q=function(J,oe,ge,Te){return J&&(J[oe]||J(B,R))||ge[oe].slice(0,Te)},ue=function(J){return w.s(H%12||12,J,"0")},de=y.meridiem||function(J,oe,ge){var Te=J<12?"AM":"PM";return ge?Te.toLowerCase():Te},ee={YY:String(this.$y).slice(-2),YYYY:w.s(this.$y,4,"0"),M:j+1,MM:w.s(j+1,2,"0"),MMM:Q(y.monthsShort,j,K,3),MMMM:Q(K,j),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:Q(y.weekdaysMin,this.$W,W,2),ddd:Q(y.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(H),HH:w.s(H,2,"0"),h:ue(1),hh:ue(2),a:de(H,U,!0),A:de(H,U,!1),m:String(U),mm:w.s(U,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:I};return R.replace(T,function(J,oe){return oe||ee[J]||I.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(C,B,y){var R,I=w.p(B),H=D(C),U=(H.utcOffset()-this.utcOffset())*s,j=this-H,W=w.m(this,H);return W=(R={},R[h]=W/12,R[d]=W,R[f]=W/3,R[u]=(j-U)/6048e5,R[c]=(j-U)/864e5,R[o]=j/i,R[l]=j/s,R[a]=j/n,R)[I]||j,y?W:w.a(W)},A.daysInMonth=function(){return this.endOf(d).$D},A.$locale=function(){return v[this.$L]},A.locale=function(C,B){if(!C)return this.$L;var y=this.clone(),R=S(C,B,!0);return R&&(y.$L=R),y},A.clone=function(){return w.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},L}(),Y=k.prototype;return D.prototype=Y,[["$ms",r],["$s",a],["$m",l],["$H",o],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(L){Y[L[1]]=function(A){return this.$g(A,L[0],L[1])}}),D.extend=function(L,A){return L.$i||(L(A,k,D),L.$i=!0),D},D.locale=S,D.isDayjs=b,D.unix=function(L){return D(1e3*L)},D.en=v[_],D.Ls=v,D.p={},D})})(Ei);var vi=Ei.exports;const O=Le(vi);var Zu={exports:{}};(function(t,e){(function(n,s){t.exports=s(vi)})(ne,function(n){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=s(n),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function a(o,c,u){var d=r[u];return Array.isArray(d)&&(d=d[c?0:1]),d.replace("%d",o)}var l={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(o){return o+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a}};return i.default.locale(l,null,!0),l})})(Zu);var _i={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s,i){var r=s.prototype,a=function(o){var c=o.date,u=o.utc;return Array.isArray(c)?u?c.length?new Date(Date.UTC.apply(null,c)):new Date:c.length===1?i(String(c[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(c))):c},l=r.parse;r.parse=function(o){o.date=a.bind(this)(o),l.bind(this)(o)}}})})(_i);var Ku=_i.exports;const Gu=Le(Ku);var yi={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,r=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},o=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(g){this[m]=+g}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var T=g.match(/([+-]|\d\d)/g),N=60*T[1]+(+T[2]||0);return N===0?0:T[0]==="+"?-N:N}(m)}],d=function(m){var g=l[m];return g&&(g.indexOf?g:g.s.concat(g.f))},f=function(m,g){var T,N=l.meridiem;if(N){for(var x=1;x<=24;x+=1)if(m.indexOf(N(x,0,g))>-1){T=x>12;break}}else T=m===(g?"pm":"PM");return T},h={A:[a,function(m){this.afternoon=f(m,!1)}],a:[a,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[i,c("day")],Do:[a,function(m){var g=l.ordinal,T=m.match(/\d+/);if(this.day=T[0],g)for(var N=1;N<=31;N+=1)g(N).replace(/\[|\]/g,"")===m&&(this.day=N)}],M:[r,c("month")],MM:[i,c("month")],MMM:[a,function(m){var g=d("months"),T=(d("monthsShort")||g.map(function(N){return N.slice(0,3)})).indexOf(m)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[a,function(m){var g=d("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(m){this.year=o(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function p(m){var g,T;g=m,T=l&&l.formats;for(var N=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,w,k){var Y=k&&k.toUpperCase();return w||T[k]||n[k]||T[Y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(L,A,C){return A||C.slice(1)})})).match(s),x=N.length,$=0;$<x;$+=1){var _=N[$],v=h[_],b=v&&v[0],S=v&&v[1];N[$]=S?{regex:b,parser:S}:_.replace(/^\[|\]$/g,"")}return function(D){for(var w={},k=0,Y=0;k<x;k+=1){var L=N[k];if(typeof L=="string")Y+=L.length;else{var A=L.regex,C=L.parser,B=D.slice(Y),y=A.exec(B)[0];C.call(w,y),D=D.replace(y,"")}}return function(R){var I=R.afternoon;if(I!==void 0){var H=R.hours;I?H<12&&(R.hours+=12):H===12&&(R.hours=0),delete R.afternoon}}(w),w}}return function(m,g,T){T.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(o=m.parseTwoDigitYear);var N=g.prototype,x=N.parse;N.parse=function($){var _=$.date,v=$.utc,b=$.args;this.$u=v;var S=b[1];if(typeof S=="string"){var D=b[2]===!0,w=b[3]===!0,k=D||w,Y=b[2];w&&(Y=b[2]),l=this.$locale(),!D&&Y&&(l=T.Ls[Y]),this.$d=function(B,y,R){try{if(["x","X"].indexOf(y)>-1)return new Date((y==="X"?1e3:1)*B);var I=p(y)(B),H=I.year,U=I.month,j=I.day,W=I.hours,K=I.minutes,Q=I.seconds,ue=I.milliseconds,de=I.zone,ee=new Date,J=j||(H||U?1:ee.getDate()),oe=H||ee.getFullYear(),ge=0;H&&!U||(ge=U>0?U-1:ee.getMonth());var Te=W||0,rt=K||0,St=Q||0,Tt=ue||0;return de?new Date(Date.UTC(oe,ge,J,Te,rt,St,Tt+60*de.offset*1e3)):R?new Date(Date.UTC(oe,ge,J,Te,rt,St,Tt)):new Date(oe,ge,J,Te,rt,St,Tt)}catch{return new Date("")}}(_,S,v),this.init(),Y&&Y!==!0&&(this.$L=this.locale(Y).$L),k&&_!=this.format(S)&&(this.$d=new Date("")),l={}}else if(S instanceof Array)for(var L=S.length,A=1;A<=L;A+=1){b[1]=S[A-1];var C=T.apply(this,b);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}A===L&&(this.$d=new Date(""))}else x.call(this,$)}}})})(yi);var Ju=yi.exports;const Xu=Le(Ju);var wi={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n,s,i=1e3,r=6e4,a=36e5,l=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f={years:c,months:u,days:l,hours:a,minutes:r,seconds:i,milliseconds:1,weeks:6048e5},h=function(_){return _ instanceof $},p=function(_,v,b){return new $(_,b,v.$l)},m=function(_){return s.p(_)+"s"},g=function(_){return _<0},T=function(_){return g(_)?Math.ceil(_):Math.floor(_)},N=function(_){return Math.abs(_)},x=function(_,v){return _?g(_)?{negative:!0,format:""+N(_)+v}:{negative:!1,format:""+_+v}:{negative:!1,format:""}},$=function(){function _(b,S,D){var w=this;if(this.$d={},this.$l=D,b===void 0&&(this.$ms=0,this.parseFromMilliseconds()),S)return p(b*f[m(S)],this);if(typeof b=="number")return this.$ms=b,this.parseFromMilliseconds(),this;if(typeof b=="object")return Object.keys(b).forEach(function(L){w.$d[m(L)]=b[L]}),this.calMilliseconds(),this;if(typeof b=="string"){var k=b.match(d);if(k){var Y=k.slice(2).map(function(L){return L!=null?Number(L):0});return this.$d.years=Y[0],this.$d.months=Y[1],this.$d.weeks=Y[2],this.$d.days=Y[3],this.$d.hours=Y[4],this.$d.minutes=Y[5],this.$d.seconds=Y[6],this.calMilliseconds(),this}}return this}var v=_.prototype;return v.calMilliseconds=function(){var b=this;this.$ms=Object.keys(this.$d).reduce(function(S,D){return S+(b.$d[D]||0)*f[D]},0)},v.parseFromMilliseconds=function(){var b=this.$ms;this.$d.years=T(b/c),b%=c,this.$d.months=T(b/u),b%=u,this.$d.days=T(b/l),b%=l,this.$d.hours=T(b/a),b%=a,this.$d.minutes=T(b/r),b%=r,this.$d.seconds=T(b/i),b%=i,this.$d.milliseconds=b},v.toISOString=function(){var b=x(this.$d.years,"Y"),S=x(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var w=x(D,"D"),k=x(this.$d.hours,"H"),Y=x(this.$d.minutes,"M"),L=this.$d.seconds||0;this.$d.milliseconds&&(L+=this.$d.milliseconds/1e3);var A=x(L,"S"),C=b.negative||S.negative||w.negative||k.negative||Y.negative||A.negative,B=k.format||Y.format||A.format?"T":"",y=(C?"-":"")+"P"+b.format+S.format+w.format+B+k.format+Y.format+A.format;return y==="P"||y==="-P"?"P0D":y},v.toJSON=function(){return this.toISOString()},v.format=function(b){var S=b||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return S.replace(o,function(w,k){return k||String(D[w])})},v.as=function(b){return this.$ms/f[m(b)]},v.get=function(b){var S=this.$ms,D=m(b);return D==="milliseconds"?S%=1e3:S=D==="weeks"?T(S/f[D]):this.$d[D],S===0?0:S},v.add=function(b,S,D){var w;return w=S?b*f[m(S)]:h(b)?b.$ms:p(b,this).$ms,p(this.$ms+w*(D?-1:1),this)},v.subtract=function(b,S){return this.add(b,S,!0)},v.locale=function(b){var S=this.clone();return S.$l=b,S},v.clone=function(){return p(this.$ms,this)},v.humanize=function(b){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!b)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},_}();return function(_,v,b){n=b,s=b().$utils(),b.duration=function(w,k){var Y=b.locale();return p(w,{$l:Y},k)},b.isDuration=h;var S=v.prototype.add,D=v.prototype.subtract;v.prototype.add=function(w,k){return h(w)&&(w=w.asMilliseconds()),S.bind(this)(w,k)},v.prototype.subtract=function(w,k){return h(w)&&(w=w.asMilliseconds()),D.bind(this)(w,k)}}})})(wi);var Qu=wi.exports;const ed=Le(Qu);var Si={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s){s.prototype.isSameOrAfter=function(i,r){return this.isSame(i,r)||this.isAfter(i,r)}}})})(Si);var td=Si.exports;const nd=Le(td);var Ti={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s){s.prototype.isSameOrBefore=function(i,r){return this.isSame(i,r)||this.isBefore(i,r)}}})})(Ti);var sd=Ti.exports;const rd=Le(sd);var Ci={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n="day";return function(s,i,r){var a=function(c){return c.add(4-c.isoWeekday(),n)},l=i.prototype;l.isoWeekYear=function(){return a(this).year()},l.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),n);var u,d,f,h,p=a(this),m=(u=this.isoWeekYear(),d=this.$u,f=(d?r.utc:r)().year(u).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return p.diff(m,"week")+1},l.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var o=l.startOf;l.startOf=function(c,u){var d=this.$utils(),f=!!d.u(u)||u;return d.p(c)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(c,u)}}})})(Ci);var id=Ci.exports;const od=Le(id);var Ai={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,i,r){var a=i.prototype,l=a.format;r.en.formats=n,a.format=function(o){o===void 0&&(o="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,p,m){var g=m&&m.toUpperCase();return p||f[m]||n[m]||f[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,N,x){return N||x.slice(1)})})}(o,c===void 0?{}:c);return l.call(this,u)}}})})(Ai);var ad=Ai.exports;const ld=Le(ad);var Ni={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s,i){var r=function(a,l){if(!l||!l.length||!l[0]||l.length===1&&!l[0].length)return null;var o;l.length===1&&l[0].length>0&&(l=l[0]),o=l[0];for(var c=1;c<l.length;c+=1)l[c].isValid()&&!l[c][a](o)||(o=l[c]);return o};i.max=function(){var a=[].slice.call(arguments,0);return r("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return r("isBefore",a)}}})})(Ni);var cd=Ni.exports;const ud=Le(cd);var Mi={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s){s.prototype.weekday=function(i){var r=this.$locale().weekStart||0,a=this.$W,l=(a<r?a+7:a)-r;return this.$utils().u(i)?l:this.subtract(l,"day").add(i,"day")}}})})(Mi);var dd=Mi.exports;const fd=Le(dd);O.locale("de");O.extend(Gu);O.extend(Xu);O.extend(ld);O.extend(od);O.extend(fd);O.extend(ed);O.extend(rd);O.extend(nd);O.extend(ud);function Ie(t,e="Hinzufügen"){return()=>{const n=document.createElement("div");n.className="modal-footer";const s=document.createElement("button");s.type="submit",s.className="btn btn-primary",s.ariaLabel=e,s.innerHTML=e,n.appendChild(s),t&&t.forEach(r=>n.appendChild(r));const i=document.createElement("button");return i.type="button",i.className="btn btn-secondary",i.ariaLabel="Abbrechen",i.dataset.bsDismiss="modal",i.textContent="Abbrechen",n.appendChild(i),n}}function pe(t,e,n,s,i,r=()=>a=>{throw new Error(`SubmitEvent fehlt${a.type}`)}){const a=document.querySelector("#modal");if(!a||a===null)throw new Error("Element nicht gefunden");a.innerHTML="",a.row=null,a.role="document";const l=document.createElement("div");l.className="modal-dialog",n!==null&&l.classList.add(`modal-${n}`);const o=e?document.createElement("form"):document.createElement("div");return e&&typeof r=="function"&&o.addEventListener("submit",r()),o.className="modal-content",o.appendChild(hd(t)),o.appendChild(s()),o.appendChild(i()),l.appendChild(o),a.appendChild(l),{modal:a,form:o}}function hd(t){const e=document.createElement("div");e.className="modal-header";const n=document.createElement("h5");n.className="modal-title",n.textContent=t,e.appendChild(n);const s=document.createElement("button");return s.type="button",s.className="btn-close",s.dataset.bsDismiss="modal",s.ariaLabel="Schließen",e.appendChild(s),e}function Ce(t){const e=document.createElement("div");e.className=t.checkClass;const n=document.createElement("input");n.type="checkbox",n.className="form-check-input",n.id=t.id,t.status&&(n.checked=!0),t.disabled&&(n.disabled=!0),t.eventListener!=null&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-check-label",s.htmlFor=t.id,s.innerHTML=t.text,e.appendChild(s),e}function Di(){const t=document.createElement("div");return t.className="w-100",t}function F(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("input");n.type=t.type,n.className="form-control validate",n.id=t.name,n.name=t.title,n.value=String(t.value),t.required&&(n.required=!0),t.disabled&&(n.disabled=!0),t.min!=null&&(n.min=String(t.min)),t.max!=null&&(n.max=String(t.max)),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function _e(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("select");n.className="form-select validate",n.id=t.name,t.required&&(n.required=!0),t.options.forEach(i=>{const r=document.createElement("option");r.value=String(i.value),i.html?r.innerHTML=i.text:r.textContent=i.text,i.disabled&&(r.disabled=!0),i.selected&&!t.value&&(r.selected=!0),+r.value===t.value&&(r.selected=!0),n.appendChild(r)}),t.value&&(n.value=String(t.value)),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-label",s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function Ye(t){const e=document.createElement("div");e.className=t.divClass??"mb-1 row";const n=document.createElement("label");n.className=t.labelClass??"col-3 col-form-label text-wrap fw-bold",n.setAttribute("for",t.name),n.textContent=t.title,e.appendChild(n);const s=document.createElement("span");return s.className=t.spanClass??"col-9 align-middle text-break my-auto",s.id=t.name,s.innerHTML=String(t.text)??"&nbsp;",e.appendChild(s),e}function Oe(t,e){const n=document.createElement("span");return n.className=t,n.textContent=e,n}function we(t){const e=document.createElement("h4");return e.className="text-center mb-1",e.innerHTML=t,e}function fn(){const t=document.createElement("div");t.className="modal-footer";const e=document.createElement("button");e.type="button",e.className="btn btn-primary",e.ariaLabel="editieren",e.dataset.bsDismiss="modal",e.innerHTML="Bearbeiten",e.addEventListener("click",i=>{const r=i.target.closest(".modal").row;r.CustomTable.options.editing.editRow(r)}),t.appendChild(e);const n=document.createElement("button");n.type="button",n.className="btn btn-danger",n.ariaLabel="löschen",n.dataset.bsDismiss="modal",n.innerHTML="Löschen",n.addEventListener("click",i=>{const r=i.target.closest(".modal").row;r.CustomTable.options.editing.deleteRow(r)}),t.appendChild(n);const s=document.createElement("button");return s.type="button",s.className="btn btn-secondary",s.ariaLabel="Schließen",s.dataset.bsDismiss="modal",s.textContent="Schließen",t.appendChild(s),t}const md={NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"},nr=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];/*!
 * feiertage.js
 * @repository https://github.com/sfakir/feiertagejs
 * @docs https://github.com/sfakir/feiertagejs/blob/master/docs.md
 *
 * Copyright 2015-2021 Simon Fakir
 * Released under the MIT license
 */const pd="de";let sr=pd;const gd={de:md};function bd(t,e){Ed(e);const n=t.getFullYear(),s=us(t);return vd(n,e).indexOf(s)!==-1}function Ed(t){if(t==null)throw new Error("Region must not be undefined or null");if(nr.indexOf(t)===-1)throw new Error(`Invalid region: ${t}! Must be one of ${nr.toString()}`)}function vd(t,e){return _d(t,e).map(s=>us(s.date))}function _d(t,e){const n=$d(t),s=Ke(new Date(n.getTime()),-2),i=Ke(new Date(n.getTime()),1),r=Ke(new Date(n.getTime()),39),a=Ke(new Date(n.getTime()),49),l=Ke(new Date(n.getTime()),50),o=[...yd(t),X("KARFREITAG",s),X("OSTERMONTAG",i),X("CHRISTIHIMMELFAHRT",r),X("PFINGSTMONTAG",l)];return Sd(t,e,o),Td(t,e,n,a,o),Cd(e,n,o),Ad(t,e,o),Nd(t,e,o),Md(t,e,o),Dd(t,e,o),Ld(t,e,o),Od(t,e,o),wd(t,e,o),o.sort((c,u)=>c.date.getTime()-u.date.getTime())}function yd(t){return[X("NEUJAHRSTAG",le(t,1,1)),X("TAG_DER_ARBEIT",le(t,5,1)),X("DEUTSCHEEINHEIT",le(t,10,3)),X("ERSTERWEIHNACHTSFEIERTAG",le(t,12,25)),X("ZWEITERWEIHNACHTSFEIERTAG",le(t,12,26))]}function wd(t,e,n){e==="AUGSBURG"&&n.push(X("AUGSBURGER_FRIEDENSFEST",le(t,8,8)))}function Sd(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="ST"||e==="ALL")&&n.push(X("HEILIGEDREIKOENIGE",le(t,1,6)))}function Td(t,e,n,s,i){(e==="BB"||e==="ALL")&&i.push(X("OSTERSONNTAG",n),X("PFINGSTSONNTAG",s))}function Cd(t,e,n){if(t==="BW"||t==="BY"||t==="AUGSBURG"||t==="HE"||t==="NW"||t==="RP"||t==="SL"||t==="ALL"){const s=Ke(new Date(e.getTime()),60);n.push(X("FRONLEICHNAM",s))}}function Ad(t,e,n){(e==="SL"||e==="BY"||e==="AUGSBURG"||e==="ALL")&&n.push(X("MARIAHIMMELFAHRT",le(t,8,15)))}function Nd(t,e,n){(t===2017||e==="NI"||e==="BB"||e==="HB"||e==="HH"||e==="MV"||e==="SN"||e==="ST"||e==="TH"||e==="SH"||e==="ALL")&&n.push(X("REFORMATIONSTAG",le(t,10,31)))}function Md(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="NW"||e==="RP"||e==="SL"||e==="ALL")&&n.push(X("ALLERHEILIGEN",le(t,11,1)))}function Dd(t,e,n){if(e==="SN"||e==="ALL"){const s=xd(t);n.push(X("BUBETAG",le(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate())))}}function Ld(t,e,n){t>=2019&&(e==="TH"||e==="ALL")&&n.push(X("WELTKINDERTAG",le(t,9,20)))}function Od(t,e,n){t<=2018||((e==="BE"||e==="ALL")&&n.push(X("WELTFRAUENTAG",le(t,3,8))),e==="MV"&&t>=2023&&n.push(X("WELTFRAUENTAG",le(t,3,8))))}function $d(t){const e=Math.floor(t/100),n=t-19*Math.floor(t/19),s=Math.floor((e-17)/25);let i=e-Math.floor(e/4)-Math.floor((e-s)/3)+19*n+15;i-=30*Math.floor(i/30),i-=Math.floor(i/28)*(1-Math.floor(i/28)*Math.floor(29/(i+1))*Math.floor((21-n)/11));let r=t+Math.floor(t/4)+i+2-e+Math.floor(e/4);r-=7*Math.floor(r/7);const a=i-r,l=3+Math.floor((a+40)/44),o=a+28-31*Math.floor(l/4);return new Date(t,l-1,o)}function xd(t){const e=new Date(t,11,25,12,0,0),n=32;let s=e.getDay()%7;s===0&&(s=7);const i=s+n;let r=new Date(e.getTime());return r=Ke(r,-i),r}function Ke(t,e){const n=new Date(t);return n.setDate(t.getDate()+e),n}function le(t,e,n){return new Date(t,e-1,n)}function X(t,e){return{name:t,date:e,dateString:rr(e),trans(n=sr){return console.warn('FeiertageJs: You are using "Holiday.trans() method. This will be replaced in the next major version with translate()"'),this.translate(n)},translate(n=sr){return n==null?void 0:gd[n][this.name]},getNormalizedDate(){return us(this.date)},equals(n){const s=rr(n);return this.dateString===s}}}function rr(t){const e=new Date(t.getTime()-t.getTimezoneOffset()*60*1e3);return e.setUTCHours(0,0,0,0),e.toISOString().slice(0,10)}function us(t){const e=new Date(t);return e.setHours(0,0,0,0),e.getTime()}function Mt(t,e,n,s,i,r){console.groupCollapsed("Vorgaben"),console.log("nacht: "+i),console.log("Bereitschafts Anfang: "+t.toDate()),console.log("Bereitschafts Ende: "+e.toDate()),console.log("Nacht Anfang: "+n.toDate()),console.log("Nacht Ende: "+s.toDate()),console.groupEnd();let a,l,o,c,u,d,f,h,p,m,g,T;const N=y=>{const R=O(y,"HH:mm");return{hours:R.hour(),minutes:R.minute()}},x=E.get("VorgabenU"),$=O.duration(N(x.aZ.eT)),_=O.duration(N(x.aZ.eTF)),v=O.duration(N(x.aZ.bT)),b=10,S=30,D=45,w=O.duration({hours:8}),k=[v,v,v,v,v,w,w,v],Y=[$,$,$,$,_,w,w,$],L=[0,S,S,S,S,0,0,0],A=(y,R,I,H,U,j)=>{console.group("B2");let W;const K=y.day();return console.log(`Wochentag Bereitschafts Anfang: ${K} --- ${y.format("dd")}`),y.isSame(R,"d")||(U===!0?W=y.add(1,"d").startOf("d").add(I[K]):W=y.add(1,"d").startOf("d").add(w),console.log(`Merker B2.1: ${W.toDate()}`)),(y.isSame(R,"d")||j===!1)&&(H===!0?W=y.startOf("d").add(I[K===0?6:K-1]):W=y.startOf("d").add(w),console.log(`Merker B2.2: ${W.toDate()}`)),W!=null&&W.isSameOrBefore(y)&&(U===!0?W=y.add(1,"d").startOf("d").add(I[K]):W=y.add(1,"d").startOf("d").add(w),console.log(`Merker B2.3: ${W.toDate()}`)),console.groupEnd(),W},C=(y,R=0)=>(y=y.add(R,"d"),!(bd(y.toDate(),"HE")||y.isoWeekday()>5));f=C(t),console.log(`Arbeitstag Heute: ${f} --- ${t.format("dd")}`),h=C(t,1),console.log(`Arbeitstag Morgen: ${h} --- ${t.add(1,"d").format("dd")}`),c=t.clone();const B=r.length;for(;r.length<26&&t.isBefore(e);){console.groupCollapsed("Bereitschafts Ende"),u=A(t,n,k,f,h,i),console.log(`Bereitschafts Ende A: ${u.toDate()}`),d=t.add(1,"d").hour(8).minute(0),console.log(`Bereitschafts Ende B: ${d.toDate()}`),console.groupEnd(),c=O.min(u,d,n,e),console.log(`Bereitschafts Ende Merker: ${c.toDate()}`),console.groupCollapsed("Bereitschafts Anfang"),a=n.add(1,"d").hour(s.hour()).minute(s.minute()),console.log(`Bereitschafts Anfang Nacht: ${a.toDate()}`),o=A(t,n,Y,f,h,i),console.log(`Bereitschafts Anfang A: ${o.toDate()}`),console.groupEnd(),l=t.isSame(c,"d")?O.min(a,o,d):O.min(O.max(o,d),a),console.log(`Bereitschafts Anfang Merker: ${l.toDate()}`),console.groupCollapsed("Berechnung Pause"),m=t.startOf("d").add($),p===D?p=0:p=t.isSame(m)?L[t.day()]:0,T=t.hour(s.hour()).minute(s.minute()),g=m.hour(s.hour()).add(b,"h").minute(s.minute()),(t.isSame(T)||t.isSame(g))&&(p=D),console.groupEnd(),console.log(`Pausen Zeit: ${p}`),console.log(`Eingabe Tabelle: ${t.format("L, LT")} --- ${c.format("L, LT")} --- ${p}`);const y={beginB:t.toISOString(),endeB:c.toISOString(),pauseB:p};r.some(R=>JSON.stringify(R)===JSON.stringify(y))?console.log("Bereitschaftszeitraum bereits vorhanden"):r.push(y),console.group("Übernehme Daten neuer Tag"),t=l.clone(),console.log("Bereitschafts Anfang: "+t.toDate()),t.isAfter(n)&&(n=n.add(1,"d")),console.log(`Nacht Anfang: ${n.toDate()}`),n.isAfter(s)&&!n.isSame(e)&&(n=e.clone(),i=!1),console.log(`Nacht: ${i}`),f=C(t),console.log(`Arbeitstag Heute: ${f} --- ${t.format("dd")}`),h=C(t,1),console.log(`Arbeitstag Morgen: ${h} --- ${t.add(1,"d").format("dd")}`),console.groupEnd(),i&&t.isSame(n,"d")&&(t.isSame(n,"d")&&t.isSame(o)||(console.group("Prüfen ob Ruhe nach Nacht:"),u=A(t,n,k,f,h,i),console.log(`Bereitschafts Ende A: ${u.toDate()}`),d=t.add(1,"d").startOf("d").add(w),console.log(`Bereitschafts Ende B: ${d.toDate()}`),c=O.min(u,d,n,e),console.log(`Bereitschafts Ende Merker: ${c.toDate()}`),t.isSame(n,"d")&&a.isBefore(n.subtract(10,"h"))&&c.isAfter(a.add(1,"h"))&&(a=a.add(b,"h"),console.log(`Bereitschafts Anfang Nacht: ${a.toDate()}`),t=O.max(O.min(o,d),a),console.log(`Bereitschafts Anfang: ${t.toDate()}`),f=C(t),console.log(`Arbeitstag Heute: ${f} --- ${t.format("dd")}`),h=C(t,1),console.log(`Arbeitstag Morgen: ${h} --- ${t.add(1,"d").format("dd")}`)),console.groupEnd()))}return bi(r,"beginB"),B==r.length?(console.log("Keine änderung, Bereitschaft bereits vorhanden"),!1):r}async function kd(t,e){je("btnESZ");const n=t.querySelector("#bA"),s=t.querySelector("#bAT"),i=t.querySelector("#bE"),r=t.querySelector("#bET"),a=t.querySelector("#nacht"),l=t.querySelector("#nA"),o=t.querySelector("#nAT"),c=t.querySelector("#nE"),u=t.querySelector("#nET"),d=document.querySelector("#Monat"),f=document.querySelector("#Jahr"),h=document.querySelector("#tableBZ");if(!n||!s||!i||!r||!a||!l||!o||!c||!u||!d||!f||!h)throw new Error("Input Element nicht gefunden");const p=O(`${n.value}T${s.value}`),m=O(`${i.value}T${r.value}`),g=a.checked;let T,N;g===!0?(T=O(`${l.value}T${o.value}`),N=O(`${c.value}T${u.value}`)):(T=m,N=m);const x=+d.value,$=+f.value;let _=[],v=se("tableBZ"),b=[];if(!v)throw new Error("Fehler bei Datenermittlung");if(console.log({bereitschaftsAnfang:p,bereitschaftsEnde:m,nachtAnfang:T,nachtEnde:N,nacht:g,monat:x,jahr:$,accessToken:e}),p.isSame(m,"M")||!p.isSame(m,"M")&&m.isSameOrBefore(O([$,m.month(),1,0,0])))_=Mt(p,m,T,N,g,v);else if(navigator.onLine){const S=m.month(),D=m.year(),w=O([D,S]);let k,Y,L;if(w.isBefore(T))k=N.clone(),Y=T.clone(),L=w.clone();else if(w.isAfter(N))k=N.clone(),L=w.clone(),Y=m.clone(),N=m.clone();else if(w.isAfter(T)&&w.isBefore(N))k=O([D,S,1,N.hour(),N.minute()]),Y=O([D,S,1,T.hour(),T.minute()]),L=k.clone();else throw new Error("Fehler bei Nacht und Bereitschaft");v=Mt(p,w,T,k,g,v);try{const A=await De(`${S+1}&${D}`);if(A instanceof Error)throw A;if(A.statusCode!=200){console.log("Fehler");return}const C=A.data.datenB.datenBZ;console.log(C),b=Mt(L,m,Y,N,g,C);const B={BZ:b,Monat:S+1,Jahr:D},y=await De("saveData",B,"POST");if(y instanceof Error)throw y;if(y.statusCode!=200){console.log("Fehler:",y.message),V({message:"Bereitschaft<br/>Es ist ein Fehler beim Monatswechsel aufgetreten",status:"error",timeout:3e3,position:"br",fixed:!0});return}console.log(y.data),V({message:`Bereitschaft<br/>Daten für Monat ${S+1} gespeichert`,status:"success",timeout:3e3,position:"br",fixed:!0})}catch(A){console.log(A);return}console.log("Daten Monat 1",v),console.log("Daten Monat 2",b),_=v}else{V({message:"Bereitschaft<br/>Du bist Offline: <br/>Kein Monatswechsel möglich!",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",actions:[{text:"ohne wechsel fortsetzten?",function:()=>{if(!v)throw new Error("Fehler bei Datenermittlung");if(_=Mt(p,O([m.year(),m.month()]),T,N,g,v),!_){te("btnESZ"),V({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",icon:"!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}E.set("dataBZ",_),h.instance.rows.load(We(_)),te("btnESZ"),V({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})},dismiss:!0,class:["text-primary"]},{text:"Abbrechen",function:()=>{te("btnESZ")},dismiss:!0}],fixed:!0});return}if(!_){te("btnESZ"),V({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}E.set("dataBZ",_),h.instance.rows.load(We(_)),te("btnESZ"),V({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}function Li(t){const e=t.querySelector("#nacht"),n=t.querySelector("#nachtschicht");e&&n&&(n.style.display=e.checked?"flex":"none")}function Oi(t,e,n=O((s=>(s=t.querySelector("#bA"))==null?void 0:s.value)())??null){if(!n)throw new Error("Datum nicht gefunden");const i=t.querySelector("#bA"),r=t.querySelector("#bAT"),a=t.querySelector("#bE"),l=t.querySelector("#bET"),o=t.querySelector("#nacht"),c=t.querySelector("#nA"),u=t.querySelector("#nAT"),d=t.querySelector("#nE"),f=t.querySelector("#nET");if(!i||!r||!a||!l||!o||!c||!u||!d||!f)throw new Error("Input Element nicht gefunden");i.value=n.isoWeekday(e.beginnB.tag).format("YYYY-MM-DD"),r.value=e.beginnB.zeit,a.value=n.isoWeekday(e.endeB.tag).add(e.endeB.Nwoche?7:0,"d").format("YYYY-MM-DD"),l.value=e.endeB.zeit,o.checked=e.nacht,c.value=n.isoWeekday(e.beginnN.tag).add(e.beginnN.Nwoche?7:0,"d").format("YYYY-MM-DD"),u.value=e.beginnN.zeit,d.value=n.isoWeekday(e.endeN.tag).add(e.endeN.Nwoche?7:0,"d").format("YYYY-MM-DD"),f.value=e.endeN.zeit,Li(t)}function Bd(t,e,n){const s=t.querySelector("#bE"),i=t.querySelector("#bET"),r=t.querySelector("#nA"),a=t.querySelector("#nAT"),l=t.querySelector("#nE"),o=t.querySelector("#nET");if(!s||!i||!r||!a||!l||!o)throw new Error("Element not found");s.value=n.isoWeekday(e.endeB.tag).add(e.endeB.Nwoche?7:0,"d").format("YYYY-MM-DD"),i.value=e.endeB.zeit,r.value=n.isoWeekday(e.beginnN.tag).add(e.beginnN.Nwoche?7:0,"d").format("YYYY-MM-DD"),a.value=e.beginnN.zeit,l.value=n.isoWeekday(e.endeN.tag).add(e.endeN.Nwoche?7:0,"d").format("YYYY-MM-DD"),o.value=e.endeN.zeit}function Id(t,e,n){const s=t.querySelector("#bAT"),i=t.querySelector("#bE"),r=t.querySelector("#bET"),a=t.querySelector("#nA"),l=t.querySelector("#nAT"),o=t.querySelector("#nE"),c=t.querySelector("#nET"),u=t.querySelector("#eigen");if(!s||!i||!r||!a||!l||!o||!c||!u)throw new Error("Input Element nicht gefunden");u.checked?(s.disabled=!1,i.disabled=!1,r.disabled=!1,a.disabled=!1,l.disabled=!1,o.disabled=!1,c.disabled=!1):(s.disabled=!0,i.disabled=!0,r.disabled=!0,a.disabled=!0,l.disabled=!0,o.disabled=!0,c.disabled=!0,Oi(t,e,n))}function Rd(t){je("btnESE");const e=t.querySelector("#Datum"),n=t.querySelector("#SAPNR"),s=t.querySelector("#ZeitVon"),i=t.querySelector("#ZeitBis"),r=t.querySelector("#LRE"),a=t.querySelector("#privatkm"),l=t.querySelector("#berZeit"),o=document.querySelector("#tableBE"),c=document.querySelector("#tableBZ");if(!e||!n||!s||!i||!r||!a||!l||!o||!c)throw new Error("Input Element nicht gefunden");const u={tagBE:O(e.value).format("DD.MM.YYYY"),auftragsnummerBE:n.value,beginBE:s.value,endeBE:i.value,lreBE:r.value,privatkmBE:Number(a.value)},d=l.checked;console.log(u);const f=o.instance;if(f.rows.add(u),G(f),n.value="",s.value="",i.value="",a.value="",l.checked=!1,r.value="",d){u.tagBE=e.value;const h=O(`${u.tagBE}T${u.beginBE}`),p=O(`${u.tagBE}T${u.endeBE}`).isBefore(h)?O(`${u.tagBE}T${u.endeBE}`).add(1,"d"):O(`${u.tagBE}T${u.endeBE}`),m=se("tableBZ"),g=Mt(h,p,p,p,!1,m);if(!g){te("btnESE"),V({message:"Bereitschaft<br/>Zeitraum bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}E.set("dataBZ",g),c.instance.rows.load(We(g)),V({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}te("btnESE")}function Yd(){const{modal:t,form:e}=pe("Neuen Bereitschaftseinsatz eingeben",!0,null,n,Ie(),s);new Z(t).show();function n(){const i=document.createElement("div");i.className="modal-body row";const r=E.get("Jahr"),a=E.get("Monat")-1,l=O([r,a,wt(r,a)]);i.appendChild(F({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Datum",name:"Datum",value:l.format("YYYY-MM-DD"),type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")})),i.appendChild(F({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:"SAPNR",value:"",type:"text",required:!0})),i.appendChild(F({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Von",name:"ZeitVon",value:null,type:"time",required:!0})),i.appendChild(F({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Bis",name:"ZeitBis",value:null,type:"time",required:!0})),i.appendChild(_e({divClass:"form-floating col-12 col-sm-6 pb-3",title:"LRE",name:"LRE",value:null,options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),i.appendChild(Di()),i.appendChild(F({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Privat Km",name:"privatkm",value:"",type:"number",min:0}));const o=document.createElement("div");return o.className="col-12",o.appendChild(Ce({checkClass:"form-check form-switch bereitschaft",id:"berZeit",text:"zusätzliche Bereitschaftszeit Eingeben?<br><small>(z.B. LRE3 Außerhalb der Bereitschaft.)</small>",status:!1})),i.appendChild(o),i}function s(){return i=>{if(e instanceof HTMLFormElement&&!e.checkValidity())return;i.preventDefault(),Rd(t);const r=document.querySelector("#tableBE");Z.getInstance(t).hide(),r&&G(r.instance)}}}function Pd(){const{modal:t,form:e}=pe("Neue Bereitschaft eingeben",!0,null,n,Ie(),s);new Z(t).show();function n(){const i=document.createElement("div");i.className="modal-body row";const r=E.get("VorgabenU",{vorgabenB:Yn}),a=E.get("Monat")-1,l=E.get("Jahr"),o=r.vorgabenB?r.vorgabenB:Yn;let c="2";for(const g in o)if(o[g].standard){c=g;break}const u=_e({divClass:"form-floating col-12 pb-3",title:"Auswahl Bereitschaft",name:"vorgabeB",value:c,options:Object.entries(o).map(g=>({value:g[0],html:!1,text:`${g[1].Name} | ${O().day(g[1].beginnB.tag).format("ddd")} - ${O().day(g[1].endeB.tag).format("ddd")} | ${g[1].nacht?`${O().day(g[1].beginnN.tag).format("ddd")} - ${O().day(g[1].endeN.tag).format("ddd")}`:"-----"}`+(g[1].standard?" | Standard":"")})),eventListener:()=>{if(!d)throw new Error("VorgabeB Input nicht gefunden");Oi(i,o[d.value])}});i.appendChild(u);const d=u.querySelector("#vorgabeB");if(!d)throw new Error("VorgabeB Input nicht gefunden");const f=d.value;let h=O([l,a,wt(l,a)]).isoWeekday(o[f].beginnB.tag);h.isSameOrBefore(O([l,a]).startOf("M"))?h=h.add(1,"w"):h.isSameOrAfter(O([l,a]).endOf("M"))&&(h=h.subtract(1,"w")),i.appendChild(document.createElement("hr")),i.appendChild(we("Bereitschafts Anfang")),i.appendChild(F({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bA",value:h.format("YYYY-MM-DD"),type:"Date",required:!0,min:h.startOf("M").format("YYYY-MM-DD"),max:h.endOf("M").format("YYYY-MM-DD"),eventListener:()=>{const g=i.querySelector("#bA");if(!g)throw new Error("Datum nicht gefunden");Bd(i,o[d.value],O(g.value))}})),i.appendChild(F({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"bAT",value:o[f].beginnB.zeit,type:"time",required:!0,disabled:!0})),i.appendChild(we("Bereitschafts Ende")),i.appendChild(F({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bE",value:h.isoWeekday(o[f].endeB.tag).add(o[f].endeB.Nwoche?7:0,"d").format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:h.startOf("M").format("YYYY-MM-DD"),max:h.add(1,"M").endOf("M").format("YYYY-MM-DD")})),i.appendChild(F({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"bET",value:o[f].endeB.zeit,type:"time",required:!0,disabled:!0})),i.appendChild(document.createElement("hr")),i.appendChild(Ce({checkClass:"form-check form-switch bereitschaft",id:"nacht",text:"Nachtschicht",status:o[f].nacht,eventListener:()=>Li(i)}));const p=document.createElement("div");p.id="nachtschicht",p.className="row m-0 p-0",o[f].nacht||(p.style.display="none"),i.appendChild(p),p.appendChild(we("Nacht Anfang")),p.appendChild(F({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nA",value:h.isoWeekday(o[f].beginnN.tag).add(o[f].beginnN.Nwoche?7:0,"d").format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:h.startOf("M").format("YYYY-MM-DD"),max:h.add(1,"M").endOf("M").format("YYYY-MM-DD")})),p.appendChild(F({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"nAT",value:o[f].beginnN.zeit,type:"time",required:!0,disabled:!0})),p.appendChild(we("Nacht Ende")),p.appendChild(F({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nE",value:h.isoWeekday(o[f].endeN.tag).add(o[f].endeN.Nwoche?7:0,"d").format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:h.startOf("M").format("YYYY-MM-DD"),max:h.add(1,"M").endOf("M").format("YYYY-MM-DD")})),p.appendChild(F({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"nET",value:o[f].endeN.zeit,type:"time",required:!0,disabled:!0}));const m=document.createElement("hr");return m.classList.add("mt-3"),i.appendChild(m),i.appendChild(Ce({checkClass:"form-check form-switch bereitschaft",id:"eigen",text:"Eingabe Eigene Werte?",status:!1,eventListener:()=>{const g=i.querySelector("#bA");if(!g)throw new Error("Datum nicht gefunden");Id(i,o[d.value],O(g.value))}})),i}function s(){return i=>{if(e instanceof HTMLFormElement&&!e.checkValidity())return;i.preventDefault(),kd(t,E.get("accessToken")).catch(a=>{throw a});const r=document.querySelector("#tableBZ");Z.getInstance(t).hide(),r&&G(r.instance)}}}function ir(t,e){const{modal:n,form:s}=pe(e,!0,null,i,Ie(null,t instanceof q?"Speichern":void 0),r);return n;function i(){const a=document.createElement("div");a.className="modal-body row";let l;if(t instanceof q)l=O(t.cells.tagBE,"DD.MM.YYYY");else if(t instanceof Ue){const o=E.get("Monat"),c=E.get("Jahr");l=O([c,o-1,wt(c,o-1)])}else throw new Error("unbekannter Fehler");return t.columns.array.forEach(o=>{switch(o.name){case"tagBE":a.appendChild(F({divClass:"form-floating col-12 col-sm-6 pb-3",title:o.title,name:o.name,value:l.format("YYYY-MM-DD"),type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")}));break;case"auftragsnummerBE":a.appendChild(F({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:o.name,value:t instanceof q?t.cells[o.name]:"",type:"text",required:!0}));break;case"beginBE":case"endeBE":a.appendChild(F({divClass:"form-floating col-12 col-sm-6 pb-3",title:o.title,name:o.name,value:t instanceof q?t.cells[o.name]:"",type:"time",required:!0}));break;case"lreBE":a.appendChild(_e({divClass:"form-floating col-12 col-sm-6 pb-3",title:o.title,name:o.name,value:t instanceof q?t.cells[o.name]:"",options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),a.appendChild(Di());break;case"privatkmBE":a.appendChild(F({divClass:"form-floating col-12 col-sm-6",title:o.title,name:o.name,value:t instanceof q?t.cells[o.name]:"",type:"number",min:0}));break}}),a}function r(){return a=>{var u,d,f,h,p,m;if(!(s instanceof HTMLFormElement)||(a.preventDefault(),!s.checkValidity()))return;const l=n.row;if(!l)throw new Error("Row nicht gefunden");const o=l instanceof q?l.CustomTable:l,c={tagBE:O((u=s.querySelector("#tagBE"))==null?void 0:u.value).format("DD.MM.)YYYY")??"",auftragsnummerBE:((d=s.querySelector("#auftragsnummerBE"))==null?void 0:d.value)??"",beginBE:((f=s.querySelector("#beginBE"))==null?void 0:f.value)??"",endeBE:((h=s.querySelector("#endeBE"))==null?void 0:h.value)??"",lreBE:((p=s.querySelector("#lreBE"))==null?void 0:p.value)??"",privatkmBE:Number((m=s.querySelector("#privatkmBE"))==null?void 0:m.value)??0};l instanceof q?l.val(c):l.rows.add(c),Z.getInstance(n).hide(),G(o)}}}function or(t,e){const{modal:n,form:s}=pe(e,!0,"sm",i,Ie(null,t instanceof q?"Speichern":void 0),r);return n;function i(){const a=document.createElement("div");if(a.className="modal-body row",t instanceof q)t.columns.array.forEach(l=>{let o,c,u;switch(l.name){case"editing":break;case"beginB":case"endeB":o=O(t.cells[l.name]),c=o.startOf("M").format("YYYY-MM-DDTHH:mm"),u=o.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),a.appendChild(F({divClass:"form-floating col-12 pb-3",title:l.title,name:l.name,value:O(t.cells[l.name]).format("YYYY-MM-DDTHH:mm"),type:"datetime-local",required:!0,min:c,max:u}));break;default:a.appendChild(F({divClass:"form-floating col-12",title:l.title,name:l.name,value:l.parser(t.cells[l.name]),type:"number",min:0,max:60}));break}});else if(t instanceof Ue){const l=E.get("Monat"),o=E.get("Jahr");t.columns.array.forEach(c=>{let u,d,f;switch(c.name){case"editing":break;case"beginB":case"endeB":u=O([o,l-1,wt(o,l-1)]),d=u.startOf("M").format("YYYY-MM-DDTHH:mm"),f=u.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),a.appendChild(F({divClass:"form-floating col-12 pb-3",title:c.title,name:c.name,value:null,type:"datetime-local",required:!0,min:d,max:f}));break;default:a.appendChild(F({divClass:"form-floating col-12",title:c.title,name:c.name,value:"",type:"number",min:0,max:60}));break}})}return a}function r(){return a=>{if(s instanceof HTMLDivElement||s.checkValidity&&!s.checkValidity())return;a.preventDefault();const l=n.row;if(!l)throw new Error("Row nicht gefunden");const o=l instanceof q?l.CustomTable:l,c=df(new FormData(s),o),u={beginB:O(c.beginB).toISOString(),endeB:O(c.endeB).toISOString(),pauseB:Number(c.pauseB)};l instanceof q?l.val(u):l.rows.add(u),Z.getInstance(n).hide(),G(o)}}}function ar(t,e){const{modal:n}=pe(e,!1,"sm",s,fn);return n;function s(){const i=document.createElement("div");return i.className="modal-body",t.columns.array.forEach(r=>{r.editing||i.appendChild(Ye({divClass:"",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-7 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])}))}),i}}const Yn={0:{Name:"B1",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:3,zeit:"07:00",Nwoche:!0},nacht:!1,beginnN:{tag:0,zeit:"19:30",Nwoche:!0},endeN:{tag:3,zeit:"06:15",Nwoche:!0},standard:!0},1:{Name:"B2",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:6,zeit:"19:45",Nwoche:!1},nacht:!1,beginnN:{tag:6,zeit:"19:45",Nwoche:!1},endeN:{tag:3,zeit:"06:15",Nwoche:!0}},2:{Name:"B1 + Nacht",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:3,zeit:"07:00",Nwoche:!0},nacht:!0,beginnN:{tag:0,zeit:"19:30",Nwoche:!0},endeN:{tag:3,zeit:"06:15",Nwoche:!0}},3:{Name:"B1 + Nacht (ab Sa)",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:3,zeit:"07:00",Nwoche:!0},nacht:!0,beginnN:{tag:6,zeit:"19:45",Nwoche:!1},endeN:{tag:3,zeit:"06:15",Nwoche:!0}}};window.addEventListener("load",()=>{const t=o=>O(o).format("DD.MM.YYYY, LT"),e=o=>o||"",n=xt("tableBZ",{columns:[{name:"beginB",title:"Von",parser:t,sortable:!0,sorted:!0,direction:"ASC"},{name:"endeB",title:"Bis",parser:t,sortable:!0},{name:"pauseB",title:"Pause",parser:e,breakpoints:"xs"}],rows:We(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const o=or(n,"Zeitraum hinzufügen");o.row=n,new Z(o).show()},editRow:o=>{const c=or(o,"Zeitraum bearbeiten");c.row=o,new Z(c).show()},showRow:o=>{const c=ar(o,"Zeitraum anzeigen");c.row=o,new Z(c).show()},deleteRow:o=>{o.deleteRow(),G(n)},deleteAllRows:()=>{V({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{n.rows.load([]),ce(!1),E.set("dataBZ",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}}),s=xt("tableBE",{columns:[{name:"tagBE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"auftragsnummerBE",title:"Auftrags-Nr.",classes:["custom-text-truncate"]},{name:"beginBE",title:"Von",breakpoints:"sm",type:"time"},{name:"endeBE",title:"Bis",breakpoints:"sm",type:"time"},{name:"lreBE",title:"LRE"},{name:"privatkmBE",title:"Privat Km",parser:e,breakpoints:"md"}],rows:$t(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const o=ir(s,"Einsatz hinzufügen");o.row=s,new Z(o).show()},editRow:o=>{const c=ir(o,"Einsatz bearbeiten");c.row=o,new Z(c).show()},showRow:o=>{const c=ar(o,"Einsatz anzeigen");c.row=o,new Z(c).show()},deleteRow:o=>{o.deleteRow(),G(s)},deleteAllRows:()=>{V({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{s.rows.load([]),ce(!1),E.set("dataBE",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}}),i=document.querySelector("#btnESZ"),r=document.querySelector("#btnESE"),a=document.querySelector("#btnSaveB"),l=document.querySelector("#btnDownloadB");i&&i.addEventListener("click",Pd),r&&r.addEventListener("click",Yd),a&&a.addEventListener("click",()=>{mn(a).catch(o=>{throw o})}),l&&l.addEventListener("click",()=>{hs(l,"B").catch(o=>{throw o})})});function hn(t=E.get("VorgabenU")){const e=t.vorgabenB??Yn;lr(t.pers),lr(t.aZ),qd(t);const n=document.querySelector("#tableVE");if(!n)throw new Error("Tabelle nicht gefunden");const s=n.instance;s instanceof Ue?(s.rows.load([...Object.values(e)]),G(s),console.log("saved",s)):$i(e)}function qd(t){const e=document.querySelector("#TbodyTätigkeitsstätten");if(e===null)throw new Error;e.innerHTML="";for(const{key:s,text:i,value:r}of t.fZ){const a=e.insertRow();n(a,0,"Text",s),n(a,1,"Text",i),n(a,2,"time",r)}for(let s=0;s<3;s++){const i=e.insertRow();n(i,0,"Text",""),n(i,1,"Text",""),n(i,2,"time","")}function n(s,i,r,a){const l=s.insertCell(i),o=document.createElement("input");o.type=r,o.className="form-control text-center",o.value=a,l.appendChild(o)}}function lr(t){for(const e in t){const n=document.querySelector(`#${e}`),s=t[e];if(n instanceof HTMLInputElement||n instanceof HTMLSelectElement)if(Hd(s))n.value=s.toString();else throw new Error("unbekannter Wert")}}function Hd(t){return typeof t=="number"||typeof t=="string"}function cr(t,e){const{modal:n,form:s}=pe(e,!0,null,i,Ie(null,t instanceof q?"Speichern":void 0),r);return n;function i(){var o,c,u;const a=document.createElement("div");a.className="modal-body row";let l;return l=t.columns.array.find(d=>d.name==="Name"),a.appendChild(F({divClass:"form-floating col-12 pb-3",title:l.title,name:l.name,value:t instanceof q?(o=t.cells)==null?void 0:o[l.name]:"",type:"text",required:!0})),l=t.columns.array.find(d=>d.name==="standard"),a.appendChild(Ce({checkClass:"form-check form-switch col-12 pb-3",id:l.name,text:l.title,status:t instanceof q?(c=t.cells)==null?void 0:c[l.name]:!1})),a.appendChild(document.createElement("hr")),["beginnB","endeB"].forEach(d=>{var f,h,p;l=t.columns.array.find(m=>m.name===d),a.appendChild(_e({divClass:`form-floating col-7 col-sm-6 ${d==="beginnB"?"pb-3":""}`,title:l.title,name:`${l.name}Tag`,value:t instanceof q?(f=t.cells)==null?void 0:f[l.name].tag:"",required:!0,options:[{value:1,text:"Montag"},{value:2,text:"Dienstag"},{value:3,text:"Mittwoch"},{value:4,text:"Donnerstag"},{value:5,text:"Freitag"},{value:6,text:"Samstag"},{value:0,text:"Sonntag"}]})),a.appendChild(F({divClass:`form-floating col-5 col-sm-6 ${d==="beginnB"?"pb-3":""}`,type:"time",title:l.title,name:`${l.name}Zeit`,value:t instanceof q?(h=t.cells)==null?void 0:h[l.name].zeit:"",required:!0})),d==="endeB"&&a.appendChild(Ce({checkClass:"form-check form-switch col-12 pb-3",id:`${l.name}Nwoche`,text:'+1 Woche? <span class="text-secondary text-opacity-75">(Sonntag - Samstag)</span>',status:t instanceof q?(p=t.cells)==null?void 0:p[l.name].Nwoche:!1}))}),a.appendChild(document.createElement("hr")),l=t.columns.array.find(d=>d.name==="nacht"),a.appendChild(Ce({checkClass:"form-check form-switch col-12 pb-3",id:l.name,text:l.title,status:t instanceof q?(u=t.cells)==null?void 0:u[l.name]:!1})),["beginnN","endeN"].forEach(d=>{var f,h,p;l=t.columns.array.find(m=>m.name===d),a.appendChild(_e({divClass:"form-floating col-7 col-sm-6",title:l.title,name:`${l.name}Tag`,value:t instanceof q?(f=t.cells)==null?void 0:f[l.name].tag:"",required:!0,options:[{value:1,text:"Montag"},{value:2,text:"Dienstag"},{value:3,text:"Mittwoch"},{value:4,text:"Donnerstag"},{value:5,text:"Freitag"},{value:6,text:"Samstag"},{value:0,text:"Sonntag"}]})),a.appendChild(F({divClass:"form-floating col-5 col-sm-6",type:"time",title:l.title,name:`${l.name}Zeit`,value:t instanceof q?(h=t.cells)==null?void 0:h[l.name].zeit:"",required:!0})),a.appendChild(Ce({checkClass:"form-check form-switch col-12 pb-3",id:`${l.name}Nwoche`,text:'+1 Woche? <span class="text-secondary text-opacity-75">(Sonntag - Samstag)</span>',status:t instanceof q?(p=t.cells)==null?void 0:p[l.name].Nwoche:!1}))}),a}function r(){return l=>{var D,w,k,Y,L,A,C,B,y,R,I,H,U,j;if(s instanceof HTMLDivElement||s.checkValidity&&!s.checkValidity())return;l.preventDefault();const o=n.row;if(!o)throw new Error("Row nicht gefunden");const c=o instanceof q?o.CustomTable:o,u=Number(((D=s.querySelector("#beginnBTag"))==null?void 0:D.value)??NaN),d=Number(((w=s.querySelector("#endeBTag"))==null?void 0:w.value)??NaN),f=Number(((k=s.querySelector("#beginnNTag"))==null?void 0:k.value)??NaN),h=Number(((Y=s.querySelector("#endeNTag"))==null?void 0:Y.value)??NaN),p=((L=s.querySelector("#endeBNwoche"))==null?void 0:L.checked)??!1,m=((A=s.querySelector("#beginnNNwoche"))==null?void 0:A.checked)??!1,g=((C=s.querySelector("#endeNNwoche"))==null?void 0:C.checked)??!1,T=((B=s.querySelector("#beginnBZeit"))==null?void 0:B.value)??"",N=((y=s.querySelector("#endeBZeit"))==null?void 0:y.value)??"",x=((R=s.querySelector("#beginnNZeit"))==null?void 0:R.value)??"",$=((I=s.querySelector("#endeNZeit"))==null?void 0:I.value)??"",_=((H=s.querySelector("#Name"))==null?void 0:H.value)??"",v=((U=s.querySelector("#nacht"))==null?void 0:U.checked)??!1,b=((j=s.querySelector("#standard"))==null?void 0:j.checked)??!1,S={Name:_,beginnB:{tag:u,zeit:T},endeB:{tag:d,zeit:N,Nwoche:p},nacht:v,beginnN:{tag:f,zeit:x,Nwoche:m},endeN:{tag:h,zeit:$,Nwoche:g},standard:b?!0:void 0};if(b){let W,K;if(o instanceof q)[W,K]=[o.CustomTable,o];else if(o instanceof Ue)[W,K]=[o,null];else throw new Error("CustomTable nicht gefunden");a(W,K)}o instanceof q?o.val(S):o.rows.add(S),Z.getInstance(n).hide(),G(c)};function a(l,o){const c=l.getRows();for(const u in c){const d=c[u].cells;o&&o===c[u]?(d.standard=!0,c[u].val(d)):d.standard&&(delete d.standard,c[u].val(d))}}}}function Wd(t,e){const{modal:n}=pe(e,!1,null,s,fn);return n;function s(){const i=document.createElement("div");i.className="modal-body row";let r;return r=t.columns.array.find(a=>a.name==="Name"),i.appendChild(Ye({divClass:"mb-1",labelClass:"col-3 col-form-label text-wrap fw-bold",spanClass:"col-9 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(a=>a.name==="standard"),i.appendChild(Ye({divClass:"mb-1",labelClass:"col-3 col-form-label text-wrap fw-bold",spanClass:"col-9 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),["beginnB","endeB","nacht","beginnN","endeN"].forEach(a=>{r=t.columns.array.find(l=>l.name===a),i.appendChild(Ye({labelClass:"col-3 col-form-label text-wrap fw-bold",spanClass:"col-9 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name],!1)}))}),i}}function $i(t){t||(t=E.check("VorgabenU")?E.get("VorgabenU").vorgabenB:{});const e=r=>r?"Ja":"Nein",n=(r,a)=>r.Nwoche===void 0||r.Nwoche===!1?`${a} - `:`${a}+1 Woche`,s=(r,a=!0)=>{const l=a?"<br/>":" | ",c=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"][r.tag%7],u=n(r,l);return`${c}${u}${l}${r.zeit}`},i=xt("tableVE",{columns:[{name:"Name",title:"Name"},{name:"standard",title:"Standard",parser:e,breakpoints:"md"},{name:"beginnB",title:"Von",parser:s,breakpoints:"sm"},{name:"endeB",title:"Bis",parser:s,breakpoints:"sm"},{name:"nacht",title:"Nacht?",parser:e,breakpoints:"lg"},{name:"beginnN",title:"Von",parser:s,breakpoints:"lg"},{name:"endeN",title:"Bis",parser:s,breakpoints:"lg"}],rows:[...Object.values(t)],editing:{enabled:!0,addRow:()=>{const r=cr(i,"Voreinstellung hinzufügen");r.row=i,new Z(r).show()},editRow:r=>{const a=cr(r,"Voreinstellung bearbeiten");a.row=r,new Z(a).show()},showRow:r=>{const a=Wd(r,"Voreinstellung anzeigen");a.row=r,new Z(a).show()},deleteRow:r=>{r.cells.standard?V({message:"Löschen von Standard nicht möglich<br /><small>(Bitte erst neuen Standart setzten)</small>",icon:"!",status:"info",dismissible:!0,timeout:3e3,position:"br",fixed:!0}):r.deleteRow()},deleteAllRows:()=>{V({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{i.rows.load([]),ce(!1)},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}})}function Fd(){var s;const t=E.get("VorgabenU"),e=(i,r,a)=>{i[r]=a};for(const i of Object.keys(t.pers)){const r=document.querySelector(`#${i}`);r&&e(t.pers,i,r.value)}for(const i of Object.keys(t.aZ)){const r=document.querySelector(`#${i}`);r&&e(t.aZ,i,r.value)}t.fZ=Vd("TbodyTätigkeitsstätten");const n=(s=document.querySelector("#Neben-tab"))==null?void 0:s.parentElement;return t.pers.TB==="Tarifkraft"?n==null||n.classList.remove("d-none"):n==null||n.classList.add("d-none"),t.vorgabenB=Object.fromEntries(se("tableVE").entries()),E.set("VorgabenU",t),t}function Vd(t){var s;const e=(s=document.querySelector(`#${t}`))==null?void 0:s.rows;if(!e)return[];const n=[];for(const i of Array.from(e)){const r=i.children,a=r[0].children[0].value;if(!a)continue;const l=r[1].children[0].value,o=r[2].children[0].value;if(!l||!o)throw V({message:`Einstellungen > Fahrzeiten > "${a}": Beschreibung / Fahrzeit fehlt`,status:"error",timeout:3e3,position:"br",fixed:!0}),new Error("Beschreibung / Fahrzeit fehlt");n.push({key:a,text:l,value:o})}return n}function kt(t){return t!==void 0?t:E.check("dataN")?(t=E.get("dataN"),t??[]):[]}function zd(t){const e=t.querySelector("#tagN");if(!e)throw new Error("Select element with ID 'tagN' not found");let n=e.selectedIndex;if(n<0)return;const s=JSON.parse(e.value),i=t.querySelector("#Nebenbezug");if(!i)throw new Error("Select element with ID 'Nebenbezug' not found");s.nrN=i.value;const r=t.querySelector("#AnzahlN");if(!r)throw new Error("Input element with ID 'AnzahlN' not found");for(s.dauerN=+r.value,console.log(s),e.options[n].selected=!1,e.options[n].disabled=!0,n++;n<e.length;){if(!e.options[n].disabled){e.options[n].selected=!0;break}n++}const a=document.querySelector("#tableN");if(!a)throw new Error("table N nicht gefunden");const l=a.instance;l.rows.add(s),G(l)}async function Ud(t,e){var g,T,N,x,$,_,v,b;ki(e,t);let n;try{const S=await De(`${t}&${e}`);if(S instanceof Error)throw S;if(S.statusCode==200)n=S.data;else throw new Error(S.message)}catch(S){console.error(S),V({message:"Server <br/>Keine Verbindung zum Server oder Serverfehler.",status:"error",timeout:3e3,position:"br",fixed:!0});return}finally{te("btnAuswaehlen")}const s=n;console.log("Daten geladen: ",s);const{datenBerechnung:i,datenGeld:r}=s;let{vorgabenU:a}=s,l=s.datenB.datenBZ,o=s.datenB.datenBE,c=s.datenE,u=s.datenN;const d=[];let f=!1;E.check("monatswechsel")&&(f=!0,E.remove("monatswechsel"));let h={};E.check("dataServer")&&(h=E.get("dataServer"),console.log("Unterschiede Server - Client | Bereits vorhanden",h));const p=(S,D,w,k,Y,L=!1)=>{var A;if(!E.check(S))console.log(`${D} speichern, nicht vorhanden`),E.set(S,w),L&&((A=document.querySelector(`#${L.name}`))==null||A.instance.rows.load(L.data));else if(f)console.log(`${D} speichern`),E.set(S,w);else if(!E.compare(S,w))return console.log(`${D} vorhanden & änderungen`),d.find(C=>C==Y)||d.push(Y),h[k]=w,E.get(S);return w};a=p("VorgabenU","VorgabenU",a,"vorgabenU","Persönliche Daten",{name:"tableVE",data:[...Object.values(a.vorgabenB)]});const m=document.querySelector("#Willkommen");m&&(m.innerHTML=`Hallo, ${a.pers.Vorname}.`),l=p("dataBZ","DatenBZ",l,"dataBZ","Bereitschaftszeit",{name:"tableBZ",data:We(l)}),o=p("dataBE","DatenBE",o,"dataBE","Bereitschaftseinsatz",{name:"tableBE",data:$t(o)}),c=p("dataE","DatenE",c,"dataE","EWT",{name:"tableE",data:bt(c)}),u=p("dataN","DatenN",u,"dataN","Nebenbezüge",{name:"tableN",data:kt(u)}),E.set("datenBerechnung",i),E.set("VorgabenGeld",r),d.length>0?(Object.keys(h).length>0&&console.log("Unterschiede Server - Client",h),E.set("dataServer",h),V({message:`<b>Ungespeicherte Daten:</b> <br/>${d.join("<br/>")}`,status:"info",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Lokale Daten überschreiben",function:()=>{dr(),te("btnAuswaehlen"),ce(!1)},dismiss:!0,class:["text-primary"]},{text:"Daten behalten",function:()=>{dr(!1),te("btnAuswaehlen"),ce(!1)},dismiss:!0,class:["text-secondary"]}]})):(te("btnAuswaehlen"),ce(!1)),(h.dataBZ!=null||f)&&((g=document.querySelector("#tableBZ"))==null||g.instance.rows.load(We(l))),(h.dataBE!=null||f)&&((T=document.querySelector("#tableBE"))==null||T.instance.rows.load($t(o))),(h.dataE!=null||f)&&((N=document.querySelector("#tableE"))==null||N.instance.rows.load(bt(c))),(h.dataN!=null||f)&&((x=document.querySelector("#tableN"))==null||x.instance.rows.load(kt(u))),(h.dataVE!=null||f)&&(($=document.querySelector("#tableVE"))==null||$.instance.rows.load([...Object.values(a.vorgabenB)])),cs(i,r),hn(a),a.pers.TB=="Tarifkraft"&&((_=document.querySelector("#Neben-tab"))==null?void 0:_.parentElement).classList.remove("d-none"),(v=document.querySelector("#navmenu"))==null||v.classList.remove("d-none"),(b=document.querySelector("#btn-navmenu"))==null||b.classList.remove("d-none"),V({message:"Neue Daten geladen.",status:"success",timeout:3e3,position:"br",fixed:!0})}function ur(t,e,n){const s=document.querySelector(t);n?s==null||s.classList.add(e):s==null||s.classList.remove(e)}function Pn(){Wn.abort(),Ii(),E.clear();const t=["#navmenu","#btn-navmenu","#NewDisplay","#SelectDisplay","#admin","#Neben-tab"];for(const n of t)ur(n,"d-none",!0);ur("#loginDisplay","d-none",!1);const e=document.querySelector("#Willkommen");e&&(e.innerHTML="Willkommen")}function Nt(t,e){const n=document.querySelector(t);n==null||n.instance.rows.load(e)}function dr(t=!0){if(!t){E.remove("dataServer");return}const e=E.get("dataServer");console.log({dataServer:e}),e.vorgabenU&&(console.log("VorgabenU überschreiben"),E.set("VorgabenU",e.vorgabenU),Nt("#tableVE",[...Object.values(e.vorgabenU.vorgabenB)]),hn(e.vorgabenU),delete e.vorgabenU),e.dataBZ&&(console.log("DatenBZ überschreiben"),E.set("dataBZ",e.dataBZ),Nt("#tableBZ",We(e.dataBZ)),delete e.dataBZ),e.dataBE&&(console.log("DatenBE überschreiben"),E.set("dataBE",e.dataBE),Nt("#tableBE",$t(e.dataBE)),delete e.dataBE),e.dataE&&(console.log("DatenE überschreiben"),E.set("dataE",e.dataE),Nt("#tableE",bt(e.dataE)),delete e.dataE),e.dataN&&(console.log("DatenN überschreiben"),E.set("dataN",e.dataN),Nt("#tableN",kt(e.dataN)),delete e.dataN),E.remove("dataServer")}function qn(t,e){const n=document.querySelector("#Monat");if(!n)throw new Error("Monats Input nicht gefunden");t||(t=+n.value);const s=document.querySelector("#Jahr");if(!s)throw new Error("Jahres Input nicht gefunden");e||(e=+s.value);const i=document.querySelector("#errorMessage");if(!i)throw new Error("Error Nachrichtenfeld nicht gefunden");je("btnAuswaehlen"),i.innerHTML="",E.check("Jahr")&&E.check("Monat")&&(E.get("Jahr")!=e||E.get("Monat")!=t)&&E.set("monatswechsel",!0),E.set("Jahr",e),E.set("Monat",t),ki(e,t),E.check("accessToken")&&Ud(t,e).catch(r=>{throw r})}function Hn(){const t=document.querySelector("#Monat"),e=document.querySelector("#Jahr");if(t&&e&&t.value===E.get("Monat").toString()&&e.value===E.get("Jahr").toString()){ce(!1),navigator.onLine||zn(!0);return}ce(!0);const n=document.querySelector("#btnAuswaehlen");navigator.onLine&&n&&(n.disabled=!1)}async function xi(t,e){var l,o,c,u,d;const n=document.querySelector("#Benutzer");if(!n)throw new Error("Benutzer Input nicht gefunden");t||(t=n.value);const s=document.querySelector("#Passwort");if(!s)throw new Error("Passwort Input nicht gefunden");e||(e=s.value);const i=document.querySelector("#btnLogin");i&&(i.disabled=!0),je("btnLogin");const r=document.querySelector("#errorMessage");if(!r)throw new Error("Error Nachrichtenfeld nicht gefunden");const a={Name:t,Passwort:e};try{const f=await De("login",a,"POST");if(f instanceof Error)throw f;if(f.statusCode==200){const{accessToken:h,refreshToken:p}=f.data;console.log({accessToken:h,refreshToken:p}),t=`${t[0].toUpperCase()}${t.substring(1)}`,E.set("Benutzer",t);const m=document.querySelector("#Willkommen");m&&(m.innerHTML=`Hallo, ${t}.`),(l=document.querySelector("#loginDisplay"))==null||l.classList.add("d-none"),(o=document.querySelector("#ChangeDisplay"))==null||o.classList.add("d-none"),(c=document.querySelector("#NewDisplay"))==null||c.classList.add("d-none"),E.set("accessToken",h),E.set("refreshToken",p);const g=O().year(),T=document.querySelector("#Jahr");T&&(T.value=g.toString());const N=O().month()+1,x=document.querySelector("#Monat");x&&(x.value=N.toString()),(u=document.querySelector("#SelectDisplay"))==null||u.classList.remove("d-none"),n.value="",s.value="",r.innerHTML="",E.check("accessToken")&&fs().Berechtigung&2&&((d=document.querySelector("#admin"))==null||d.classList.remove("d-none")),console.log("Eingeloggt"),qn(N,g)}else r.innerHTML=f.message}catch(f){f instanceof Error?console.log(f.message):console.log(f)}finally{te("btnLogin")}}async function jd(){const t=document.querySelector("#errorMessage");if(!t)throw new Error("errorMessage not found");const e=document.querySelector("#Zugang");if(!(e!=null&&e.value.trim())){t.textContent="Bitte Zugangscode Eingeben";return}const n=document.querySelector("#Benutzer2");if(!(n!=null&&n.value.trim())){t.textContent="Bitte Benutzername Eingeben";return}const s=document.querySelector("#Passwort1");if(!(s!=null&&s.value.trim())){t.textContent="Bitte Passwort Eingeben";return}const i=document.querySelector("#Passwort2");if(!(i!=null&&i.value.trim())){t.textContent="Bitte Passwort wiederholen";return}if(s.value!==i.value){t.textContent="Passwörter falsch wiederholt";return}je("btnNeu");const r={Code:e.value.trim(),Name:n.value.trim(),Passwort:s.value.trim()};try{const a=await De("add",r,"POST");if(a instanceof Error)throw a;if(a.statusCode>=400){console.log(a.message),t.innerHTML=a.message;return}if(a.statusCode==201)V({message:"Registrierung<br/>Benutzer erfolgreich angelegt.",status:"success",timeout:3e3,position:"br",fixed:!0});else{console.log("Fehler: ",a.message),V({message:`Registrierung <br/>Fehler bei Benutzerstellung: </br>${a.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}}catch(a){console.log(a);return}finally{te("btnNeu")}t.innerHTML="",await xi(n.value,s.value),e.value="",n.value="",s.value="",i.value=""}async function Zd(){const t=document.querySelector("#errorMessage");if(!t)throw new Error("Fehler: errorMessage nicht gefunden!");const e=document.querySelector("#passwortOld");if(!e)throw new Error("Fehler: passwortOld InputElement nicht gefunden!");const n=e.value.trim(),s=document.querySelector("#Passwort3");if(!s)throw new Error("Fehler: Passwort3 InputElement nicht gefunden!");const i=s.value.trim(),r=document.querySelector("#Passwort4");if(!r)throw new Error("Fehler: Passwort4 InputElement nicht gefunden!");const a=r.value.trim();if(!n){t.textContent="Bitte Aktuelles Passwort Eingeben";return}if(!i){t.textContent="Bitte Neues Passwort Eingeben";return}if(!a){t.textContent="Bitte Neues Passwort wiederholen";return}if(i!=a){t.textContent="Passworter falsch wiederholt";return}if(n==i){t.textContent="Passwörter Alt und Neu sind gleich";return}je("btnChange");try{const o=await De("changePW",{PasswortAlt:n,PasswortNeu:i},"POST");if(o instanceof Error)throw o;if(o.statusCode>=400){console.log(o.message),t.innerHTML=o.message,V({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}else if(o.statusCode==200)console.log(`Passwort geändert: ${o.data}`),V({message:"Login<br/>Passwort wurde geändert.",status:"success",timeout:3e3,position:"br",fixed:!0}),t.innerHTML="";else{console.log("Fehler"),V({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}const c=document.querySelector("#SelectDisplay");if(!c)throw new Error("Fehler: SelectDisplay nicht gefunden!");c.classList.remove("d-none");const u=document.querySelector("#ChangeDisplay");if(!u)throw new Error("Fehler: ChangeDisplay nicht gefunden!");u.classList.add("d-none"),e.value="",s.value="",r.value=""}catch(l){console.log(l);return}finally{te("btnChange")}}function ki(t,e){const n=document.querySelector("#Monat"),s=document.querySelector("#MonatB"),i=document.querySelector("#MonatE"),r=document.querySelector("#MonatN"),a=document.querySelector("#MonatBerechnung");if(!n||!s||!i||!r||!a)throw new Error("One or more elements not found.");n.value=e.toString();const l=O([+t,e-1]);s.innerText=i.innerText=r.innerText=l.format("MM / YY"),a.innerText=t.toString()}let ds=0;async function Bi(t,e=E.get("refreshToken"),n=E.get("accessToken")){if(Kd(e,n))throw Gd(),fr(),new Error("Fehler bei Token erneuerung");const s=await De("refreshToken",{refreshToken:e},"POST",t,n);if(s instanceof Error)throw s;if(s.statusCode===200){Jd();const{accessToken:i,refreshToken:r}=s.data;return console.log({accessToken:i,refreshToken:r}),E.set("accessToken",i),E.set("refreshToken",r),i}else throw fr(),new Error("Fehler bei Token erneuerung")}function Kd(t,e){return!t||!e||ds>2}function Gd(){ds=0}function Jd(){ds++}function fr(){Pn(),V({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0})}async function Xd(t=E.get("accessToken")){if(!t)throw new Error("accessToken fehlt");const e=fs(t),n=i(e.exp);return r(n,new Date)?await Bi():t;function i(a){return a*1e3}function r(a,l){return a<l.getTime()}}let Wn,Fn;Ii();function Ii(){Wn=new AbortController,Fn=Wn.signal}async function De(t,e,n="GET",s=0,i=E.get("accessToken")){if(s>2)throw new Error("Zu viele Tokenfehler");const r=+sessionStorage.getItem("lastServerContact");let a=!1;if(!r||r-Date.now()+5*60*1e3<0){const d=V({message:"Serververbindung wird aufgebaut. Bitte warten.",dismissible:!1,status:"info",timeout:!1,position:"br",fixed:!0});try{console.time("Serververbindung herstellen"),await fetch(`${hr}/`,{method:"GET",signal:Fn}),sessionStorage.setItem("lastServerContact",Date.now().toString()),a=!0}catch{throw V({message:"Server nicht Erreichbar",status:"error",position:"br",fixed:!0}),new Error("Server nicht Erreichbar")}finally{console.timeEnd("Serververbindung herstellen"),d.Close()}}else a=!0;if(!a)throw new Error("Server nicht Erreichbar");const l=new Headers;n!=="GET"&&l.set("Content-Type","application/json"),i&&((!e||e&&!Object.prototype.hasOwnProperty.call(e,"refreshToken"))&&(i=await Xd(i)),l.set("Authorization",`Bearer ${i}`));const o={mode:"cors",headers:l,method:n,signal:Fn,cache:"no-cache"};e&&(o.body=JSON.stringify(e));const c=await fetch(`${hr}/${t}`,o),u=await c.json();return c.status==401&&u.message=="Token abgelaufen"?(i=await Bi(s,void 0,i),await De(t,e,n,s+1,i)):(u.statusCode=c.status,u)}const hr="https://web-app-rn6h2lgzma-ey.a.run.app/api/v1",dt=class{static getInstance(){return dt.instance||(dt.instance=new dt),dt.instance}set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e,n=null){const s=localStorage.getItem(e);return s?this.isJsonString(s)?JSON.parse(s):this.convertToJson(e,s):n}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}check(e){return!!localStorage.getItem(e)}size(){return localStorage.length}compare(e,n){return localStorage.getItem(e)===JSON.stringify(n)}convertToJson(e,n){return this.set(e,n),n}isJsonString(e){try{JSON.parse(e)}catch{return!1}return!0}};let Jt=dt;z(Jt,"instance");const E=Jt.getInstance();function ce(t){Array.from(document.querySelectorAll("[data-disabler]")).forEach(n=>n.disabled=t),console.log(`Button disabled: ${t}`)}function wt(t,e){const n=O().date();return O([t,e,n]).month()===e?n:1}function te(t){const e=document.querySelector(`#${t}`);e&&(e.innerHTML=e.dataset.normaltext,e.disabled=!1)}function Qd(t,e="application/pdf"){const n=window.atob(t),s=new ArrayBuffer(n.length),i=new Uint8Array(s);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([s],{type:e})}function fs(t=E.get("accessToken")){if(!t)throw new Error("accessToken fehlt");const e=t.split(".")[1],n=i(e),s=r(n);return JSON.parse(s);function i(a){return a.replace(/-/g,"+").replace(/_/g,"/")}function r(a){return decodeURIComponent(window.atob(a).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))}}var Ri={exports:{}};(function(t,e){(function(n,s){s()})(ne,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function s(c,u,d){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){o(f.response,u,d)},f.onerror=function(){console.error("could not download file")},f.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ne=="object"&&ne.global===ne?ne:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,u,d){var f=a.URL||a.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?r(h):i(h.href)?s(c,u,d):r(h,h.target="_blank")):(h.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){r(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,d),u);else if(i(c))s(c,u,d);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){r(f)})}}:function(c,u,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return s(c,u,d);var h=c.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||h&&p||l)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=x:location=x,f=null},g.readAsDataURL(c)}else{var T=a.URL||a.webkitURL,N=T.createObjectURL(c);f?f.location=N:location.href=N,f=null,setTimeout(function(){T.revokeObjectURL(N)},4e4)}});a.saveAs=o.saveAs=o,t.exports=o})})(Ri);var ef=Ri.exports;function se(t){if(!(t instanceof Ue)){const e=document.querySelector(`#${t}`);if(!e)throw new Error("Tabelle nicht gefunden");t=e.instance}return t.getRows().map(e=>e.cells)}async function hs(t,e){if(t===null)return;je(t.id),ce(!0);const n=document.querySelector("#Monat"),s=document.querySelector("#Jahr");if(!n||!s)throw new Error("Input Element nicht gefunden");const i=E.get("VorgabenGeld");Object.setPrototypeOf(i,{getMonat:function(o){let c=i[1];const u=Object.keys(i).map(Number);if(u.length>1&&o>1&&Math.max(...u.filter(d=>d<=o))>1)for(let d=2;d<=o;d++)typeof i[d]<"u"&&(c={...c,...i[d]});return c}});const r=+n.value,a=+s.value,l={VorgabenU:E.get("VorgabenU"),VorgabenGeld:i.getMonat(r),Daten:{},Monat:r,Jahr:a};switch(e){case"B":l.Daten.BZ=se("tableBZ"),l.Daten.BE=se("tableBE");break;case"E":l.Daten.EWT=se("tableE");break;case"N":l.Daten.N=se("tableN");break;default:throw new Error("Modus fehlt")}try{console.time("download");const o=await De(`download/${e}`,l,"POST");if(o instanceof Error)throw o;if(o.statusCode!=200){console.error("Fehler",o.message),V({message:`Download fehlerhaft:<br/>${o.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}ef.saveAs(Qd(o.data.data),o.data.name)}catch(o){console.error(o);return}finally{console.timeEnd("download"),ce(!1),te(t.id)}}window.addEventListener("load",()=>{E.check("VorgabenU")&&E.check("datenBerechnung")&&E.check("VorgabenGeld")&&cs(E.get("datenBerechnung"),E.get("VorgabenGeld"))});function tf(){const t=Array.from(document.querySelectorAll("#tableE .row-checkbox"));for(const e of t)e.addEventListener("click",n=>{var r;n.stopPropagation();const s=(r=e.closest("tr"))==null?void 0:r.data;if(!s)return;const i={...s.cells,berechnen:e.checked};s.val(i),G(this)})}function Vn(t,e=se("tableE")){var a;const n=document.querySelector("#tagE");if(!n)throw new Error("Eingabefeld für Tag nicht gefunden");const s=new Set(e.map(l=>+l.tagE)),i=O(n.max).date();let r=!1;t==null&&(t=O(n.value).date()),t==""&&(t=Math.max(...s.values())|0),typeof t=="string"&&(t=+t),s.delete(0);do if(t++,t>i&&!r)t=1,r=!0;else if(t>i&&r)throw(a=document.querySelector("#modal > div > form > div.modal-footer > button.btn.btn-primary"))==null||a.setAttribute("disabled","true"),V({message:"EWT<br/>Fehler beim Finden eines Freien Tages.",status:"error",timeout:3e3,position:"br",fixed:!0}),new Error("Fehler beim Finden eines Freien Tages");while(s.has(t));n.value=O([E.get("Jahr"),E.get("Monat")-1,t]).format("YYYY-MM-DD")}function nf(){const t=document.querySelector("#tagE"),e=document.querySelector("#EOrt"),n=document.querySelector("#Schicht"),s=document.querySelector("#berechnen1");if(!t)throw new Error("TagE input not found");if(!e)throw new Error("EOrt select not found");if(!n)throw new Error("Schicht select not found");if(!s)throw new Error("Berechnen input not found");const i=`0${t.value}`.slice(-2),r=e.value,a=n.value,l=s.checked,o={tagE:i,eOrtE:r,schichtE:a,abWE:"",ab1E:"",anEE:"",beginE:"",endeE:"",abEE:"",an1E:"",anWE:"",berechnen:l},c=document.querySelector("#tableE");if(!c)throw new Error("TableE not found");const u=c.instance;console.log("save ",{ftE:u}),u.rows.add(o),G(u);const d=u.getRows().map(f=>f.cells);Vn(+i,d)}function sf(t,e,n,s){const{getPascalEnde:i,initializeVorgabenE:r,calculateTimes:a}=rf(t),l=r();return e.forEach(o=>{if(!o.berechnen)return;const c=O([n,s-1,+o.tagE]),u=of(o.schichtE,c,l);Object.assign(o,a(o,c,u,l,i()))}),e}function rf(t){const e=()=>t.pers.Vorname==="Ackermann"&&t.pers.Nachname==="Pascal"?O.duration(5,"m"):O.duration(0,"m"),n=r=>{const a=O(r,"HH:mm");return{hours:a.hour(),minutes:a.minute()}};return{getPascalEnde:e,initializeVorgabenE:()=>{const r={fZ:{}};return Object.entries(t.aZ).forEach(([a,l])=>{r[a]=O.duration(n(l))}),t.fZ.forEach(a=>{r.fZ[a.key]=O.duration(n(a.value))}),r},calculateTimes:(r,a,l,o,c)=>{const u=r.beginE===""?a.add(l.beginn):O(r.beginE),d=r.endeE===""?a.add(l.ende):O(r.endeE),f=r.abWE===""?u.subtract(o.rZ):O(r.abWE),h=r.ab1E===""?u.add(l.svzA):O(r.ab1E),p=r.an1E===""?d.subtract(l.svzE):O(r.an1E),m=r.anWE===""?d.add(o.rZ).add(c):O(r.anWE),g=r.eOrtE!==""?h.add(o.fZ[r.eOrtE]):r.anEE,T=r.eOrtE!==""?p.subtract(o.fZ[r.eOrtE]):r.abEE;return{beginE:u,endeE:d,abWE:f,ab1E:h,an1E:p,anWE:m,anEE:g,abEE:T}}}}function of(t,e,n){const s={T:{beginn:n.bT,ende:e.isoWeekday()===5?n.eTF:n.eT,svzA:O.duration(20,"m"),svzE:O.duration(20,"m")},N:{beginn:n.bN,ende:n.eN.add(1,"d"),svzA:O.duration(45,"m"),svzE:O.duration(45,"m")},BN:{beginn:n.bBN,ende:n.eN.add(1,"d"),svzA:O.duration(60,"m"),svzE:O.duration(45,"m")},S:{beginn:n.bS,ende:n.eS,svzA:O.duration(20,"m"),svzE:O.duration(20,"m")}};if(!(t in s))throw new Error("Schicht unbekannt");return s[t]}function af(t){["abWE","ab1E","anEE","beginE","endeE","abEE","an1E","anWE"].forEach(n=>{const s=t.querySelector(`#${n}`);s&&(s.value="")})}function lf({monat:t,jahr:e,daten:n,vorgabenU:s}){const i=o(n,e,t);bi(i,"tagE");const r=sf(s,i,e,t);for(const c of r)if(c.berechnen){c.tagE=c.tagE.toString().padStart(2,"0");for(const[u,d]of Object.entries(c))switch(u){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":d&&(c[u]=d.format("LT"));break;default:throw new Error("Datenfehler")}}const a=document.querySelector("#tableE");if(!a)throw new Error("Tabelle nicht gefunden");const l=a.instance;console.log("save ",{ftE:l}),l.rows.load(bt(i)),G(l),V({message:"EWT<br/>Zeiten berechnet.",status:"success",timeout:3e3,position:"br",fixed:!0});function o(c,u,d){for(const f of c){if(!f.berechnen)continue;const h=Number(f.tagE);f.tagE=h.toString();for(const[p,m]of Object.entries(f))switch(p){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":if(m){let g=h;const T=m.split(":");["endeE","abEE","an1E","anWE"].includes(p)&&["BN","N"].includes(f.schichtE)&&(g=+f.tagE-1),f[p]=O([u,d-1,g,+T[0],+T[1],0,0])}else f[p]="";break;default:throw new Error("Datenfehler")}}return c}}function cf(t){const e=document.querySelector(`#${t}`);if(!e)throw new Error(`Custom table ${t} not found`);return e.instance}async function mn(t){if(t!==null){je(t.id),ce(!0);try{const[e,n,s,i]=["tableBZ","tableBE","tableE","tableN"].map(cf),r={BZ:G(e),BE:G(n),E:G(s),N:G(i),User:Fd(),Monat:E.get("Monat"),Jahr:E.get("Jahr")},a=await De("saveData",r,"POST");if(a instanceof Error)throw a;if(a.statusCode!=200){console.error("Fehler",a.message);const c=JSON.parse(a.message);V({message:"Speichern<br/>Es ist ein Fehler aufgetreten:"+c.map(u=>`<br/>- ${u}`),status:"error",timeout:3e3,position:"br",fixed:!0});return}const l=a.data;console.log(l),cs(l.datenBerechnung),[{ft:e,data:We(l.daten.datenBZ)},{ft:n,data:$t(l.daten.datenBE)},{ft:s,data:bt(l.daten.datenE)},{ft:i,data:kt(l.daten.datenN)}].forEach(({ft:c,data:u})=>{c.rows.load(u),G(c),console.log("saved",c)}),hn(l.user),E.set("VorgabenU",l.user),E.set("datenBerechnung",l.datenBerechnung),console.log("Erfolgreich gespeichert"),V({message:"Speichern<br/>Daten gespeichert",status:"success",timeout:3e3,position:"br",fixed:!0})}catch(e){console.error(e);return}finally{te(t.id),ce(!1)}}}function G(t){let e;switch(t.table){case"tableBZ":e=se(t),E.set("dataBZ",e);break;case"tableBE":e=se(t),E.set("dataBE",e);break;case"tableE":e=se(t),E.set("dataE",e);break;case"tableN":e=se(t),E.set("dataN",e);break;case"tableVE":e=E.get("VorgabenU"),e.vorgabenB=Object.fromEntries(se(t).entries()),E.set("VorgabenU",e);break;default:throw new Error("Tabelle unbekannt")}return e}function zn(t){const e=document.querySelector("#btnAuswaehlen");e&&(e.disabled=t);const n=document.querySelector("#btnChange");n&&(n.disabled=t),document.querySelectorAll("[id^='btnSave']").forEach(a=>{a.disabled=t}),document.querySelectorAll("[id^='btnDownload']").forEach(a=>{a.disabled=t});const r=document.querySelector("#btnPasswortAEndern");r&&(r.disabled=t)}function je(t){const e=document.querySelector(`#${t}`);e&&(e.dataset.normaltext||(e.dataset.normaltext=e.innerHTML),e.dataset.loadingtext||(e.dataset.loadingtext="<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),e.disabled=!0,e.innerHTML=e.dataset.loadingtext)}function mr(){zn(!0);const t=V({message:"Du bist offline",icon:"!",dismissible:!1,status:"error",timeout:!1,position:"tc",fixed:!0});window.addEventListener("online",()=>{zn(!1),Hn(),t.Close(),V({message:"Du bist wieder online",dismissible:!1,status:"info",timeout:2e3,position:"tc",fixed:!0})},{once:!0})}function uf(t){let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){return e?n instanceof DOMException&&(n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0:!1}}function df(t,e){const n=ff(e),s={};return t.forEach((i,r)=>{console.log(r,i);const a=n[r];a&&(s[a]=hf(s[a],i))}),s}function ff(t){return t.columns.array.filter(e=>e.name!=="editing").reduce((e,n)=>(e[n.title]=n.name,e),{})}function hf(t,e){return t?Array.isArray(t)?[...t,e]:[t,e]:e}window.addEventListener("load",()=>{if(uf("localStorage")||V({message:"Bitte Cookies zulassen!",dismissible:!0,status:"error",timeout:!1,position:"tc",fixed:!1}),gi(),navigator.onLine?window.addEventListener("offline",()=>{mr()}):mr(),E.check("accessToken")){const t=document.location.toString();if(/#/i.exec(t)){const n=t.split("#")[1];console.log(n);const s=document.querySelector(`#${n}-tab`);s instanceof HTMLButtonElement&&(console.log(s),tt.getOrCreateInstance(s).show(),window.scrollTo(0,1))}}Array.from(document.querySelectorAll('[data-bs-toggle="popover"]')).forEach(t=>new cn(t))});window.addEventListener("load",()=>{if(E.size()>3&&E.check("UserID")){const _=E.get("Benutzer");Pn(),V({message:`Hallo ${_},<br/>die App hat ein Update erhalten.<br/>Bitte melde dich neu an, um<br/>die neuen Funktionen zu nutzen.`,status:"info",timeout:1e4,position:"br",fixed:!0})}E.check("VorgabenU")&&E.get("VorgabenU").vorgabenB[0].endeB.Nwoche===void 0&&E.remove("VorgabenU");const t=document.querySelector("#formLogin");t==null||t.addEventListener("submit",_=>{_.preventDefault(),xi()});const e=document.querySelector("#formNewUser");e==null||e.addEventListener("submit",_=>{_.preventDefault(),jd()});const n=document.querySelector("#formChangePW");n==null||n.addEventListener("submit",_=>{_.preventDefault(),Zd()});const s=document.querySelector("#formSelectMonatJahr");s==null||s.addEventListener("submit",_=>{_.preventDefault(),qn()});const i=document.querySelector("#btnNewUser");i==null||i.addEventListener("click",()=>{const _=document.querySelector("#loginDisplay"),v=document.querySelector("#NewDisplay");_&&v&&(_.classList.add("d-none"),v.classList.remove("d-none"))});const r=document.querySelector("#btnCancelNewUser");r==null||r.addEventListener("click",()=>{const _=document.querySelector("#NewDisplay"),v=document.querySelector("#loginDisplay");_&&v&&(_.classList.add("d-none"),v.classList.remove("d-none"))});const a=document.querySelector("#btnCancelChangePW");a==null||a.addEventListener("click",()=>{const _=document.querySelector("#ChangeDisplay"),v=document.querySelector("#SelectDisplay");_&&v&&(_.classList.add("d-none"),v.classList.remove("d-none"))});const l=document.querySelector("#btnPasswortAEndern");l==null||l.addEventListener("click",()=>{const _=document.querySelector("#SelectDisplay"),v=document.querySelector("#ChangeDisplay");_&&v&&(_.classList.add("d-none"),v.classList.remove("d-none"))});const o=document.querySelector("#btnLogout");o==null||o.addEventListener("click",Pn);const c=document.querySelector("#Monat");c==null||c.addEventListener("change",Hn);const u=document.querySelector("#Jahr");u==null||u.addEventListener("change",Hn);const d=document.querySelector("#Willkommen"),f=document.querySelector("#Jahr"),h=document.querySelector("#Monat"),p=document.querySelector("#loginDisplay"),m=document.querySelector("#SelectDisplay"),g=document.querySelector("#Neben-tab");if(!g)throw new Error("Element nicht gefunden");const T=g.parentElement,N=document.querySelector("#admin"),x=document.querySelector("#navmenu"),$=document.querySelector("#btn-navmenu");if(E.check("Benutzer")&&E.check("accessToken")){const _=E.check("VorgabenU")?E.get("VorgabenU").pers.Vorname:E.get("Benutzer");d&&(d.innerHTML=`Hallo, ${_}.`),p&&p.classList.add("d-none");const v=E.get("Jahr");f&&(f.value=v.toString());const b=E.get("Monat");h&&(h.value=b.toString()),m==null||m.classList.remove("d-none"),console.log("Benutzer gefunden");const S=E.get("VorgabenU");if(S&&S.pers.TB=="Tarifkraft"&&T&&T.classList.remove("d-none"),E.check("accessToken")){const D=fs().Berechtigung;N&&D&2&&N.classList.remove("d-none")}x==null||x.classList.remove("d-none"),$==null||$.classList.remove("d-none"),navigator.onLine&&qn(b,v)}});window.addEventListener("load",()=>{const t=document.querySelector("#formEinstellungen"),e=document.querySelector("#btnSaveEinstellungen");t&&e&&t.addEventListener("submit",n=>{n.stopPropagation(),n.preventDefault(),mn(e)}),E.check("VorgabenU")?hn():$i({})});function mf(){const{modal:t,form:e}=pe("Neue Anwesenheit eingeben",!0,"sm",n,Ie(),s);Vn(""),new Z(t).show();function n(){const i=E.get("VorgabenU"),r=document.createElement("div");r.className="modal-body row g-2";const a=E.get("Jahr"),l=E.get("Monat")-1,o=O([a,l,1]),c=o.endOf("month").format("YYYY-MM-DD"),u=document.createElement("div"),d=document.createElement("button");return d.className="btn btn-secondary btn-lg text-start col-12",d.type="button",d.id="btnNaechsterTag",d.textContent="+1 Tag",d.addEventListener("click",f=>{f.preventDefault(),Vn()}),u.appendChild(d),r.appendChild(u),r.appendChild(F({divClass:"form-floating",title:"Tag",name:"tagE",value:"",type:"date",required:!0,min:o.format("YYYY-MM-DD"),max:c})),r.appendChild(_e({divClass:"form-floating",title:"Einsatzort",name:"EOrt",value:null,required:!1,options:[{value:"",text:"",selected:!0},...i.fZ.map(f=>({value:f.key,text:f.key}))]})),r.appendChild(_e({divClass:"form-floating",title:"Schicht",name:"Schicht",value:"",options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}],required:!0})),r.appendChild(Ce({checkClass:"form-check form-switch mt-3",id:"berechnen1",text:"Berechnen",status:!0})),r}function s(){return i=>{if(!(e instanceof HTMLFormElement)||e.checkValidity&&!e.checkValidity())return;i.preventDefault(),nf();const r=document.querySelector("#tableE");r&&G(r.instance)}}}function pr(t,e){const{modal:n,form:s}=pe(e,!0,"fullscreen-sm-down",i,Ie(r(),t instanceof q?"Speichern":void 0),a);return n;function i(){const l=E.get("VorgabenU"),o=document.createElement("div");o.className="modal-body row";const c=E.get("Monat")-1,u=E.get("Jahr");let d;if(t instanceof q)d=Number(t.cells.tagE);else if(t instanceof Ue)d=wt(u,c);else throw new Error("unbekannter Fehler");const f=O([u,c,d]);let h;h=t.columns.array.find(m=>m.name==="tagE"),o.appendChild(F({divClass:"form-floating col-12 col-sm-5 pb-3",title:h.title,name:h.name,value:f.format("YYYY-MM-DD"),type:"date",required:!0,min:f.startOf("M").format("YYYY-MM-DD"),max:f.endOf("M").format("YYYY-MM-DD")})),h=t.columns.array.find(m=>m.name==="eOrtE"),o.appendChild(_e({divClass:"form-floating col-12 col-sm-7 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:null,required:!1,options:[{value:"",text:"",selected:!0},...l.fZ.map(m=>({value:m.key,text:m.key}))]})),h=t.columns.array.find(m=>m.name==="schichtE"),o.appendChild(_e({divClass:"form-floating col-12 col-sm-7 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:null,required:!0,options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}]})),h=t.columns.array.find(m=>m.name==="berechnen"),o.appendChild(Ce({checkClass:"form-check form-switch col-12 col-sm-4 pb-3",id:h.name,text:h.title,status:t instanceof q?t.cells[h.name]:!0})),o.appendChild(document.createElement("hr"));const p=document.createElement("div");return p.className="icon-ewt",o.appendChild(p),p.appendChild(Oe("material-icons-round big-icons","arrow_downward")),p.appendChild(we("Wohnung")),p.appendChild(Oe("material-icons-round big-icons","arrow_upward")),h=t.columns.array.find(m=>m.name==="abWE"),o.appendChild(F({divClass:"form-floating col-6 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),h=t.columns.array.find(m=>m.name==="anWE"),o.appendChild(F({divClass:"form-floating col-6 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),o.appendChild(we("Arbeitszeit")),h=t.columns.array.find(m=>m.name==="beginE"),o.appendChild(F({divClass:"form-floating col-6 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),h=t.columns.array.find(m=>m.name==="endeE"),o.appendChild(F({divClass:"form-floating col-6 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),o.appendChild(we("1. Tätigkeitsstätte")),h=t.columns.array.find(m=>m.name==="ab1E"),o.appendChild(F({divClass:"form-floating col-6 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),h=t.columns.array.find(m=>m.name==="an1E"),o.appendChild(F({divClass:"form-floating col-6 pb-3",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),o.appendChild(we("Einsatzort")),h=t.columns.array.find(m=>m.name==="anEE"),o.appendChild(F({divClass:"form-floating col-6",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),h=t.columns.array.find(m=>m.name==="abEE"),o.appendChild(F({divClass:"form-floating col-6",title:h.title,name:h.name,value:t instanceof q?t.cells[h.name]:"",type:"time"})),o}function r(){if(t instanceof q){const l=document.createElement("button");return l.type="button",l.className="btn btn-danger",l.ariaLabel="Zeiten löschen",l.innerHTML="Zeiten löschen",l.addEventListener("click",()=>af(n)),[l]}return[]}function a(){return l=>{var d,f,h,p,m,g,T,N,x,$,_,v;if(!(s instanceof HTMLFormElement)||(l.preventDefault(),!s.checkValidity()))return;const o=n.row;if(!o)throw new Error("Row nicht gefunden");const c=o instanceof q?o.CustomTable:o,u={tagE:O((d=s.querySelector("#tagE"))==null?void 0:d.value).format("DD")??"",eOrtE:((f=s.querySelector("#eOrtE"))==null?void 0:f.value)??"",schichtE:((h=s.querySelector("#schichtE"))==null?void 0:h.value)??"",abWE:((p=s.querySelector("#abWE"))==null?void 0:p.value)??"",ab1E:((m=s.querySelector("#ab1E"))==null?void 0:m.value)??"",anEE:((g=s.querySelector("#anEE"))==null?void 0:g.value)??"",beginE:((T=s.querySelector("#beginE"))==null?void 0:T.value)??"",endeE:((N=s.querySelector("#endeE"))==null?void 0:N.value)??"",abEE:((x=s.querySelector("#abEE"))==null?void 0:x.value)??"",an1E:(($=s.querySelector("#an1E"))==null?void 0:$.value)??"",anWE:((_=s.querySelector("#anWE"))==null?void 0:_.value)??"",berechnen:((v=s.querySelector("#berechnen"))==null?void 0:v.checked)??!0};o instanceof q?o.val(u):o.rows.add(u),Z.getInstance(n).hide(),G(c)}}}function pf(t,e){const{modal:n}=pe(e,!1,"sm",s,fn);return n;function s(){var u;const i=document.createElement("div");i.className="modal-body row";let r;r=t.columns.array.find(d=>d.name==="tagE"),i.appendChild(Ye({divClass:"mb-1 col-6",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-2 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(d=>d.name==="berechnen");const a=Ce({checkClass:"form-check form-switch col-5",id:r.name,text:r.title,status:((u=t.cells)==null?void 0:u[r.name])??!0});a.addEventListener("click",d=>{const f=d.target.closest(".modal").row;f.cells.berechnen=d.target.checked;const h=f.CustomTable;h.drawRows(),G(h)}),i.appendChild(a),r=t.columns.array.find(d=>d.name==="eOrtE"),i.appendChild(Ye({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),r=t.columns.array.find(d=>d.name==="schichtE"),i.appendChild(Ye({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),i.appendChild(document.createElement("hr"));const l=document.createElement("div");return l.className="icon-ewt-arrow",i.appendChild(l),l.appendChild(Oe("material-icons-round big-icons","arrow_downward")),l.appendChild(Oe("material-icons-round big-icons","arrow_upward")),i.appendChild(o({vorTitle:"ab",title:"Wohnung",nachTitle:"an"})),r=t.columns.array.find(d=>d.name==="abWE"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),r=t.columns.array.find(d=>d.name==="anWE"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),i.appendChild(o({vorTitle:"von",title:"Arbeitszeit",nachTitle:"bis"})),r=t.columns.array.find(d=>d.name==="beginE"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),r=t.columns.array.find(d=>d.name==="endeE"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),i.appendChild(o({vorTitle:"ab",title:"1. Tätigkeitsstätte",nachTitle:"an"})),r=t.columns.array.find(d=>d.name==="ab1E"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),r=t.columns.array.find(d=>d.name==="an1E"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),i.appendChild(o({vorTitle:"an",title:"Einsatzort",nachTitle:"ab"})),r=t.columns.array.find(d=>d.name==="anEE"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),r=t.columns.array.find(d=>d.name==="abEE"),i.appendChild(c({name:r.name,text:r.parser(t.cells[r.name]).toString()})),i;function o(d){const f=document.createElement("div");f.className=d.divClass??"icon-ewt";const h=document.createElement("h5");return h.className="my-1",h.textContent=d.title,f.appendChild(Oe("",d.vorTitle)),f.appendChild(h),f.appendChild(Oe("",d.nachTitle)),f}function c(d){const f=document.createElement("div");f.className=d.divClass??"mb-1 col-6 text-center";const h=document.createElement("span");return h.className=d.spanClass??"",h.id=d.name,h.innerHTML=d.text,f.appendChild(h),f}}}window.addEventListener("load",()=>{const t=l=>`<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input"${l?" checked":""}></div>`,e=l=>{switch(l){case"T":return"Tag";case"N":return"Nacht";case"BN":return"<span class='SchichtBereitschaft'>Bereitschaft<br>+ Nacht</span>";case"S":return"Sonder";default:return""}},n=xt("tableE",{columns:[{name:"tagE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"eOrtE",title:"Einsatzort",classes:["custom-text-truncate"],type:"text"},{name:"schichtE",title:"Schicht",parser:e,type:"time"},{name:"abWE",title:"Ab Wohnung",breakpoints:"xl",type:"time"},{name:"beginE",title:"Arbeitszeit Von",breakpoints:"md",type:"time"},{name:"ab1E",title:"Ab 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"anEE",title:"An Einsatzort",breakpoints:"lg",type:"time"},{name:"abEE",title:"Ab Einsatzort",breakpoints:"lg",type:"time"},{name:"an1E",title:"An 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"endeE",title:"Arbeitszeit Bis",breakpoints:"md",type:"time"},{name:"anWE",title:"An Wohnung",breakpoints:"xl",type:"time"},{name:"berechnen",title:"Berechnen?",parser:t,breakpoints:"xxl"}],rows:bt(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const l=pr(n,"Anwesenheit hinzufügen");l.row=n,new Z(l).show()},editRow:l=>{const o=pr(l,"Anwesenheit bearbeiten");o.row=l,new Z(o).show()},showRow:l=>{const o=pf(l,"Anwesenheit anzeigen");o.row=l,new Z(o).show()},deleteRow:l=>{l.deleteRow(),G(n)},deleteAllRows:()=>{V({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{n.rows.load([]),ce(!1),E.set("dataE",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})},customButton:[{classes:["btn","btn-secondary"],text:"Alle Zeiten entfernen",function:()=>{V({message:"Möchtest du wirklich alle Zeiten entfernen?<br /><small>(nur bei Zeilen die auch berechnet werden)</small>",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{const l=[...n.rows.array],o=[];l.forEach(c=>(c.cells.berechnen&&(c.cells.abWE="",c.cells.ab1E="",c.cells.anEE="",c.cells.beginE="",c.cells.endeE="",c.cells.abEE="",c.cells.an1E="",c.cells.anWE=""),o.push(c.cells))),n.rows.load(o),G(n)},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}]},customFunction:{afterDrawRows:tf}}),s=document.querySelector("#btnZb");s==null||s.addEventListener("click",()=>{lf({monat:E.get("Monat"),jahr:E.get("Jahr"),daten:E.get("dataE"),vorgabenU:E.get("VorgabenU")})});const i=document.querySelector("#btnSaveE");i==null||i.addEventListener("click",()=>{mn(i)});const r=document.querySelector("#btnDownloadE");r==null||r.addEventListener("click",()=>{hs(r,"E")});const a=document.querySelector("#btnESEE");a==null||a.addEventListener("click",mf)});function gf(){const{modal:t,form:e}=pe("Neuen Nebenbezug eingeben",!0,null,n,Ie([s()]),i);new Z(t).show();function n(){const r=se("tableE");if(r.length===0)throw V({message:'Keine Tage in EWT gefunden. </br></br>Bitte erst EWT ausfüllen! </br>oder Manuell über "Neue Zeile"',timeout:3e3,position:"br",fixed:!0}),new Error("'Keine Tage in EWT gefunden.");console.log(r);const a=document.createElement("div");a.className="modal-body";const l=document.createElement("p");return l.className="text-center",l.textContent="!!! Erst EWT Eingeben und Berechnen !!!",a.appendChild(l),a.appendChild(_e({divClass:"form-floating col mb-3",title:"Tag (Aus EWT)",name:"tagN",required:!0,value:null,options:o()})),a.appendChild(_e({divClass:"form-floating col mb-3",title:"Nebenbezug (Aktuell nur 1 möglichkeit)",name:"Nebenbezug",required:!0,value:null,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),a.appendChild(F({divClass:"form-floating col",title:"Anzahl",name:"AnzahlN",value:1,type:"number",required:!0,min:1,max:1})),a;function o(){const c=se("tableN"),u=E.get("Jahr"),d=E.get("Monat"),f=[];for(const h of r){const p=h.schichtE;let m,g,T="12:00",N="12:30";["N","BN"].includes(p)?(m=`0${+h.tagE-1}`.slice(-2),g=`${m} | ${new Date(u,d-1,+h.tagE-1).toLocaleDateString("de",{weekday:"short"})}`,T="01:00",N="01:45"):(m=`0${h.tagE}`.slice(-2),g=`${m} | ${new Date(u,d-1,+h.tagE).toLocaleDateString("de",{weekday:"short"})}`,g.includes("Fr")&&(T="",N=""));const x={};p=="N"?x.text=`${g} | Nacht`:p=="BN"?x.text=`${g} | Nacht / Bereitschaft`:x.text=g,x.value=JSON.stringify({tagN:m,beginN:h.beginE,endeN:h.endeE,beginPauseN:T,endePauseN:N,nrN:"",dauerN:0}),c&&c.forEach($=>{Number($.tagN)==Number(m)&&(x.disabled=!0)}),f.push(x)}return f}}function s(){const r=document.createElement("button");return r.className="btn btn-info",r.type="button",r.textContent="Manuell",r.ariaLabel="Manuell",r.dataset.bsDismiss="modal",r.addEventListener("click",()=>{const a=document.querySelector("#tableN");if(!a)throw new Error("table N nicht gefunden");a.instance.options.editing.addRow()}),r}function i(){return r=>{e instanceof HTMLFormElement&&!e.checkValidity()||(r.preventDefault(),zd(e))}}}function gr(t,e){const{modal:n,form:s}=pe(e,!0,null,i,Ie(null,t instanceof q?"Speichern":void 0),r);return n;function i(){const a=document.createElement("div");a.className="modal-body row";const l=E.get("Monat")-1,o=E.get("Jahr");let c;if(t instanceof q)c=t.cells.tagN;else if(t instanceof Ue)c=wt(o,l);else throw new Error("unbekannter Fehler");const u=O([o,l,c]);let d;return d=t.columns.array.find(f=>f.name==="tagN"),a.appendChild(F({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:u.format("YYYY-MM-DD"),type:"date",required:!0,min:u.startOf("M").format("YYYY-MM-DD"),max:u.endOf("M").format("YYYY-MM-DD")})),a.appendChild(we("Arbeitszeit")),["beginN","endeN"].forEach(f=>{d=t.columns.array.find(h=>h.name===f),a.appendChild(F({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof q?t.cells[d.name]:null,type:"time",required:!0}))}),a.appendChild(we("Pause")),["beginPauseN","endePauseN"].forEach(f=>{d=t.columns.array.find(h=>h.name===f),a.appendChild(F({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof q?t.cells[d.name]:null,type:"time"}))}),a.appendChild(we("Zulage")),d=t.columns.array.find(f=>f.name==="dauerN"),a.appendChild(F({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof q?t.cells[d.name]:1,type:"number",required:!0,min:1,max:1})),d=t.columns.array.find(f=>f.name==="nrN"),a.appendChild(_e({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof q?t.cells[d.name]:null,required:!0,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),a}function r(){return a=>{var u,d,f,h,p,m,g;if(!(s instanceof HTMLFormElement)||(a.preventDefault(),!s.checkValidity()))return;const l=n.row;if(!l)throw new Error("Row nicht gefunden");const o=l instanceof q?l.CustomTable:l,c={tagN:O(((u=s.querySelector("#tagN"))==null?void 0:u.value)??0).format("DD"),beginN:((d=s.querySelector("#beginN"))==null?void 0:d.value)??"",endeN:((f=s.querySelector("#endeN"))==null?void 0:f.value)??"",beginPauseN:((h=s.querySelector("#beginPauseN"))==null?void 0:h.value)??"",endePauseN:((p=s.querySelector("#endePauseN"))==null?void 0:p.value)??"",nrN:((m=s.querySelector("#nrN"))==null?void 0:m.value)??"",dauerN:Number((g=s.querySelector("#dauerN"))==null?void 0:g.value)??0};l instanceof q?l.val(c):l.rows.add(c),Z.getInstance(n).hide(),G(o)}}}function bf(t,e){const{modal:n}=pe(e,!1,"sm",s,fn);return n;function s(){const i=document.createElement("div");i.className="modal-body row";let r,a;return r=t.columns.array.find(c=>c.name==="tagN"),i.appendChild(Ye({divClass:"mb-2 col-12 text-center",labelClass:"pe-3 align-middle col-form-label text-wrap fw-bold",spanClass:"align-middle my-auto",title:`${r.title}:`,name:r.name,text:r.parser(t.cells[r.name])})),i.appendChild(l("Arbeitszeit")),r=t.columns.array.find(c=>c.name==="beginN"),a=t.columns.array.find(c=>c.name==="endeN"),i.appendChild(o({divClass:"mb-2 col-12 text-center",vorTitle:r.parser(t.cells[r.name]),title:"arrow_right_alt",nachTitle:a.parser(t.cells[a.name])})),i.appendChild(l("Pause")),r=t.columns.array.find(c=>c.name==="beginPauseN"),a=t.columns.array.find(c=>c.name==="endePauseN"),i.appendChild(o({divClass:"mb-2 text-center",vorTitle:r.parser(t.cells[r.name]),title:"arrow_right_alt",nachTitle:a.parser(t.cells[a.name])})),i.appendChild(l("Zulage")),r=t.columns.array.find(c=>c.name==="dauerN"),a=t.columns.array.find(c=>c.name==="nrN"),i.appendChild(o({divClass:"mb-2 col-12 text-center",vorTitleClass:"col-4 align-middle text-break my-auto",vorTitle:r.parser(t.cells[r.name]),titleClass:"align-middle fw-semibold mx-1",title:"X",nachTitleClass:"col-6 align-middle text-break my-auto",nachTitle:a.parser(t.cells[a.name])})),i;function l(c){const u=document.createElement("h4");return u.className="text-center mb-0",u.innerHTML=c,u}function o(c){const u=document.createElement("div");return u.className=c.divClass??"icon-ewt",u.appendChild(Oe(c.vorTitleClass??"",c.vorTitle)),u.appendChild(Oe(c.titleClass??"material-icons-round big-icons",c.title)),u.appendChild(Oe(c.nachTitleClass??"",c.nachTitle)),u}}}window.addEventListener("load",()=>{const t=xt("tableN",{columns:[{name:"tagN",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"beginN",title:"Arbeit Von",type:"time"},{name:"endeN",title:"Arbeit Bis",type:"time"},{name:"beginPauseN",title:"Pause Von",breakpoints:"sm",type:"time"},{name:"endePauseN",title:"Pause Bis",breakpoints:"sm",type:"time"},{name:"dauerN",title:"Anzahl",breakpoints:"md"},{name:"nrN",title:"Zulage",breakpoints:"md"}],rows:kt(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const i=gr(t,"Nebenbezug hinzufügen");i.row=t,new Z(i).show()},editRow:i=>{const r=gr(i,"Nebenbezug bearbeiten");r.row=i,new Z(r).show()},showRow:i=>{const r=bf(i,"Nebenbezug anzeigen");r.row=i,new Z(r).show()},deleteRow:i=>{i.deleteRow(),G(t)},deleteAllRows:()=>{V({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{t.rows.load([]),ce(!1),E.set("dataBE",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}}),e=document.querySelector("#btnESN");e==null||e.addEventListener("click",()=>{gf()});const n=document.querySelector("#btnSaveN");n==null||n.addEventListener("click",()=>{mn(n).catch(i=>{throw i})});const s=document.querySelector("#btnDownloadN");s==null||s.addEventListener("click",()=>{hs(s,"N").catch(i=>{throw i})})});
//# sourceMappingURL=index-1cb68bd8.js.map
