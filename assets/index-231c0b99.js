var Ri=Object.defineProperty;var Yi=(t,e,n)=>e in t?Ri(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>(Yi(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var re="top",de="bottom",fe="right",ie="left",tn="auto",gt=[re,de,fe,ie],Xe="start",ut="end",Tr="clippingParents",ts="viewport",ot="popper",Cr="reference",$n=gt.reduce(function(t,e){return t.concat([e+"-"+Xe,e+"-"+ut])},[]),ns=[].concat(gt,[tn]).reduce(function(t,e){return t.concat([e,e+"-"+Xe,e+"-"+ut])},[]),Nr="beforeRead",Ar="read",Dr="afterRead",Mr="beforeMain",Lr="main",$r="afterMain",Or="beforeWrite",xr="write",kr="afterWrite",Br=[Nr,Ar,Dr,Mr,Lr,$r,Or,xr,kr];function Ae(t){return t?(t.nodeName||"").toLowerCase():null}function he(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qe(t){var e=he(t).Element;return t instanceof e||t instanceof Element}function ge(t){var e=he(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ss(t){if(typeof ShadowRoot>"u")return!1;var e=he(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Pi(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!ge(i)||!Ae(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(a){var l=r[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function qi(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),l=a.reduce(function(o,c){return o[c]="",o},{});!ge(r)||!Ae(r)||(Object.assign(r.style,l),Object.keys(i).forEach(function(o){r.removeAttribute(o)}))})}}const rs={name:"applyStyles",enabled:!0,phase:"write",fn:Pi,effect:qi,requires:["computeStyles"]};function Ce(t){return t.split("-")[0]}var Je=Math.max,Kt=Math.min,dt=Math.round;function On(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ir(){return!/^((?!chrome|android).)*safari/i.test(On())}function ft(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&ge(t)&&(r=t.offsetWidth>0&&dt(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&dt(s.height)/t.offsetHeight||1);var a=Qe(t)?he(t):window,l=a.visualViewport,o=!Ir()&&n,c=(s.left+(o&&l?l.offsetLeft:0))/r,u=(s.top+(o&&l?l.offsetTop:0))/i,d=s.width/r,h=s.height/i;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function is(t){var e=ft(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function Rr(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ss(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ke(t){return he(t).getComputedStyle(t)}function Hi(t){return["table","td","th"].indexOf(Ae(t))>=0}function Ve(t){return((Qe(t)?t.ownerDocument:t.document)||window.document).documentElement}function nn(t){return Ae(t)==="html"?t:t.assignedSlot||t.parentNode||(ss(t)?t.host:null)||Ve(t)}function $s(t){return!ge(t)||ke(t).position==="fixed"?null:t.offsetParent}function Wi(t){var e=/firefox/i.test(On()),n=/Trident/i.test(On());if(n&&ge(t)){var s=ke(t);if(s.position==="fixed")return null}var r=nn(t);for(ss(r)&&(r=r.host);ge(r)&&["html","body"].indexOf(Ae(r))<0;){var i=ke(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function xt(t){for(var e=he(t),n=$s(t);n&&Hi(n)&&ke(n).position==="static";)n=$s(n);return n&&(Ae(n)==="html"||Ae(n)==="body"&&ke(n).position==="static")?e:n||Wi(t)||e}function os(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function At(t,e,n){return Je(t,Kt(e,n))}function Vi(t,e,n){var s=At(t,e,n);return s>n?n:s}function Yr(){return{top:0,right:0,bottom:0,left:0}}function Pr(t){return Object.assign({},Yr(),t)}function qr(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var Fi=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Pr(typeof e!="number"?e:qr(e,gt))};function zi(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Ce(n.placement),o=os(l),c=[ie,fe].indexOf(l)>=0,u=c?"height":"width";if(!(!i||!a)){var d=Fi(r.padding,n),h=is(i),f=o==="y"?re:ie,g=o==="y"?de:fe,m=n.rects.reference[u]+n.rects.reference[o]-a[o]-n.rects.popper[u],p=a[o]-n.rects.reference[o],T=xt(i),N=T?o==="y"?T.clientHeight||0:T.clientWidth||0:0,x=m/2-p/2,O=d[f],v=N-h[u]-d[g],_=N/2-h[u]/2+x,b=At(O,_,v),S=o;n.modifiersData[s]=(e={},e[S]=b,e.centerOffset=b-_,e)}}function Ui(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Rr(e.elements.popper,r)&&(e.elements.arrow=r))}const Hr={name:"arrow",enabled:!0,phase:"main",fn:zi,effect:Ui,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ht(t){return t.split("-")[1]}var Zi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ji(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:dt(n*r)/r||0,y:dt(s*r)/r||0}}function Os(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,a=t.offsets,l=t.position,o=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=a.x,f=h===void 0?0:h,g=a.y,m=g===void 0?0:g,p=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=p.x,m=p.y;var T=a.hasOwnProperty("x"),N=a.hasOwnProperty("y"),x=ie,O=re,v=window;if(c){var _=xt(n),b="clientHeight",S="clientWidth";if(_===he(n)&&(_=Ve(n),ke(_).position!=="static"&&l==="absolute"&&(b="scrollHeight",S="scrollWidth")),_=_,r===re||(r===ie||r===fe)&&i===ut){O=de;var M=d&&_===v&&v.visualViewport?v.visualViewport.height:_[b];m-=M-s.height,m*=o?1:-1}if(r===ie||(r===re||r===de)&&i===ut){x=fe;var w=d&&_===v&&v.visualViewport?v.visualViewport.width:_[S];f-=w-s.width,f*=o?1:-1}}var k=Object.assign({position:l},c&&Zi),Y=u===!0?ji({x:f,y:m},he(n)):{x:f,y:m};if(f=Y.x,m=Y.y,o){var $;return Object.assign({},k,($={},$[O]=N?"0":"",$[x]=T?"0":"",$.transform=(v.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",$))}return Object.assign({},k,(e={},e[O]=N?m+"px":"",e[x]=T?f+"px":"",e.transform="",e))}function Ki(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,o=l===void 0?!0:l,c={placement:Ce(e.placement),variation:ht(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Os(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:o})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Os(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const as={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ki,data:{}};var Pt={passive:!0};function Gi(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,a=s.resize,l=a===void 0?!0:a,o=he(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,Pt)}),l&&o.addEventListener("resize",n.update,Pt),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Pt)}),l&&o.removeEventListener("resize",n.update,Pt)}}const ls={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gi,data:{}};var Ji={left:"right",right:"left",bottom:"top",top:"bottom"};function Ut(t){return t.replace(/left|right|bottom|top/g,function(e){return Ji[e]})}var Xi={start:"end",end:"start"};function xs(t){return t.replace(/start|end/g,function(e){return Xi[e]})}function cs(t){var e=he(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function us(t){return ft(Ve(t)).left+cs(t).scrollLeft}function Qi(t,e){var n=he(t),s=Ve(t),r=n.visualViewport,i=s.clientWidth,a=s.clientHeight,l=0,o=0;if(r){i=r.width,a=r.height;var c=Ir();(c||!c&&e==="fixed")&&(l=r.offsetLeft,o=r.offsetTop)}return{width:i,height:a,x:l+us(t),y:o}}function eo(t){var e,n=Ve(t),s=cs(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=Je(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Je(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-s.scrollLeft+us(t),o=-s.scrollTop;return ke(r||n).direction==="rtl"&&(l+=Je(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:l,y:o}}function ds(t){var e=ke(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function Wr(t){return["html","body","#document"].indexOf(Ae(t))>=0?t.ownerDocument.body:ge(t)&&ds(t)?t:Wr(nn(t))}function Dt(t,e){var n;e===void 0&&(e=[]);var s=Wr(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=he(s),a=r?[i].concat(i.visualViewport||[],ds(s)?s:[]):s,l=e.concat(a);return r?l:l.concat(Dt(nn(a)))}function xn(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function to(t,e){var n=ft(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ks(t,e,n){return e===ts?xn(Qi(t,n)):Qe(e)?to(e,n):xn(eo(Ve(t)))}function no(t){var e=Dt(nn(t)),n=["absolute","fixed"].indexOf(ke(t).position)>=0,s=n&&ge(t)?xt(t):t;return Qe(s)?e.filter(function(r){return Qe(r)&&Rr(r,s)&&Ae(r)!=="body"}):[]}function so(t,e,n,s){var r=e==="clippingParents"?no(t):[].concat(e),i=[].concat(r,[n]),a=i[0],l=i.reduce(function(o,c){var u=ks(t,c,s);return o.top=Je(u.top,o.top),o.right=Kt(u.right,o.right),o.bottom=Kt(u.bottom,o.bottom),o.left=Je(u.left,o.left),o},ks(t,a,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Vr(t){var e=t.reference,n=t.element,s=t.placement,r=s?Ce(s):null,i=s?ht(s):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,o;switch(r){case re:o={x:a,y:e.y-n.height};break;case de:o={x:a,y:e.y+e.height};break;case fe:o={x:e.x+e.width,y:l};break;case ie:o={x:e.x-n.width,y:l};break;default:o={x:e.x,y:e.y}}var c=r?os(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Xe:o[c]=o[c]-(e[u]/2-n[u]/2);break;case ut:o[c]=o[c]+(e[u]/2-n[u]/2);break}}return o}function mt(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,a=i===void 0?t.strategy:i,l=n.boundary,o=l===void 0?Tr:l,c=n.rootBoundary,u=c===void 0?ts:c,d=n.elementContext,h=d===void 0?ot:d,f=n.altBoundary,g=f===void 0?!1:f,m=n.padding,p=m===void 0?0:m,T=Pr(typeof p!="number"?p:qr(p,gt)),N=h===ot?Cr:ot,x=t.rects.popper,O=t.elements[g?N:h],v=so(Qe(O)?O:O.contextElement||Ve(t.elements.popper),o,u,a),_=ft(t.elements.reference),b=Vr({reference:_,element:x,strategy:"absolute",placement:r}),S=xn(Object.assign({},x,b)),M=h===ot?S:_,w={top:v.top-M.top+T.top,bottom:M.bottom-v.bottom+T.bottom,left:v.left-M.left+T.left,right:M.right-v.right+T.right},k=t.modifiersData.offset;if(h===ot&&k){var Y=k[r];Object.keys(w).forEach(function($){var A=[fe,de].indexOf($)>=0?1:-1,C=[re,de].indexOf($)>=0?"y":"x";w[$]+=Y[C]*A})}return w}function ro(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,o=n.allowedAutoPlacements,c=o===void 0?ns:o,u=ht(s),d=u?l?$n:$n.filter(function(g){return ht(g)===u}):gt,h=d.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,m){return g[m]=mt(t,{placement:m,boundary:r,rootBoundary:i,padding:a})[Ce(m)],g},{});return Object.keys(f).sort(function(g,m){return f[g]-f[m]})}function io(t){if(Ce(t)===tn)return[];var e=Ut(t);return[xs(t),e,xs(e)]}function oo(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,o=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,g=f===void 0?!0:f,m=n.allowedAutoPlacements,p=e.options.placement,T=Ce(p),N=T===p,x=o||(N||!g?[Ut(p)]:io(p)),O=[p].concat(x).reduce(function(K,Q){return K.concat(Ce(Q)===tn?ro(e,{placement:Q,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):Q)},[]),v=e.rects.reference,_=e.rects.popper,b=new Map,S=!0,M=O[0],w=0;w<O.length;w++){var k=O[w],Y=Ce(k),$=ht(k)===Xe,A=[re,de].indexOf(Y)>=0,C=A?"width":"height",B=mt(e,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),y=A?$?fe:ie:$?de:re;v[C]>_[C]&&(y=Ut(y));var R=Ut(y),I=[];if(i&&I.push(B[Y]<=0),l&&I.push(B[y]<=0,B[R]<=0),I.every(function(K){return K})){M=k,S=!1;break}b.set(k,I)}if(S)for(var q=g?3:1,U=function(Q){var ce=O.find(function(ue){var ee=b.get(ue);if(ee)return ee.slice(0,Q).every(function(J){return J})});if(ce)return M=ce,"break"},Z=q;Z>0;Z--){var H=U(Z);if(H==="break")break}e.placement!==M&&(e.modifiersData[s]._skip=!0,e.placement=M,e.reset=!0)}}const Fr={name:"flip",enabled:!0,phase:"main",fn:oo,requiresIfExists:["offset"],data:{_skip:!1}};function Bs(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Is(t){return[re,fe,de,ie].some(function(e){return t[e]>=0})}function ao(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,a=mt(e,{elementContext:"reference"}),l=mt(e,{altBoundary:!0}),o=Bs(a,s),c=Bs(l,r,i),u=Is(o),d=Is(c);e.modifiersData[n]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const zr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ao};function lo(t,e,n){var s=Ce(t),r=[ie,re].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*r,[ie,fe].indexOf(s)>=0?{x:l,y:a}:{x:a,y:l}}function co(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,a=ns.reduce(function(u,d){return u[d]=lo(d,e.rects,i),u},{}),l=a[e.placement],o=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=o,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=a}const Ur={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:co};function uo(t){var e=t.state,n=t.name;e.modifiersData[n]=Vr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const fs={name:"popperOffsets",enabled:!0,phase:"read",fn:uo,data:{}};function fo(t){return t==="x"?"y":"x"}function ho(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,o=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,g=n.tetherOffset,m=g===void 0?0:g,p=mt(e,{boundary:o,rootBoundary:c,padding:d,altBoundary:u}),T=Ce(e.placement),N=ht(e.placement),x=!N,O=os(T),v=fo(O),_=e.modifiersData.popperOffsets,b=e.rects.reference,S=e.rects.popper,M=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,w=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Y={x:0,y:0};if(_){if(i){var $,A=O==="y"?re:ie,C=O==="y"?de:fe,B=O==="y"?"height":"width",y=_[O],R=y+p[A],I=y-p[C],q=f?-S[B]/2:0,U=N===Xe?b[B]:S[B],Z=N===Xe?-S[B]:-b[B],H=e.elements.arrow,K=f&&H?is(H):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Yr(),ce=Q[A],ue=Q[C],ee=At(0,b[B],K[B]),J=x?b[B]/2-q-ee-ce-w.mainAxis:U-ee-ce-w.mainAxis,oe=x?-b[B]/2+q+ee+ue+w.mainAxis:Z+ee+ue+w.mainAxis,pe=e.elements.arrow&&xt(e.elements.arrow),Se=pe?O==="y"?pe.clientTop||0:pe.clientLeft||0:0,st=($=k==null?void 0:k[O])!=null?$:0,wt=y+J-st-Se,St=y+oe-st,pn=At(f?Kt(R,wt):R,y,f?Je(I,St):I);_[O]=pn,Y[O]=pn-y}if(l){var Ts,Bi=O==="x"?re:ie,Ii=O==="x"?de:fe,Ze=_[v],Yt=v==="y"?"height":"width",Cs=Ze+p[Bi],Ns=Ze-p[Ii],gn=[re,ie].indexOf(T)!==-1,As=(Ts=k==null?void 0:k[v])!=null?Ts:0,Ds=gn?Cs:Ze-b[Yt]-S[Yt]-As+w.altAxis,Ms=gn?Ze+b[Yt]+S[Yt]-As-w.altAxis:Ns,Ls=f&&gn?Vi(Ds,Ze,Ms):At(f?Ds:Cs,Ze,f?Ms:Ns);_[v]=Ls,Y[v]=Ls-Ze}e.modifiersData[s]=Y}}const Zr={name:"preventOverflow",enabled:!0,phase:"main",fn:ho,requiresIfExists:["offset"]};function mo(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function po(t){return t===he(t)||!ge(t)?cs(t):mo(t)}function go(t){var e=t.getBoundingClientRect(),n=dt(e.width)/t.offsetWidth||1,s=dt(e.height)/t.offsetHeight||1;return n!==1||s!==1}function bo(t,e,n){n===void 0&&(n=!1);var s=ge(e),r=ge(e)&&go(e),i=Ve(e),a=ft(t,r,n),l={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(s||!s&&!n)&&((Ae(e)!=="body"||ds(i))&&(l=po(e)),ge(e)?(o=ft(e,!0),o.x+=e.clientLeft,o.y+=e.clientTop):i&&(o.x=us(i))),{x:a.left+l.scrollLeft-o.x,y:a.top+l.scrollTop-o.y,width:a.width,height:a.height}}function Eo(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var o=e.get(l);o&&r(o)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function vo(t){var e=Eo(t);return Br.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function _o(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function yo(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Rs={placement:"bottom",modifiers:[],strategy:"absolute"};function Ys(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function sn(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?Rs:r;return function(l,o,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rs,i),modifiersData:{},elements:{reference:l,popper:o},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(T){var N=typeof T=="function"?T(u.options):T;m(),u.options=Object.assign({},i,u.options,N),u.scrollParents={reference:Qe(l)?Dt(l):l.contextElement?Dt(l.contextElement):[],popper:Dt(o)};var x=vo(yo([].concat(s,u.options.modifiers)));return u.orderedModifiers=x.filter(function(O){return O.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var T=u.elements,N=T.reference,x=T.popper;if(Ys(N,x)){u.rects={reference:bo(N,xt(x),u.options.strategy==="fixed"),popper:is(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(w){return u.modifiersData[w.name]=Object.assign({},w.data)});for(var O=0;O<u.orderedModifiers.length;O++){if(u.reset===!0){u.reset=!1,O=-1;continue}var v=u.orderedModifiers[O],_=v.fn,b=v.options,S=b===void 0?{}:b,M=v.name;typeof _=="function"&&(u=_({state:u,options:S,name:M,instance:f})||u)}}}},update:_o(function(){return new Promise(function(p){f.forceUpdate(),p(u)})}),destroy:function(){m(),h=!0}};if(!Ys(l,o))return f;f.setOptions(c).then(function(p){!h&&c.onFirstUpdate&&c.onFirstUpdate(p)});function g(){u.orderedModifiers.forEach(function(p){var T=p.name,N=p.options,x=N===void 0?{}:N,O=p.effect;if(typeof O=="function"){var v=O({state:u,name:T,instance:f,options:x}),_=function(){};d.push(v||_)}})}function m(){d.forEach(function(p){return p()}),d=[]}return f}}var wo=sn(),So=[ls,fs,as,rs],To=sn({defaultModifiers:So}),Co=[ls,fs,as,rs,Ur,Fr,Zr,Hr,zr],hs=sn({defaultModifiers:Co});const jr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$r,afterRead:Dr,afterWrite:kr,applyStyles:rs,arrow:Hr,auto:tn,basePlacements:gt,beforeMain:Mr,beforeRead:Nr,beforeWrite:Or,bottom:de,clippingParents:Tr,computeStyles:as,createPopper:hs,createPopperBase:wo,createPopperLite:To,detectOverflow:mt,end:ut,eventListeners:ls,flip:Fr,hide:zr,left:ie,main:Lr,modifierPhases:Br,offset:Ur,placements:ns,popper:ot,popperGenerator:sn,popperOffsets:fs,preventOverflow:Zr,read:Ar,reference:Cr,right:fe,start:Xe,top:re,variationPlacements:$n,viewport:ts,write:xr},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const No=1e6,Ao=1e3,kn="transitionend",Do=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Mo=t=>{do t+=Math.floor(Math.random()*No);while(document.getElementById(t));return t},Kr=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},Gr=t=>{const e=Kr(t);return e&&document.querySelector(e)?e:null},$e=t=>{const e=Kr(t);return e?document.querySelector(e):null},Lo=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),r=Number.parseFloat(n);return!s&&!r?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*Ao)},Jr=t=>{t.dispatchEvent(new Event(kn))},Oe=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Pe=t=>Oe(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,bt=t=>{if(!Oe(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},qe=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Xr=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Xr(t.parentNode):null},Gt=()=>{},kt=t=>{t.offsetHeight},Qr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,bn=[],$o=t=>{document.readyState==="loading"?(bn.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of bn)e()}),bn.push(t)):t()},be=()=>document.documentElement.dir==="rtl",ve=t=>{$o(()=>{const e=Qr();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Me=t=>{typeof t=="function"&&t()},ei=(t,e,n=!0)=>{if(!n){Me(t);return}const s=5,r=Lo(e)+s;let i=!1;const a=({target:l})=>{l===e&&(i=!0,e.removeEventListener(kn,a),Me(t))};e.addEventListener(kn,a),setTimeout(()=>{i||Jr(e)},r)},ms=(t,e,n,s)=>{const r=t.length;let i=t.indexOf(e);return i===-1?!n&&s?t[r-1]:t[0]:(i+=n?1:-1,s&&(i=(i+r)%r),t[Math.max(0,Math.min(i,r-1))])},Oo=/[^.]*(?=\..*)\.|.*/,xo=/\..*/,ko=/::\d+$/,En={};let Ps=1;const ti={mouseenter:"mouseover",mouseleave:"mouseout"},Bo=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ni(t,e){return e&&`${e}::${Ps++}`||t.uidEvent||Ps++}function si(t){const e=ni(t);return t.uidEvent=e,En[e]=En[e]||{},En[e]}function Io(t,e){return function n(s){return ps(s,{delegateTarget:t}),n.oneOff&&D.off(t,s.type,e),e.apply(t,[s])}}function Ro(t,e,n){return function s(r){const i=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const l of i)if(l===a)return ps(r,{delegateTarget:a}),s.oneOff&&D.off(t,r.type,e,n),n.apply(a,[r])}}function ri(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function ii(t,e,n){const s=typeof e=="string",r=s?n:e||n;let i=oi(t);return Bo.has(i)||(i=t),[s,r,i]}function qs(t,e,n,s,r){if(typeof e!="string"||!t)return;let[i,a,l]=ii(e,n,s);e in ti&&(a=(g=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return g.call(this,m)})(a));const o=si(t),c=o[l]||(o[l]={}),u=ri(c,a,i?n:null);if(u){u.oneOff=u.oneOff&&r;return}const d=ni(a,e.replace(Oo,"")),h=i?Ro(t,n,a):Io(t,a);h.delegationSelector=i?n:null,h.callable=a,h.oneOff=r,h.uidEvent=d,c[d]=h,t.addEventListener(l,h,i)}function Bn(t,e,n,s,r){const i=ri(e[n],s,r);i&&(t.removeEventListener(n,i,!!r),delete e[n][i.uidEvent])}function Yo(t,e,n,s){const r=e[n]||{};for(const i of Object.keys(r))if(i.includes(s)){const a=r[i];Bn(t,e,n,a.callable,a.delegationSelector)}}function oi(t){return t=t.replace(xo,""),ti[t]||t}const D={on(t,e,n,s){qs(t,e,n,s,!1)},one(t,e,n,s){qs(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[r,i,a]=ii(e,n,s),l=a!==e,o=si(t),c=o[a]||{},u=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(c).length)return;Bn(t,o,a,i,r?n:null);return}if(u)for(const d of Object.keys(o))Yo(t,o,d,e.slice(1));for(const d of Object.keys(c)){const h=d.replace(ko,"");if(!l||e.includes(h)){const f=c[d];Bn(t,o,a,f.callable,f.delegationSelector)}}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=Qr(),r=oi(e),i=e!==r;let a=null,l=!0,o=!0,c=!1;i&&s&&(a=s.Event(e,n),s(t).trigger(a),l=!a.isPropagationStopped(),o=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());let u=new Event(e,{bubbles:l,cancelable:!0});return u=ps(u,n),c&&u.preventDefault(),o&&t.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function ps(t,e){for(const[n,s]of Object.entries(e||{}))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}const Re=new Map,vn={set(t,e,n){Re.has(t)||Re.set(t,new Map);const s=Re.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return Re.has(t)&&Re.get(t).get(e)||null},remove(t,e){if(!Re.has(t))return;const n=Re.get(t);n.delete(e),n.size===0&&Re.delete(t)}};function Hs(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function _n(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const xe={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${_n(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${_n(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Hs(t.dataset[s])}return e},getDataAttribute(t,e){return Hs(t.getAttribute(`data-bs-${_n(e)}`))}};class Bt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Oe(n)?xe.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Oe(n)?xe.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const s of Object.keys(n)){const r=n[s],i=e[s],a=Oe(i)?"element":Do(i);if(!new RegExp(r).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${a}" but expected type "${r}".`)}}}const Po="5.2.3";class ye extends Bt{constructor(e,n){super(),e=Pe(e),e&&(this._element=e,this._config=this._getConfig(n),vn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){vn.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){ei(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return vn.get(Pe(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return Po}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const rn=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;D.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),qe(this))return;const i=$e(this)||this.closest(`.${s}`);t.getOrCreateInstance(i)[e]()})},qo="alert",Ho="bs.alert",ai=`.${Ho}`,Wo=`close${ai}`,Vo=`closed${ai}`,Fo="fade",zo="show";class on extends ye{static get NAME(){return qo}close(){if(D.trigger(this._element,Wo).defaultPrevented)return;this._element.classList.remove(zo);const n=this._element.classList.contains(Fo);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),D.trigger(this._element,Vo),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=on.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}rn(on,"close");ve(on);const Uo="button",Zo="bs.button",jo=`.${Zo}`,Ko=".data-api",Go="active",Ws='[data-bs-toggle="button"]',Jo=`click${jo}${Ko}`;class an extends ye{static get NAME(){return Uo}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Go))}static jQueryInterface(e){return this.each(function(){const n=an.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}D.on(document,Jo,Ws,t=>{t.preventDefault();const e=t.target.closest(Ws);an.getOrCreateInstance(e).toggle()});ve(an);const W={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!qe(n)&&bt(n))}},Xo="swipe",Et=".bs.swipe",Qo=`touchstart${Et}`,ea=`touchmove${Et}`,ta=`touchend${Et}`,na=`pointerdown${Et}`,sa=`pointerup${Et}`,ra="touch",ia="pen",oa="pointer-event",aa=40,la={endCallback:null,leftCallback:null,rightCallback:null},ca={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Jt extends Bt{constructor(e,n){super(),this._element=e,!(!e||!Jt.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return la}static get DefaultType(){return ca}static get NAME(){return Xo}dispose(){D.off(this._element,Et)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Me(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=aa)return;const n=e/this._deltaX;this._deltaX=0,n&&Me(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,na,e=>this._start(e)),D.on(this._element,sa,e=>this._end(e)),this._element.classList.add(oa)):(D.on(this._element,Qo,e=>this._start(e)),D.on(this._element,ea,e=>this._move(e)),D.on(this._element,ta,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===ia||e.pointerType===ra)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ua="carousel",da="bs.carousel",Fe=`.${da}`,li=".data-api",fa="ArrowLeft",ha="ArrowRight",ma=500,Tt="next",rt="prev",at="left",Zt="right",pa=`slide${Fe}`,yn=`slid${Fe}`,ga=`keydown${Fe}`,ba=`mouseenter${Fe}`,Ea=`mouseleave${Fe}`,va=`dragstart${Fe}`,_a=`load${Fe}${li}`,ya=`click${Fe}${li}`,ci="carousel",qt="active",wa="slide",Sa="carousel-item-end",Ta="carousel-item-start",Ca="carousel-item-next",Na="carousel-item-prev",ui=".active",di=".carousel-item",Aa=ui+di,Da=".carousel-item img",Ma=".carousel-indicators",La="[data-bs-slide], [data-bs-slide-to]",$a='[data-bs-ride="carousel"]',Oa={[fa]:Zt,[ha]:at},xa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ka={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class It extends ye{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(Ma,this._element),this._addEventListeners(),this._config.ride===ci&&this.cycle()}static get Default(){return xa}static get DefaultType(){return ka}static get NAME(){return ua}next(){this._slide(Tt)}nextWhenVisible(){!document.hidden&&bt(this._element)&&this.next()}prev(){this._slide(rt)}pause(){this._isSliding&&Jr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){D.one(this._element,yn,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){D.one(this._element,yn,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const r=e>s?Tt:rt;this._slide(r,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&D.on(this._element,ga,e=>this._keydown(e)),this._config.pause==="hover"&&(D.on(this._element,ba,()=>this.pause()),D.on(this._element,Ea,()=>this._maybeEnableCycle())),this._config.touch&&Jt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of W.find(Da,this._element))D.on(s,va,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(at)),rightCallback:()=>this._slide(this._directionToOrder(Zt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ma+this._config.interval))}};this._swipeHelper=new Jt(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=Oa[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=W.findOne(ui,this._indicatorsElement);n.classList.remove(qt),n.removeAttribute("aria-current");const s=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(qt),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),r=e===Tt,i=n||ms(this._getItems(),s,r,this._config.wrap);if(i===s)return;const a=this._getItemIndex(i),l=f=>D.trigger(this._element,f,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:a});if(l(pa).defaultPrevented||!s||!i)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=i;const u=r?Ta:Sa,d=r?Ca:Na;i.classList.add(d),kt(i),s.classList.add(u),i.classList.add(u);const h=()=>{i.classList.remove(u,d),i.classList.add(qt),s.classList.remove(qt,d,u),this._isSliding=!1,l(yn)};this._queueCallback(h,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(wa)}_getActive(){return W.findOne(Aa,this._element)}_getItems(){return W.find(di,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return be()?e===at?rt:Tt:e===at?Tt:rt}_orderToDirection(e){return be()?e===rt?at:Zt:e===rt?Zt:at}static jQueryInterface(e){return this.each(function(){const n=It.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}D.on(document,ya,La,function(t){const e=$e(this);if(!e||!e.classList.contains(ci))return;t.preventDefault();const n=It.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(xe.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});D.on(window,_a,()=>{const t=W.find($a);for(const e of t)It.getOrCreateInstance(e)});ve(It);const Ba="collapse",Ia="bs.collapse",Rt=`.${Ia}`,Ra=".data-api",Ya=`show${Rt}`,Pa=`shown${Rt}`,qa=`hide${Rt}`,Ha=`hidden${Rt}`,Wa=`click${Rt}${Ra}`,wn="show",ct="collapse",Ht="collapsing",Va="collapsed",Fa=`:scope .${ct} .${ct}`,za="collapse-horizontal",Ua="width",Za="height",ja=".collapse.show, .collapse.collapsing",In='[data-bs-toggle="collapse"]',Ka={parent:null,toggle:!0},Ga={parent:"(null|element)",toggle:"boolean"};class Mt extends ye{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=W.find(In);for(const r of s){const i=Gr(r),a=W.find(i).filter(l=>l===this._element);i!==null&&a.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ka}static get DefaultType(){return Ga}static get NAME(){return Ba}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(ja).filter(l=>l!==this._element).map(l=>Mt.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||D.trigger(this._element,Ya).defaultPrevented)return;for(const l of e)l.hide();const s=this._getDimension();this._element.classList.remove(ct),this._element.classList.add(Ht),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(ct,wn),this._element.style[s]="",D.trigger(this._element,Pa)},a=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,qa).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,kt(this._element),this._element.classList.add(Ht),this._element.classList.remove(ct,wn);for(const r of this._triggerArray){const i=$e(r);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(ct),D.trigger(this._element,Ha)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(wn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Pe(e.parent),e}_getDimension(){return this._element.classList.contains(za)?Ua:Za}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(In);for(const n of e){const s=$e(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=W.find(Fa,this._config.parent);return W.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(Va,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=Mt.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}D.on(document,Wa,In,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();const e=Gr(this),n=W.find(e);for(const s of n)Mt.getOrCreateInstance(s,{toggle:!1}).toggle()});ve(Mt);const Vs="dropdown",Ja="bs.dropdown",tt=`.${Ja}`,gs=".data-api",Xa="Escape",Fs="Tab",Qa="ArrowUp",zs="ArrowDown",el=2,tl=`hide${tt}`,nl=`hidden${tt}`,sl=`show${tt}`,rl=`shown${tt}`,fi=`click${tt}${gs}`,hi=`keydown${tt}${gs}`,il=`keyup${tt}${gs}`,lt="show",ol="dropup",al="dropend",ll="dropstart",cl="dropup-center",ul="dropdown-center",Ke='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',dl=`${Ke}.${lt}`,jt=".dropdown-menu",fl=".navbar",hl=".navbar-nav",ml=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",pl=be()?"top-end":"top-start",gl=be()?"top-start":"top-end",bl=be()?"bottom-end":"bottom-start",El=be()?"bottom-start":"bottom-end",vl=be()?"left-start":"right-start",_l=be()?"right-start":"left-start",yl="top",wl="bottom",Sl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Tl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ne extends ye{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,jt)[0]||W.prev(this._element,jt)[0]||W.findOne(jt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Sl}static get DefaultType(){return Tl}static get NAME(){return Vs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qe(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!D.trigger(this._element,sl,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(hl))for(const s of[].concat(...document.body.children))D.on(s,"mouseover",Gt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(lt),this._element.classList.add(lt),D.trigger(this._element,rl,e)}}hide(){if(qe(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!D.trigger(this._element,tl,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))D.off(s,"mouseover",Gt);this._popper&&this._popper.destroy(),this._menu.classList.remove(lt),this._element.classList.remove(lt),this._element.setAttribute("aria-expanded","false"),xe.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,nl,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Oe(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Vs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof jr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Oe(this._config.reference)?e=Pe(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=hs(e,this._menu,n)}_isShown(){return this._menu.classList.contains(lt)}_getPlacement(){const e=this._parent;if(e.classList.contains(al))return vl;if(e.classList.contains(ll))return _l;if(e.classList.contains(cl))return yl;if(e.classList.contains(ul))return wl;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(ol)?n?gl:pl:n?El:bl}_detectNavbar(){return this._element.closest(fl)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(xe.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const s=W.find(ml,this._menu).filter(r=>bt(r));s.length&&ms(s,n,e===zs,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Ne.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===el||e.type==="keyup"&&e.key!==Fs)return;const n=W.find(dl);for(const s of n){const r=Ne.getInstance(s);if(!r||r._config.autoClose===!1)continue;const i=e.composedPath(),a=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!a||r._config.autoClose==="outside"&&a||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Fs||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const l={relatedTarget:r._element};e.type==="click"&&(l.clickEvent=e),r._completeHide(l)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===Xa,r=[Qa,zs].includes(e.key);if(!r&&!s||n&&!s)return;e.preventDefault();const i=this.matches(Ke)?this:W.prev(this,Ke)[0]||W.next(this,Ke)[0]||W.findOne(Ke,e.delegateTarget.parentNode),a=Ne.getOrCreateInstance(i);if(r){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}D.on(document,hi,Ke,Ne.dataApiKeydownHandler);D.on(document,hi,jt,Ne.dataApiKeydownHandler);D.on(document,fi,Ne.clearMenus);D.on(document,il,Ne.clearMenus);D.on(document,fi,Ke,function(t){t.preventDefault(),Ne.getOrCreateInstance(this).toggle()});ve(Ne);const Us=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Zs=".sticky-top",Wt="padding-right",js="margin-right";class Rn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Wt,n=>n+e),this._setElementAttributes(Us,Wt,n=>n+e),this._setElementAttributes(Zs,js,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Wt),this._resetElementAttributes(Us,Wt),this._resetElementAttributes(Zs,js)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const r=this.getWidth(),i=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+r)return;this._saveInitialAttribute(a,n);const l=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&xe.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=r=>{const i=xe.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}xe.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Oe(e)){n(e);return}for(const s of W.find(e,this._element))n(s)}}const mi="backdrop",Cl="fade",Ks="show",Gs=`mousedown.bs.${mi}`,Nl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Al={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pi extends Bt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Nl}static get DefaultType(){return Al}static get NAME(){return mi}show(e){if(!this._config.isVisible){Me(e);return}this._append();const n=this._getElement();this._config.isAnimated&&kt(n),n.classList.add(Ks),this._emulateAnimation(()=>{Me(e)})}hide(e){if(!this._config.isVisible){Me(e);return}this._getElement().classList.remove(Ks),this._emulateAnimation(()=>{this.dispose(),Me(e)})}dispose(){this._isAppended&&(D.off(this._element,Gs),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Cl),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Pe(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),D.on(e,Gs,()=>{Me(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){ei(e,this._getElement(),this._config.isAnimated)}}const Dl="focustrap",Ml="bs.focustrap",Xt=`.${Ml}`,Ll=`focusin${Xt}`,$l=`keydown.tab${Xt}`,Ol="Tab",xl="forward",Js="backward",kl={autofocus:!0,trapElement:null},Bl={autofocus:"boolean",trapElement:"element"};class gi extends Bt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kl}static get DefaultType(){return Bl}static get NAME(){return Dl}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,Xt),D.on(document,Ll,e=>this._handleFocusin(e)),D.on(document,$l,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,Xt))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=W.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Js?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===Ol&&(this._lastTabNavDirection=e.shiftKey?Js:xl)}}const Il="modal",Rl="bs.modal",we=`.${Rl}`,Yl=".data-api",Pl="Escape",ql=`hide${we}`,Hl=`hidePrevented${we}`,bi=`hidden${we}`,Ei=`show${we}`,Wl=`shown${we}`,Vl=`resize${we}`,Fl=`click.dismiss${we}`,zl=`mousedown.dismiss${we}`,Ul=`keydown.dismiss${we}`,Zl=`click${we}${Yl}`,Xs="modal-open",jl="fade",Qs="show",Sn="modal-static",Kl=".modal.show",Gl=".modal-dialog",Jl=".modal-body",Xl='[data-bs-toggle="modal"]',Ql={backdrop:!0,focus:!0,keyboard:!0},ec={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class j extends ye{constructor(e,n){super(e,n),this._dialog=W.findOne(Gl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rn,this._addEventListeners()}static get Default(){return Ql}static get DefaultType(){return ec}static get NAME(){return Il}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||D.trigger(this._element,Ei,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xs),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||D.trigger(this._element,ql).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Qs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])D.off(e,we);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pi({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new gi({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=W.findOne(Jl,this._dialog);n&&(n.scrollTop=0),kt(this._element),this._element.classList.add(Qs);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,Wl,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,Ul,e=>{if(e.key===Pl){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),D.on(window,Vl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,zl,e=>{D.one(this._element,Fl,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xs),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,bi)})}_isAnimated(){return this._element.classList.contains(jl)}_triggerBackdropTransition(){if(D.trigger(this._element,Hl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Sn)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Sn),this._queueCallback(()=>{this._element.classList.remove(Sn),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const r=be()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&e){const r=be()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=j.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}D.on(document,Zl,Xl,function(t){const e=$e(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),D.one(e,Ei,r=>{r.defaultPrevented||D.one(e,bi,()=>{bt(this)&&this.focus()})});const n=W.findOne(Kl);n&&j.getInstance(n).hide(),j.getOrCreateInstance(e).toggle(this)});rn(j);ve(j);const tc="offcanvas",nc="bs.offcanvas",Be=`.${nc}`,vi=".data-api",sc=`load${Be}${vi}`,rc="Escape",er="show",tr="showing",nr="hiding",ic="offcanvas-backdrop",_i=".offcanvas.show",oc=`show${Be}`,ac=`shown${Be}`,lc=`hide${Be}`,sr=`hidePrevented${Be}`,yi=`hidden${Be}`,cc=`resize${Be}`,uc=`click${Be}${vi}`,dc=`keydown.dismiss${Be}`,fc='[data-bs-toggle="offcanvas"]',hc={backdrop:!0,keyboard:!0,scroll:!1},mc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class He extends ye{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return hc}static get DefaultType(){return mc}static get NAME(){return tc}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||D.trigger(this._element,oc,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Rn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tr);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(er),this._element.classList.remove(tr),D.trigger(this._element,ac,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||D.trigger(this._element,lc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nr),this._backdrop.hide();const n=()=>{this._element.classList.remove(er,nr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Rn().reset(),D.trigger(this._element,yi)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){D.trigger(this._element,sr);return}this.hide()},n=!!this._config.backdrop;return new pi({className:ic,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new gi({trapElement:this._element})}_addEventListeners(){D.on(this._element,dc,e=>{if(e.key===rc){if(!this._config.keyboard){D.trigger(this._element,sr);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){const n=He.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}D.on(document,uc,fc,function(t){const e=$e(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),qe(this))return;D.one(e,yi,()=>{bt(this)&&this.focus()});const n=W.findOne(_i);n&&n!==e&&He.getInstance(n).hide(),He.getOrCreateInstance(e).toggle(this)});D.on(window,sc,()=>{for(const t of W.find(_i))He.getOrCreateInstance(t).show()});D.on(window,cc,()=>{for(const t of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&He.getOrCreateInstance(t).hide()});rn(He);ve(He);const pc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),gc=/^aria-[\w-]*$/i,bc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ec=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,vc=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?pc.has(n)?!!(bc.test(t.nodeValue)||Ec.test(t.nodeValue)):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))},wi={"*":["class","dir","id","lang","role",gc],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function _c(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const a of i){const l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const o=[].concat(...a.attributes),c=[].concat(e["*"]||[],e[l]||[]);for(const u of o)vc(u,c)||a.removeAttribute(u.nodeName)}return r.body.innerHTML}const yc="TemplateFactory",wc={allowList:wi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Sc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Tc={entry:"(string|element|function|null)",selector:"(string|element)"};class Cc extends Bt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return wc}static get DefaultType(){return Sc}static get NAME(){return yc}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},Tc)}_setContent(e,n,s){const r=W.findOne(s,e);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Oe(n)){this._putElementInTemplate(Pe(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(e){return this._config.sanitize?_c(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const Nc="tooltip",Ac=new Set(["sanitize","allowList","sanitizeFn"]),Tn="fade",Dc="modal",Vt="show",Mc=".tooltip-inner",rr=`.${Dc}`,ir="hide.bs.modal",Ct="hover",Cn="focus",Lc="click",$c="manual",Oc="hide",xc="hidden",kc="show",Bc="shown",Ic="inserted",Rc="click",Yc="focusin",Pc="focusout",qc="mouseenter",Hc="mouseleave",Wc={AUTO:"auto",TOP:"top",RIGHT:be()?"left":"right",BOTTOM:"bottom",LEFT:be()?"right":"left"},Vc={allowList:wi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Fc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class vt extends ye{constructor(e,n){if(typeof jr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Vc}static get DefaultType(){return Fc}static get NAME(){return Nc}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(rr),ir,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=D.trigger(this._element,this.constructor.eventName(kc)),s=(Xr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),D.trigger(this._element,this.constructor.eventName(Ic))),this._popper=this._createPopper(r),r.classList.add(Vt),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))D.on(l,"mouseover",Gt);const a=()=>{D.trigger(this._element,this.constructor.eventName(Bc)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||D.trigger(this._element,this.constructor.eventName(Oc)).defaultPrevented)return;if(this._getTipElement().classList.remove(Vt),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))D.off(r,"mouseover",Gt);this._activeTrigger[Lc]=!1,this._activeTrigger[Cn]=!1,this._activeTrigger[Ct]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName(xc)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Tn,Vt),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=Mo(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Tn),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Cc({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Mc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tn)}_isShown(){return this.tip&&this.tip.classList.contains(Vt)}_createPopper(e){const n=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,s=Wc[n.toUpperCase()];return hs(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")D.on(this._element,this.constructor.eventName(Rc),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==$c){const s=n===Ct?this.constructor.eventName(qc):this.constructor.eventName(Yc),r=n===Ct?this.constructor.eventName(Hc):this.constructor.eventName(Pc);D.on(this._element,s,this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[i.type==="focusin"?Cn:Ct]=!0,a._enter()}),D.on(this._element,r,this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[i.type==="focusout"?Cn:Ct]=a._element.contains(i.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(rr),ir,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=xe.getDataAttributes(this._element);for(const s of Object.keys(n))Ac.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Pe(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=vt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ve(vt);const zc="popover",Uc=".popover-header",Zc=".popover-body",jc={...vt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Kc={...vt.DefaultType,content:"(null|string|element|function)"};class ln extends vt{static get Default(){return jc}static get DefaultType(){return Kc}static get NAME(){return zc}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Uc]:this._getTitle(),[Zc]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=ln.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}ve(ln);const Gc="scrollspy",Jc="bs.scrollspy",bs=`.${Jc}`,Xc=".data-api",Qc=`activate${bs}`,or=`click${bs}`,eu=`load${bs}${Xc}`,tu="dropdown-item",it="active",nu='[data-bs-spy="scroll"]',Nn="[href]",su=".nav, .list-group",ar=".nav-link",ru=".nav-item",iu=".list-group-item",ou=`${ar}, ${ru} > ${ar}, ${iu}`,au=".dropdown",lu=".dropdown-toggle",cu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},uu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class cn extends ye{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cu}static get DefaultType(){return uu}static get NAME(){return Gc}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Pe(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,or),D.on(this._config.target,or,Nn,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),s=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const l=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&l){if(s(a),!r)return;continue}!i&&!l&&s(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(Nn,this._config.target);for(const n of e){if(!n.hash||qe(n))continue;const s=W.findOne(n.hash,this._element);bt(s)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(it),this._activateParents(e),D.trigger(this._element,Qc,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(tu)){W.findOne(lu,e.closest(au)).classList.add(it);return}for(const n of W.parents(e,su))for(const s of W.prev(n,ou))s.classList.add(it)}_clearActiveClass(e){e.classList.remove(it);const n=W.find(`${Nn}.${it}`,e);for(const s of n)s.classList.remove(it)}static jQueryInterface(e){return this.each(function(){const n=cn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}D.on(window,eu,()=>{for(const t of W.find(nu))cn.getOrCreateInstance(t)});ve(cn);const du="tab",fu="bs.tab",nt=`.${fu}`,hu=`hide${nt}`,mu=`hidden${nt}`,pu=`show${nt}`,gu=`shown${nt}`,bu=`click${nt}`,Eu=`keydown${nt}`,vu=`load${nt}`,_u="ArrowLeft",lr="ArrowRight",yu="ArrowUp",cr="ArrowDown",Ge="active",ur="fade",An="show",wu="dropdown",Su=".dropdown-toggle",Tu=".dropdown-menu",Dn=":not(.dropdown-toggle)",Cu='.list-group, .nav, [role="tablist"]',Nu=".nav-item, .list-group-item",Au=`.nav-link${Dn}, .list-group-item${Dn}, [role="tab"]${Dn}`,Si='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Mn=`${Au}, ${Si}`,Du=`.${Ge}[data-bs-toggle="tab"], .${Ge}[data-bs-toggle="pill"], .${Ge}[data-bs-toggle="list"]`;class et extends ye{constructor(e){super(e),this._parent=this._element.closest(Cu),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,Eu,n=>this._keydown(n)))}static get NAME(){return du}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?D.trigger(n,hu,{relatedTarget:e}):null;D.trigger(e,pu,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Ge),this._activate($e(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(An);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),D.trigger(e,gu,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(ur))}_deactivate(e,n){if(!e)return;e.classList.remove(Ge),e.blur(),this._deactivate($e(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(An);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),D.trigger(e,mu,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(ur))}_keydown(e){if(![_u,lr,yu,cr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=[lr,cr].includes(e.key),s=ms(this._getChildren().filter(r=>!qe(r)),e.target,n,!0);s&&(s.focus({preventScroll:!0}),et.getOrCreateInstance(s).show())}_getChildren(){return W.find(Mn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=$e(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(wu))return;const r=(i,a)=>{const l=W.findOne(i,s);l&&l.classList.toggle(a,n)};r(Su,Ge),r(Tu,An),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains(Ge)}_getInnerElement(e){return e.matches(Mn)?e:W.findOne(Mn,e)}_getOuterElement(e){return e.closest(Nu)||e}static jQueryInterface(e){return this.each(function(){const n=et.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}D.on(document,bu,Si,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!qe(this)&&et.getOrCreateInstance(this).show()});D.on(window,vu,()=>{for(const t of W.find(Du))et.getOrCreateInstance(t)});ve(et);const Mu="toast",Lu="bs.toast",ze=`.${Lu}`,$u=`mouseover${ze}`,Ou=`mouseout${ze}`,xu=`focusin${ze}`,ku=`focusout${ze}`,Bu=`hide${ze}`,Iu=`hidden${ze}`,Ru=`show${ze}`,Yu=`shown${ze}`,Pu="fade",dr="hide",Ft="show",zt="showing",qu={animation:"boolean",autohide:"boolean",delay:"number"},Hu={animation:!0,autohide:!0,delay:5e3};class un extends ye{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Hu}static get DefaultType(){return qu}static get NAME(){return Mu}show(){if(D.trigger(this._element,Ru).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Pu);const n=()=>{this._element.classList.remove(zt),D.trigger(this._element,Yu),this._maybeScheduleHide()};this._element.classList.remove(dr),kt(this._element),this._element.classList.add(Ft,zt),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||D.trigger(this._element,Bu).defaultPrevented)return;const n=()=>{this._element.classList.add(dr),this._element.classList.remove(zt,Ft),D.trigger(this._element,Iu)};this._element.classList.add(zt),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ft),super.dispose()}isShown(){return this._element.classList.contains(Ft)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,$u,e=>this._onInteraction(e,!0)),D.on(this._element,Ou,e=>this._onInteraction(e,!1)),D.on(this._element,xu,e=>this._onInteraction(e,!0)),D.on(this._element,ku,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}rn(un);ve(un);var ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qt={},Wu={get exports(){return Qt},set exports(t){Qt=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n=1e3,s=6e4,r=36e5,i="millisecond",a="second",l="minute",o="hour",c="day",u="week",d="month",h="quarter",f="year",g="date",m="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var A=["th","st","nd","rd"],C=$%100;return"["+$+(A[(C-20)%10]||A[C]||A[0])+"]"}},x=function($,A,C){var B=String($);return!B||B.length>=A?$:""+Array(A+1-B.length).join(C)+$},O={s:x,z:function($){var A=-$.utcOffset(),C=Math.abs(A),B=Math.floor(C/60),y=C%60;return(A<=0?"+":"-")+x(B,2,"0")+":"+x(y,2,"0")},m:function $(A,C){if(A.date()<C.date())return-$(C,A);var B=12*(C.year()-A.year())+(C.month()-A.month()),y=A.clone().add(B,d),R=C-y<0,I=A.clone().add(B+(R?-1:1),d);return+(-(B+(C-y)/(R?y-I:I-y))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:d,y:f,w:u,d:c,D:g,h:o,m:l,s:a,ms:i,Q:h}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},v="en",_={};_[v]=N;var b=function($){return $ instanceof k},S=function $(A,C,B){var y;if(!A)return v;if(typeof A=="string"){var R=A.toLowerCase();_[R]&&(y=R),C&&(_[R]=C,y=R);var I=A.split("-");if(!y&&I.length>1)return $(I[0])}else{var q=A.name;_[q]=A,y=q}return!B&&y&&(v=y),y||!B&&v},M=function($,A){if(b($))return $.clone();var C=typeof A=="object"?A:{};return C.date=$,C.args=arguments,new k(C)},w=O;w.l=S,w.i=b,w.w=function($,A){return M($,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var k=function(){function $(C){this.$L=S(C.locale,null,!0),this.parse(C)}var A=$.prototype;return A.parse=function(C){this.$d=function(B){var y=B.date,R=B.utc;if(y===null)return new Date(NaN);if(w.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var I=y.match(p);if(I){var q=I[2]-1||0,U=(I[7]||"0").substring(0,3);return R?new Date(Date.UTC(I[1],q,I[3]||1,I[4]||0,I[5]||0,I[6]||0,U)):new Date(I[1],q,I[3]||1,I[4]||0,I[5]||0,I[6]||0,U)}}return new Date(y)}(C),this.$x=C.x||{},this.init()},A.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},A.$utils=function(){return w},A.isValid=function(){return this.$d.toString()!==m},A.isSame=function(C,B){var y=M(C);return this.startOf(B)<=y&&y<=this.endOf(B)},A.isAfter=function(C,B){return M(C)<this.startOf(B)},A.isBefore=function(C,B){return this.endOf(B)<M(C)},A.$g=function(C,B,y){return w.u(C)?this[B]:this.set(y,C)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(C,B){var y=this,R=!!w.u(B)||B,I=w.p(C),q=function(ee,J){var oe=w.w(y.$u?Date.UTC(y.$y,J,ee):new Date(y.$y,J,ee),y);return R?oe:oe.endOf(c)},U=function(ee,J){return w.w(y.toDate()[ee].apply(y.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(J)),y)},Z=this.$W,H=this.$M,K=this.$D,Q="set"+(this.$u?"UTC":"");switch(I){case f:return R?q(1,0):q(31,11);case d:return R?q(1,H):q(0,H+1);case u:var ce=this.$locale().weekStart||0,ue=(Z<ce?Z+7:Z)-ce;return q(R?K-ue:K+(6-ue),H);case c:case g:return U(Q+"Hours",0);case o:return U(Q+"Minutes",1);case l:return U(Q+"Seconds",2);case a:return U(Q+"Milliseconds",3);default:return this.clone()}},A.endOf=function(C){return this.startOf(C,!1)},A.$set=function(C,B){var y,R=w.p(C),I="set"+(this.$u?"UTC":""),q=(y={},y[c]=I+"Date",y[g]=I+"Date",y[d]=I+"Month",y[f]=I+"FullYear",y[o]=I+"Hours",y[l]=I+"Minutes",y[a]=I+"Seconds",y[i]=I+"Milliseconds",y)[R],U=R===c?this.$D+(B-this.$W):B;if(R===d||R===f){var Z=this.clone().set(g,1);Z.$d[q](U),Z.init(),this.$d=Z.set(g,Math.min(this.$D,Z.daysInMonth())).$d}else q&&this.$d[q](U);return this.init(),this},A.set=function(C,B){return this.clone().$set(C,B)},A.get=function(C){return this[w.p(C)]()},A.add=function(C,B){var y,R=this;C=Number(C);var I=w.p(B),q=function(H){var K=M(R);return w.w(K.date(K.date()+Math.round(H*C)),R)};if(I===d)return this.set(d,this.$M+C);if(I===f)return this.set(f,this.$y+C);if(I===c)return q(1);if(I===u)return q(7);var U=(y={},y[l]=s,y[o]=r,y[a]=n,y)[I]||1,Z=this.$d.getTime()+C*U;return w.w(Z,this)},A.subtract=function(C,B){return this.add(-1*C,B)},A.format=function(C){var B=this,y=this.$locale();if(!this.isValid())return y.invalidDate||m;var R=C||"YYYY-MM-DDTHH:mm:ssZ",I=w.z(this),q=this.$H,U=this.$m,Z=this.$M,H=y.weekdays,K=y.months,Q=function(J,oe,pe,Se){return J&&(J[oe]||J(B,R))||pe[oe].slice(0,Se)},ce=function(J){return w.s(q%12||12,J,"0")},ue=y.meridiem||function(J,oe,pe){var Se=J<12?"AM":"PM";return pe?Se.toLowerCase():Se},ee={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Z+1,MM:w.s(Z+1,2,"0"),MMM:Q(y.monthsShort,Z,K,3),MMMM:Q(K,Z),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:Q(y.weekdaysMin,this.$W,H,2),ddd:Q(y.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(q),HH:w.s(q,2,"0"),h:ce(1),hh:ce(2),a:ue(q,U,!0),A:ue(q,U,!1),m:String(U),mm:w.s(U,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:I};return R.replace(T,function(J,oe){return oe||ee[J]||I.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(C,B,y){var R,I=w.p(B),q=M(C),U=(q.utcOffset()-this.utcOffset())*s,Z=this-q,H=w.m(this,q);return H=(R={},R[f]=H/12,R[d]=H,R[h]=H/3,R[u]=(Z-U)/6048e5,R[c]=(Z-U)/864e5,R[o]=Z/r,R[l]=Z/s,R[a]=Z/n,R)[I]||Z,y?H:w.a(H)},A.daysInMonth=function(){return this.endOf(d).$D},A.$locale=function(){return _[this.$L]},A.locale=function(C,B){if(!C)return this.$L;var y=this.clone(),R=S(C,B,!0);return R&&(y.$L=R),y},A.clone=function(){return w.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},$}(),Y=k.prototype;return M.prototype=Y,[["$ms",i],["$s",a],["$m",l],["$H",o],["$W",c],["$M",d],["$y",f],["$D",g]].forEach(function($){Y[$[1]]=function(A){return this.$g(A,$[0],$[1])}}),M.extend=function($,A){return $.$i||($(A,k,M),$.$i=!0),M},M.locale=S,M.isDayjs=b,M.unix=function($){return M(1e3*$)},M.en=_[v],M.Ls=_,M.p={},M})})(Wu);const L=Qt;window.addEventListener("load",()=>{E.check("VorgabenU")&&E.check("datenBerechnung")&&E.check("VorgabenGeld")&&Es(E.get("datenBerechnung"),E.get("VorgabenGeld"))});function Es(t,e=E.get("VorgabenGeld")){if(t===!0)return te("btnNeuBerech");Object.setPrototypeOf(e,{getMonat:function(l){let o=e[1];const c=Object.keys(e).map(Number);if(c.length>1&&l>1&&Math.max(...c.filter(u=>u<=l))>1)for(let u=2;u<=l;u++)typeof e[u]<"u"&&(o={...o,...e[u]});return o}});const n=E.get("VorgabenU").pers.TB,s=Array.from({length:12},()=>[]),r=document.querySelector("#tbodyBerechnung");if(!r)return;r.innerHTML='<tr><th rowspan="2">Bereitschaftszeiten</th></tr><tr></tr><tr><th>Bereitschaftszulage</th></tr><tr><th>LRE 1</th></tr><tr><th>LRE 2</th></tr><tr><th>LRE 3</th></tr><tr><th>Privat-PKW</th></tr><tr><th>Summe Bereitschaft</th></tr><tr><th><table class="table table-borderless m-0"><tbody>			<tr><td class="py-0">Anzahl der</td><td class="py-0">>8</td></tr>			<tr><td class="py-0">Abwesenheiten nach</td><td class="py-0">>14</td>			</tr><tr><td class="py-0">FGr-TV / LfTV / RVB</td><td class="py-0">>24</td></tr>		 </tbody></table></th></tr><tr><th><table class="table table-borderless m-0"><tbody>			<tr><td class="py-0">steuerfreie Abwesen-</td><td class="py-0">>8</td></tr>			<tr><td class="py-0">heiten § 9 EStG</td><td class="py-0">>14</td>		 </tbody></table></th></tr><tr><th>Summe EWT</th></tr><tr><th>Summe Nebenbezüge</th></tr><tr><th>Summe Gesamt</th></tr>';const i=l=>l===null?"&nbsp;":l,a=l=>{const o=Math.floor(l/60),c=Math.round(l%60);return`${o}:${c.toString().padStart(2,"0")}`};Array.from(r.children).forEach((l,o)=>{for(const[c,u]of Object.entries(t)){const d=u,h=+c,f=h-1,g=document.createElement("td");let m;switch(o){case 0:d.B.B!==0&&(g.textContent=d.B.B.toString());break;case 1:d.B.B!==0&&(g.textContent=n==="Tarifkraft"?a(d.B.B):Math.round((d.B.B-600)/8/60).toString());break;case 2:d.B.B!==0&&(s[f][0]=n==="Tarifkraft"?Math.round(d.B.B/60)*e.getMonat(h)[n]:Math.round((d.B.B-600)/8/60)*e.getMonat(h)[n],g.textContent=s[f][0].toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 3:d.B.L1!==0&&(s[f][0]+=Math.round(d.B.L1)*+e.getMonat(h).LRE1,g.textContent=(Math.round(d.B.L1)*e.getMonat(h).LRE1).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 4:d.B.L2!==0&&(s[f][0]+=Math.round(d.B.L2)*e.getMonat(h).LRE2,g.textContent=(Math.round(d.B.L2)*e.getMonat(h).LRE2).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 5:d.B.L3!==0&&(s[f][0]+=Math.round(d.B.L3)*e.getMonat(h).LRE3,g.textContent=(Math.round(d.B.L3)*e.getMonat(h).LRE3).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 6:d.B.K!==0&&(m=Math.round(d.B.K)*(n==="Tarifkraft"?e.getMonat(h).PrivatPKWTarif:e.getMonat(h).PrivatPKWBeamter),s[f][0]+=m,g.textContent=m.toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 7:s[f].length!==0?g.textContent=s[f][0].toLocaleString("de-DE",{style:"currency",currency:"EUR"}):s[f][0]||(s[f][0]=0);break;case 8:n==="Tarifkraft"&&(d.E.A8!==0&&(s[f][1]=d.E.A8*e.getMonat(h).TE8),d.E.A14!==0&&(s[f][1]+=d.E.A14*e.getMonat(h).TE14),d.E.A24!==0&&(s[f][1]+=d.E.A24*e.getMonat(h).TE24)),(d.E.A8>0||d.E.A14>0||d.E.A24>0)&&(g.innerHTML=`${i(d.E.A8)} <br />${i(d.E.A14)} <br />${i(d.E.A24)}`);break;case 9:n!=="Tarifkraft"&&(d.E.S8!==0&&(s[f][1]=d.E.S8*e.getMonat(h).BE8),d.E.S14!==0&&(s[f][1]+=d.E.S14*e.getMonat(h).BE14)),(d.E.S8>0||d.E.S14>0)&&(g.innerHTML=`${i(d.E.S8)} <br /> ${i(d.E.S14)}`),l.appendChild(g);break;case 10:s[f].length>1?g.textContent=s[f][1].toLocaleString("de-DE",{style:"currency",currency:"EUR"}):s[f][1]||(s[f][1]=0);break;case 11:d.N.F===0?s[f][2]=0:(n!=="Tarifkraft"?s[f][2]=0:s[f][2]=d.N.F*e.getMonat(h).Fahrentsch,g.textContent=s[f][2].toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break;case 12:s[f].length!==0&&(s[f][0]||s[f][1]||s[f][2])&&(g.textContent=(Number(s[f][0])+Number(s[f][1])+Number(s[f][2])).toLocaleString("de-DE",{style:"currency",currency:"EUR"}));break}l.appendChild(g)}})}var fr={},Vu={get exports(){return fr},set exports(t){fr=t}};(function(t,e){(function(n,s){t.exports=s(Qt)})(ne,function(n){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=s(n),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function a(o,c,u){var d=i[u];return Array.isArray(d)&&(d=d[c?0:1]),d.replace("%d",o)}var l={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(o){return o+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a}};return r.default.locale(l,null,!0),l})})(Vu);var Yn={},Fu={get exports(){return Yn},set exports(t){Yn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s,r){var i=s.prototype,a=function(o){var c=o.date,u=o.utc;return Array.isArray(c)?u?c.length?new Date(Date.UTC.apply(null,c)):new Date:c.length===1?r(String(c[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(c))):c},l=i.parse;i.parse=function(o){o.date=a.bind(this)(o),l.bind(this)(o)}}})})(Fu);const dn=Yn;var Pn={},zu={get exports(){return Pn},set exports(t){Pn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},o=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(p){this[m]=+p}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(p){if(!p||p==="Z")return 0;var T=p.match(/([+-]|\d\d)/g),N=60*T[1]+(+T[2]||0);return N===0?0:T[0]==="+"?-N:N}(m)}],d=function(m){var p=l[m];return p&&(p.indexOf?p:p.s.concat(p.f))},h=function(m,p){var T,N=l.meridiem;if(N){for(var x=1;x<=24;x+=1)if(m.indexOf(N(x,0,p))>-1){T=x>12;break}}else T=m===(p?"pm":"PM");return T},f={A:[a,function(m){this.afternoon=h(m,!1)}],a:[a,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[r,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[r,c("day")],Do:[a,function(m){var p=l.ordinal,T=m.match(/\d+/);if(this.day=T[0],p)for(var N=1;N<=31;N+=1)p(N).replace(/\[|\]/g,"")===m&&(this.day=N)}],M:[i,c("month")],MM:[r,c("month")],MMM:[a,function(m){var p=d("months"),T=(d("monthsShort")||p.map(function(N){return N.slice(0,3)})).indexOf(m)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[a,function(m){var p=d("months").indexOf(m)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(m){this.year=o(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function g(m){var p,T;p=m,T=l&&l.formats;for(var N=(m=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,w,k){var Y=k&&k.toUpperCase();return w||T[k]||n[k]||T[Y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,A,C){return A||C.slice(1)})})).match(s),x=N.length,O=0;O<x;O+=1){var v=N[O],_=f[v],b=_&&_[0],S=_&&_[1];N[O]=S?{regex:b,parser:S}:v.replace(/^\[|\]$/g,"")}return function(M){for(var w={},k=0,Y=0;k<x;k+=1){var $=N[k];if(typeof $=="string")Y+=$.length;else{var A=$.regex,C=$.parser,B=M.slice(Y),y=A.exec(B)[0];C.call(w,y),M=M.replace(y,"")}}return function(R){var I=R.afternoon;if(I!==void 0){var q=R.hours;I?q<12&&(R.hours+=12):q===12&&(R.hours=0),delete R.afternoon}}(w),w}}return function(m,p,T){T.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(o=m.parseTwoDigitYear);var N=p.prototype,x=N.parse;N.parse=function(O){var v=O.date,_=O.utc,b=O.args;this.$u=_;var S=b[1];if(typeof S=="string"){var M=b[2]===!0,w=b[3]===!0,k=M||w,Y=b[2];w&&(Y=b[2]),l=this.$locale(),!M&&Y&&(l=T.Ls[Y]),this.$d=function(B,y,R){try{if(["x","X"].indexOf(y)>-1)return new Date((y==="X"?1e3:1)*B);var I=g(y)(B),q=I.year,U=I.month,Z=I.day,H=I.hours,K=I.minutes,Q=I.seconds,ce=I.milliseconds,ue=I.zone,ee=new Date,J=Z||(q||U?1:ee.getDate()),oe=q||ee.getFullYear(),pe=0;q&&!U||(pe=U>0?U-1:ee.getMonth());var Se=H||0,st=K||0,wt=Q||0,St=ce||0;return ue?new Date(Date.UTC(oe,pe,J,Se,st,wt,St+60*ue.offset*1e3)):R?new Date(Date.UTC(oe,pe,J,Se,st,wt,St)):new Date(oe,pe,J,Se,st,wt,St)}catch{return new Date("")}}(v,S,_),this.init(),Y&&Y!==!0&&(this.$L=this.locale(Y).$L),k&&v!=this.format(S)&&(this.$d=new Date("")),l={}}else if(S instanceof Array)for(var $=S.length,A=1;A<=$;A+=1){b[1]=S[A-1];var C=T.apply(this,b);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}A===$&&(this.$d=new Date(""))}else x.call(this,O)}}})})(zu);const vs=Pn;var qn={},Uu={get exports(){return qn},set exports(t){qn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n,s,r=1e3,i=6e4,a=36e5,l=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:c,months:u,days:l,hours:a,minutes:i,seconds:r,milliseconds:1,weeks:6048e5},f=function(v){return v instanceof O},g=function(v,_,b){return new O(v,b,_.$l)},m=function(v){return s.p(v)+"s"},p=function(v){return v<0},T=function(v){return p(v)?Math.ceil(v):Math.floor(v)},N=function(v){return Math.abs(v)},x=function(v,_){return v?p(v)?{negative:!0,format:""+N(v)+_}:{negative:!1,format:""+v+_}:{negative:!1,format:""}},O=function(){function v(b,S,M){var w=this;if(this.$d={},this.$l=M,b===void 0&&(this.$ms=0,this.parseFromMilliseconds()),S)return g(b*h[m(S)],this);if(typeof b=="number")return this.$ms=b,this.parseFromMilliseconds(),this;if(typeof b=="object")return Object.keys(b).forEach(function($){w.$d[m($)]=b[$]}),this.calMilliseconds(),this;if(typeof b=="string"){var k=b.match(d);if(k){var Y=k.slice(2).map(function($){return $!=null?Number($):0});return this.$d.years=Y[0],this.$d.months=Y[1],this.$d.weeks=Y[2],this.$d.days=Y[3],this.$d.hours=Y[4],this.$d.minutes=Y[5],this.$d.seconds=Y[6],this.calMilliseconds(),this}}return this}var _=v.prototype;return _.calMilliseconds=function(){var b=this;this.$ms=Object.keys(this.$d).reduce(function(S,M){return S+(b.$d[M]||0)*h[M]},0)},_.parseFromMilliseconds=function(){var b=this.$ms;this.$d.years=T(b/c),b%=c,this.$d.months=T(b/u),b%=u,this.$d.days=T(b/l),b%=l,this.$d.hours=T(b/a),b%=a,this.$d.minutes=T(b/i),b%=i,this.$d.seconds=T(b/r),b%=r,this.$d.milliseconds=b},_.toISOString=function(){var b=x(this.$d.years,"Y"),S=x(this.$d.months,"M"),M=+this.$d.days||0;this.$d.weeks&&(M+=7*this.$d.weeks);var w=x(M,"D"),k=x(this.$d.hours,"H"),Y=x(this.$d.minutes,"M"),$=this.$d.seconds||0;this.$d.milliseconds&&($+=this.$d.milliseconds/1e3);var A=x($,"S"),C=b.negative||S.negative||w.negative||k.negative||Y.negative||A.negative,B=k.format||Y.format||A.format?"T":"",y=(C?"-":"")+"P"+b.format+S.format+w.format+B+k.format+Y.format+A.format;return y==="P"||y==="-P"?"P0D":y},_.toJSON=function(){return this.toISOString()},_.format=function(b){var S=b||"YYYY-MM-DDTHH:mm:ss",M={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return S.replace(o,function(w,k){return k||String(M[w])})},_.as=function(b){return this.$ms/h[m(b)]},_.get=function(b){var S=this.$ms,M=m(b);return M==="milliseconds"?S%=1e3:S=M==="weeks"?T(S/h[M]):this.$d[M],S===0?0:S},_.add=function(b,S,M){var w;return w=S?b*h[m(S)]:f(b)?b.$ms:g(b,this).$ms,g(this.$ms+w*(M?-1:1),this)},_.subtract=function(b,S){return this.add(b,S,!0)},_.locale=function(b){var S=this.clone();return S.$l=b,S},_.clone=function(){return g(this.$ms,this)},_.humanize=function(b){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!b)},_.milliseconds=function(){return this.get("milliseconds")},_.asMilliseconds=function(){return this.as("milliseconds")},_.seconds=function(){return this.get("seconds")},_.asSeconds=function(){return this.as("seconds")},_.minutes=function(){return this.get("minutes")},_.asMinutes=function(){return this.as("minutes")},_.hours=function(){return this.get("hours")},_.asHours=function(){return this.as("hours")},_.days=function(){return this.get("days")},_.asDays=function(){return this.as("days")},_.weeks=function(){return this.get("weeks")},_.asWeeks=function(){return this.as("weeks")},_.months=function(){return this.get("months")},_.asMonths=function(){return this.as("months")},_.years=function(){return this.get("years")},_.asYears=function(){return this.as("years")},v}();return function(v,_,b){n=b,s=b().$utils(),b.duration=function(w,k){var Y=b.locale();return g(w,{$l:Y},k)},b.isDuration=f;var S=_.prototype.add,M=_.prototype.subtract;_.prototype.add=function(w,k){return f(w)&&(w=w.asMilliseconds()),S.bind(this)(w,k)},_.prototype.subtract=function(w,k){return f(w)&&(w=w.asMilliseconds()),M.bind(this)(w,k)}}})})(Uu);const Ti=qn;var Hn={},Zu={get exports(){return Hn},set exports(t){Hn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n="day";return function(s,r,i){var a=function(c){return c.add(4-c.isoWeekday(),n)},l=r.prototype;l.isoWeekYear=function(){return a(this).year()},l.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),n);var u,d,h,f,g=a(this),m=(u=this.isoWeekYear(),d=this.$u,h=(d?i.utc:i)().year(u).startOf("year"),f=4-h.isoWeekday(),h.isoWeekday()>4&&(f+=7),h.add(f,n));return g.diff(m,"week")+1},l.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var o=l.startOf;l.startOf=function(c,u){var d=this.$utils(),h=!!d.u(u)||u;return d.p(c)==="isoweek"?h?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(c,u)}}})})(Zu);const Ci=Hn;var Wn={},ju={get exports(){return Wn},set exports(t){Wn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s){s.prototype.isSameOrAfter=function(r,i){return this.isSame(r,i)||this.isAfter(r,i)}}})})(ju);const Ku=Wn;var Vn={},Gu={get exports(){return Vn},set exports(t){Vn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s){s.prototype.isSameOrBefore=function(r,i){return this.isSame(r,i)||this.isBefore(r,i)}}})})(Gu);const Ju=Vn;var Fn={},Xu={get exports(){return Fn},set exports(t){Fn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,r,i){var a=r.prototype,l=a.format;i.en.formats=n,a.format=function(o){o===void 0&&(o="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,g,m){var p=m&&m.toUpperCase();return g||h[m]||n[m]||h[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,N,x){return N||x.slice(1)})})}(o,c===void 0?{}:c);return l.call(this,u)}}})})(Xu);const _s=Fn;var zn={},Qu={get exports(){return zn},set exports(t){zn=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s,r){var i=function(a,l){if(!l||!l.length||!l[0]||l.length===1&&!l[0].length)return null;var o;l.length===1&&l[0].length>0&&(l=l[0]),o=l[0];for(var c=1;c<l.length;c+=1)l[c].isValid()&&!l[c][a](o)||(o=l[c]);return o};r.max=function(){var a=[].slice.call(arguments,0);return i("isAfter",a)},r.min=function(){var a=[].slice.call(arguments,0);return i("isBefore",a)}}})})(Qu);const ed=zn;var Un={},td={get exports(){return Un},set exports(t){Un=t}};(function(t,e){(function(n,s){t.exports=s()})(ne,function(){return function(n,s){s.prototype.weekday=function(r){var i=this.$locale().weekStart||0,a=this.$W,l=(a<i?a+7:a)-i;return this.$utils().u(r)?l:this.subtract(l,"day").add(r,"day")}}})})(td);const nd=Un;/*!
 * CustomSnackbar
 *
 * Copyright 2022-2023 Jan Otto
 */class sd{constructor(e){z(this,"_Element");z(this,"_Container");z(this,"_Interval");z(this,"_Message");z(this,"_MessageWrapper");z(this,"_Options");const n=this;this._Options=a(e),this._Container=l(),o();const{_Message:s,_MessageWrapper:r,_Element:i}=c();this._Element=i,this._Message=s,this._MessageWrapper=r,this._Container.appendChild(this._Element),this._Options.timeout&&this._Options.timeout>0&&(this._Interval=setTimeout(()=>this.Close.call(this),Number(this._Options.timeout)));function a(d){return{message:d.message??"Operation performed successfully.",dismissible:d.dismissible??!0,timeout:d.timeout??5e3,status:d.status??"info",actions:d.actions??[],fixed:d.fixed??!1,position:d.position??"br",container:d.container??document.body,width:d.width,speed:d.speed,icon:d.icon}}function l(){let d=g();return d==null&&(console.warn("SnackBar: Could not find target container "+n._Options.container),d=document.body),h(d);function h(m){let p;const T=u();if(m){for(let N=0;N<m.children.length;N++)if(p=m.children.item(N),p&&p.nodeType===1&&p.classList.length>0&&p.classList.contains("CustomSnackbar-container")&&p.classList.contains(T))return p}return f(m)}function f(m){const p=document.createElement("div");return p.classList.add("CustomSnackbar-container"),n._Options.fixed&&p.classList.add("CustomSnackbar-container--fixed"),m.appendChild(p),p}function g(){return typeof n._Options.container=="string"?document.querySelector(n._Options.container):n._Options.container}}function o(){n._Container.classList.add(u());const d="CustomSnackbar-container--fixed";n._Options.fixed?n._Container.classList.add(d):n._Container.classList.remove(d)}function c(){const d=m(),{_Message:h,_MessageWrapper:f,innerSnack:g}=p();return d.appendChild(g),{_Message:h,_MessageWrapper:f,_Element:d};function m(){const b=document.createElement("div");return b.classList.add("CustomSnackbar__wrapper"),b.style.height="0px",b.style.opacity="0",b.style.marginTop="0px",b.style.marginBottom="0px",v(b),_(b),b}function p(){const b=document.createElement("div");b.classList.add("CustomSnackbar","CustomSnackbar--show"),T(b);const{_Message:S,_MessageWrapper:M}=N(b);return x(b),O(b),{_Message:S,_MessageWrapper:M,innerSnack:b}}function T(b){if(!n._Options.status)return;const S=document.createElement("span");S.classList.add("CustomSnackbar__status"),M(S),w(S),b.appendChild(S);function M(k){switch(n._Options.status){case"success":case"green":k.classList.add("CustomSnackbar--success");break;case"warning":case"alert":case"orange":k.classList.add("CustomSnackbar--warning");break;case"danger":case"error":case"red":k.classList.add("CustomSnackbar--danger");break;default:k.classList.add("CustomSnackbar--info");break}}function w(k){if(!n._Options.icon)return;const Y=document.createElement("span");switch(Y.classList.add("CustomSnackbar__icon"),n._Options.icon){case"exclamation":case"warn":case"danger":Y.innerText="!";break;case"info":case"question":case"question-mark":Y.innerText="?";break;case"plus":case"add":Y.innerText="+";break;default:n._Options.icon.length>1&&console.warn("Invalid icon character provided: ",n._Options.icon),Y.innerText=n._Options.icon.substring(0,1);break}k.appendChild(Y)}}function N(b){const S=document.createElement("div");S.classList.add("CustomSnackbar__message-wrapper");const M=document.createElement("span");return M.classList.add("CustomSnackbar__message"),M.innerHTML=n._Options.message,S.appendChild(M),b.appendChild(S),{_Message:M,_MessageWrapper:S}}function x(b){if(typeof n._Options.actions!="object")return;n._Options.actions.forEach(M=>{S(b,M)});function S(M,w){const k=document.createElement("span");k.classList.add("CustomSnackbar__action",...w.class??[]),k.textContent=w.text,typeof w.function=="function"?w.dismiss===!0?k.onclick=function(){w.function&&w.function(),n.Close.call(n)}:k.onclick=w.function:k.onclick=n.Close.bind(n),M.appendChild(k)}}function O(b){if(!n._Options.dismissible)return;const S=document.createElement("span");S.classList.add("CustomSnackbar__close"),S.innerText="×",S.onclick=n.Close.bind(n),b.appendChild(S)}function v(b){n._Options.width&&(b.style.width=String(n._Options.width))}function _(b){const{speed:S}=n._Options;switch(typeof S){case"number":b.style.transitionDuration=S+"ms";break;case"string":b.style.transitionDuration=S;break}}}function u(){switch(n._Options.position){case"bl":return"CustomSnackbar-container--bottom-left";case"tl":return"CustomSnackbar-container--top-left";case"tr":return"CustomSnackbar-container--top-right";case"tc":case"tm":return"CustomSnackbar-container--top-center";case"bc":case"bm":return"CustomSnackbar-container--bottom-center";default:return"CustomSnackbar-container--bottom-right"}}this.Open()}Open(){const n=(()=>{const r=window.getComputedStyle(this._MessageWrapper);return this._Message.scrollHeight+parseFloat(r.getPropertyValue("padding-top"))+parseFloat(r.getPropertyValue("padding-bottom"))})();this._Element.style.height=n+"px",this._Element.style.opacity="1",this._Element.style.marginTop="5px",this._Element.style.marginBottom="5px";const s=()=>{this._Element.removeEventListener("transitioned",s),this._Element.style.height="0"};return this._Element.addEventListener("transitioned",s),this}Close(){this._Interval&&clearInterval(this._Interval);const e=this._Element.scrollHeight,n=this._Element.style.transition;this._Element.style.transition="",requestAnimationFrame(()=>{this._Element.style.height=e+"px",this._Element.style.opacity="1",this._Element.style.marginTop="0px",this._Element.style.marginBottom="0px",this._Element.style.transition=n,requestAnimationFrame(()=>{this._Element.style.height="0px",this._Element.style.opacity="0"})}),setTimeout(()=>{this._Container.removeChild(this._Element)},1e3)}}const F=t=>new sd(t);/*!
 * Customtable
 *
 * Copyright 2022-2023 Jan Otto
 */class rd{constructor(e,n,s){z(this,"CustomTable");z(this,"name");z(this,"title");z(this,"breakpoints");z(this,"sortable");z(this,"sorted");z(this,"direction");z(this,"type");z(this,"parser");z(this,"classes");z(this,"visible");z(this,"editing");z(this,"index");z(this,"$el",null);if(!n.name)throw new Error("Name fehlt");if(!n.title&&!n.editing)throw new Error("Title fehlt");this.index=s,this.name=n.name,this.title=n.title,this.breakpoints=n.breakpoints,this.sortable=n.sortable,this.sorted=n.sorted,this.direction=n.direction,this.type=n.type,this.parser=n.parser,this.classes=n.classes,this.visible=n.visible,n.editing&&(this.editing=n.editing),this.CustomTable=e}}class id{constructor(e,n){z(this,"CustomTable");z(this,"array",[]);this.array=n.map((s,r)=>new rd(e,s,r)),this.CustomTable=e}}class P{constructor(e,n){z(this,"CustomTable");z(this,"columns");z(this,"cells");z(this,"$el",null);this.CustomTable=e,this.columns=e.columns,this.cells=n}deleteRow(){this.CustomTable.rows.array=this.CustomTable.rows.array.filter(e=>e!==this),this.CustomTable.drawRows()}val(e){this.cells=e,this.CustomTable.drawRows()}}class od{constructor(e,n){z(this,"CustomTable");z(this,"array",[]);this.array=n.map(s=>new P(e,s)),this.CustomTable=e}add(e){this.array.push(new P(this.CustomTable,e)),this.CustomTable.drawRows()}load(e,n=!1){n||(this.array.length=0),e.forEach(s=>this.array.push(new P(this.CustomTable,s))),this.CustomTable.drawRows()}}class _t{constructor(e,n){z(this,"$el");z(this,"table");z(this,"rows");z(this,"columns");z(this,"state");z(this,"o",{breakpoints:{xs:480,sm:576,md:768,lg:992,xl:1200,xxl:1400}});z(this,"options");if(typeof e=="string"){this.table=e;const o=document.querySelector(`#${e}`);if(!o)throw new Error("Tabelle nicht gefunden");this.$el=o}else if(e instanceof HTMLTableElement)this.table=e.id,this.$el=e;else throw new Error("Tabellen Fehler");this.$el.instance=this,this.options=i.bind(this)(n),this.state=l.bind(this)();const s=this.$el.tHead?this.$el.tHead:this.$el.createTHead(),r=this.$el.tFoot?this.$el.tFoot:this.$el.createTFoot();if(this.$el.tBodies.length===0&&this.$el.createTBody(),this.$el.classList.add("customtable",...this.options.classes),this.state.editing){const o={name:"editing",title:"",type:"editing",breakpoints:null,sortable:!1,editing:this.options.editing,classes:["customtable-editing"],visible:!0,sorted:!1,direction:null,parser:a},c=this.maxBreakpoint(this.options.columns);if(Object.values(this.o.breakpoints).includes(c)){const u=Object.values(this.o.breakpoints).indexOf(c);if(typeof u=="number"){const d=Object.keys(this.o.breakpoints)[u];o.classes.push(`customtable-toggle-${d}`)}}this.options.columns.unshift(o)}return this.columns=new id(this,this.options.columns),this.rows=new od(this,this.options.rows),this.draw(),r.childNodes.length===0&&this.$el.deleteTFoot(),s.childNodes.length===0&&this.$el.deleteTHead(),console.log(this),this;function i(o){var c,u,d,h,f,g,m,p,T,N,x,O;if(!o.columns)throw new Error("Spalten fehlen");return{columns:o.columns.map(v=>{if(!v.name)throw new Error("Spalten Name fehlt");return{name:v.name,title:v.title??"",breakpoints:v.breakpoints??null,sortable:v.sortable??!1,sorted:v.sorted??!1,direction:v.direction??null,type:v.type??"text",parser:v.parser??a,classes:v.classes??[],visible:v.visible??!0}}),rows:o.rows??[],empty:o.empty??"Keine Daten gefunden",sorting:{enabled:((c=o.sorting)==null?void 0:c.enabled)??!1},editing:{enabled:((u=o.editing)==null?void 0:u.enabled)??!1,addText:((d=o.editing)==null?void 0:d.addText)??"Neue Zeile",editText:((h=o.editing)==null?void 0:h.editText)??'<span class="material-icons-round small-icons" aria-hidden="true">edit</span>',deleteText:((f=o.editing)==null?void 0:f.deleteText)??'<span class="material-icons-round small-icons" aria-hidden="true">delete</span>',deleteAllText:((g=o.editing)==null?void 0:g.deleteAllText)??"Alle Zeilen löschen",addRow:((m=o.editing)==null?void 0:m.addRow)??function(){},editRow:((p=o.editing)==null?void 0:p.editRow)??function(){},showRow:((T=o.editing)==null?void 0:T.showRow)??function(){},deleteRow:((N=o.editing)==null?void 0:N.deleteRow)??function(){},deleteAllRows:((x=o.editing)==null?void 0:x.deleteAllRows)??this.deleteAllRows,customButton:((O=o.editing)==null?void 0:O.customButton)??null},classes:o.classes??[],customFunction:o.customFunction??null}}function a(o){switch(typeof o=="number"&&(o=o.toString()),this.type){case"text":case"number":return o;case"time":return o.length>0?o:"--:--";default:return o}}function l(){var o,c;return{sorting:((o=this.options.sorting)==null?void 0:o.enabled)??null,editing:((c=this.options.editing)==null?void 0:c.enabled)??null}}}getRows(){return this.rows.array}getArray(){return this.rows.array.map(e=>Object.values(e.cells))}draw(){var e,n;(e=this.options.customFunction)!=null&&e.beforeDraw&&this.options.customFunction.beforeDraw.call(this),this.drawHeader(),this.drawFooter(),this.drawRows(),(n=this.options.customFunction)!=null&&n.afterDraw&&this.options.customFunction.afterDraw.call(this)}drawFooter(){var s,r;(s=this.options.customFunction)!=null&&s.beforeDrawFooter&&this.options.customFunction.beforeDrawFooter.call(this);const e=this.$el.tFoot;if(e.innerHTML="",this.state.editing){const i=document.createElement("tr");i.classList.add("customtable-editing");const a=document.createElement("td");a.colSpan=this.columns.array.length+1;const l=document.createElement("div");l.classList.add("justify-content-sm-evenly");const o=n(["btn","btn-primary"],this.options.editing.addText,this.options.editing.addRow),c=n(["btn","btn-danger"],this.options.editing.deleteAllText,this.options.editing.deleteAllRows);l.appendChild(o),this.options.editing.customButton&&this.options.editing.customButton.length>0&&this.options.editing.customButton.forEach(u=>{const d=n(u.classes,u.text,u.function);l.appendChild(d)}),l.appendChild(c),a.appendChild(l),i.appendChild(a),e.appendChild(i)}(r=this.options.customFunction)!=null&&r.afterDrawFooter&&this.options.customFunction.afterDrawFooter.call(this);function n(i=["btn","btn-primary"],a="Button",l=()=>{}){const o=document.createElement("button");return o.classList.add(...i),o.innerText=a,o.title=a,o.addEventListener("click",c=>{c.stopPropagation(),c.preventDefault(),l()}),o}}drawRows(){var i,a;(i=this.options.customFunction)!=null&&i.beforeDrawRows&&this.options.customFunction.beforeDrawRows.call(this);const e=this.$el.tHead,n=this.$el.tBodies[0],s=this.$el.tFoot;n.innerHTML="";const r=this.columns.array.find(l=>l.sorted);if(r&&this.sort(r.index,r.direction),this.rows.array.length>0){for(const o of this.rows.array){const c=document.createElement("tr");o.columns.array.forEach(u=>{if(!u.visible)return;const d=document.createElement("td");if(u.editing){const h=document.createElement("div");h.classList.add("btn-group","btn-group-sm"),h.setAttribute("role","group");const f=(p,T,N,x="button")=>{const O=document.createElement("button");return O.classList.add(...p),O.innerHTML=T,O.title=x,O.addEventListener("click",v=>{v.stopPropagation(),v.preventDefault(),N(o)}),O},g=f(["btn","btn-outline-primary"],u.editing.editText,this.options.editing.editRow,"edit"),m=f(["btn","btn-outline-danger"],u.editing.deleteText,this.options.editing.deleteRow,"delete");h.append(g),h.append(m),d.appendChild(h)}else d.innerHTML=u.parser(o.cells[u.name]);u.breakpoints&&(d.dataset.breakpoints=u.breakpoints),u.classes.length>0&&d.classList.add(...u.classes),c.append(d)}),c.addEventListener("click",u=>{var d;(((d=u.view)==null?void 0:d.innerWidth)??0)>this.maxBreakpoint()||(u.stopPropagation(),this.options.editing.showRow(o))}),c.data=o,o.$el=c,n.appendChild(c)}e.style.display="";const l=s.querySelector(".btn-danger");l&&(l.style.display="")}else{const l=document.createElement("tr");l.classList.add("customtable-empty");const o=document.createElement("td");o.colSpan=this.columns.array.length+1,o.innerText=this.options.empty,l.appendChild(o),n.appendChild(l),e.style.display="none";const c=s.querySelector(".btn-danger");c&&(c.style.display="none")}(a=this.options.customFunction)!=null&&a.afterDrawRows&&this.options.customFunction.afterDrawRows.call(this)}drawHeader(){var i,a;(i=this.options.customFunction)!=null&&i.beforeDrawHeader&&this.options.customFunction.beforeDrawHeader.call(this);const e=this.$el.tHead;e.innerHTML="";const n=document.createElement("tr");n.classList.add("customtable-header","table-primary"),this.columns.array.forEach(l=>{if(!l.visible)return;const o=document.createElement("th");l.classes.length>0&&o.classList.add(...l.classes),l.classes.includes("customtable-editing")&&o.classList.remove("customtable-editing"),o.innerHTML=l.title,l.breakpoints&&(o.dataset.breakpoints=l.breakpoints),this.state.sorting&&l.sortable&&s.bind(this)(o,l),l.$el=o,n.appendChild(o)}),e.appendChild(n),(a=this.options.customFunction)!=null&&a.afterDrawHeader&&this.options.customFunction.afterDrawHeader.call(this);function s(l,o){l.classList.add("customtable-sortable");const c=document.createElement("span");c.classList.add("customtableIcon"),r.bind(this)(o,l,c),l.append(c),l.addEventListener("click",u=>{const d=u.target.closest("th");this.onSortClicked(d)})}function r(l,o,c){if(!l.sorted)return c.classList.add("customtable-sort");const u=l.direction?l.direction.toLowerCase():"asc";this.sort(l.index,u.toUpperCase()),o.classList.add(`customtable-${u}`),c.classList.add(u=="asc"?"customtable-sort-asc":"customtable-sort-desc")}}deleteAllRows(){this.rows.array.length=0,this.draw()}sort(e,n){const s={ASC:[1,-1],DESC:[-1,1],default:[1,-1]},r=this.rows.array,i=(a,l)=>{let o=a.cells[a.columns.array[e].name],c=l.cells[l.columns.array[e].name];return typeof o=="string"&&(o=o.toLowerCase()),typeof c=="string"&&(c=c.toLowerCase()),c.localeCompare(o,void 0,{numeric:!0})*(n?s[n]:s.default)[1]};r.sort(i)}onSortClicked(e){const n=this.columns.array.find(r=>r.$el==e);if(!n)throw new Error("Spalte nicht gefunden");const s=n.direction==="ASC"?"DESC":"ASC";this.columns.array.forEach(r=>{r.sorted=!1,r.direction=null}),n.direction=s,n.sorted=!0,this.draw()}breakpoints(e){return e||(e=this.columns.array),Array.from(new Set(e.map(n=>n.breakpoints).flatMap(n=>n?n.split(" "):[])))}maxBreakpoint(e=this.columns.array){return Math.max(...this.breakpoints(e).map(n=>this.o.breakpoints[n]))}}function Lt(t,e){return new _t(t,e)}const ad={NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"},hr=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];/*!
 * feiertage.js
 * @repository https://github.com/sfakir/feiertagejs
 * @docs https://github.com/sfakir/feiertagejs/blob/master/docs.md
 *
 * Copyright 2015-2021 Simon Fakir
 * Released under the MIT license
 */const ld="de";let mr=ld;const cd={de:ad};function ud(t,e){dd(e);const n=t.getFullYear(),s=ys(t);return fd(n,e).indexOf(s)!==-1}function dd(t){if(t==null)throw new Error("Region must not be undefined or null");if(hr.indexOf(t)===-1)throw new Error(`Invalid region: ${t}! Must be one of ${hr.toString()}`)}function fd(t,e){return hd(t,e).map(s=>ys(s.date))}function hd(t,e){const n=Cd(t),s=je(new Date(n.getTime()),-2),r=je(new Date(n.getTime()),1),i=je(new Date(n.getTime()),39),a=je(new Date(n.getTime()),49),l=je(new Date(n.getTime()),50),o=[...md(t),X("KARFREITAG",s),X("OSTERMONTAG",r),X("CHRISTIHIMMELFAHRT",i),X("PFINGSTMONTAG",l)];return gd(t,e,o),bd(t,e,n,a,o),Ed(e,n,o),vd(t,e,o),_d(t,e,o),yd(t,e,o),wd(t,e,o),Sd(t,e,o),Td(t,e,o),pd(t,e,o),o.sort((c,u)=>c.date.getTime()-u.date.getTime())}function md(t){return[X("NEUJAHRSTAG",ae(t,1,1)),X("TAG_DER_ARBEIT",ae(t,5,1)),X("DEUTSCHEEINHEIT",ae(t,10,3)),X("ERSTERWEIHNACHTSFEIERTAG",ae(t,12,25)),X("ZWEITERWEIHNACHTSFEIERTAG",ae(t,12,26))]}function pd(t,e,n){e==="AUGSBURG"&&n.push(X("AUGSBURGER_FRIEDENSFEST",ae(t,8,8)))}function gd(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="ST"||e==="ALL")&&n.push(X("HEILIGEDREIKOENIGE",ae(t,1,6)))}function bd(t,e,n,s,r){(e==="BB"||e==="ALL")&&r.push(X("OSTERSONNTAG",n),X("PFINGSTSONNTAG",s))}function Ed(t,e,n){if(t==="BW"||t==="BY"||t==="AUGSBURG"||t==="HE"||t==="NW"||t==="RP"||t==="SL"||t==="ALL"){const s=je(new Date(e.getTime()),60);n.push(X("FRONLEICHNAM",s))}}function vd(t,e,n){(e==="SL"||e==="BY"||e==="AUGSBURG"||e==="ALL")&&n.push(X("MARIAHIMMELFAHRT",ae(t,8,15)))}function _d(t,e,n){(t===2017||e==="NI"||e==="BB"||e==="HB"||e==="HH"||e==="MV"||e==="SN"||e==="ST"||e==="TH"||e==="SH"||e==="ALL")&&n.push(X("REFORMATIONSTAG",ae(t,10,31)))}function yd(t,e,n){(e==="BW"||e==="BY"||e==="AUGSBURG"||e==="NW"||e==="RP"||e==="SL"||e==="ALL")&&n.push(X("ALLERHEILIGEN",ae(t,11,1)))}function wd(t,e,n){if(e==="SN"||e==="ALL"){const s=Nd(t);n.push(X("BUBETAG",ae(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate())))}}function Sd(t,e,n){t>=2019&&(e==="TH"||e==="ALL")&&n.push(X("WELTKINDERTAG",ae(t,9,20)))}function Td(t,e,n){t<=2018||((e==="BE"||e==="ALL")&&n.push(X("WELTFRAUENTAG",ae(t,3,8))),e==="MV"&&t>=2023&&n.push(X("WELTFRAUENTAG",ae(t,3,8))))}function Cd(t){const e=Math.floor(t/100),n=t-19*Math.floor(t/19),s=Math.floor((e-17)/25);let r=e-Math.floor(e/4)-Math.floor((e-s)/3)+19*n+15;r-=30*Math.floor(r/30),r-=Math.floor(r/28)*(1-Math.floor(r/28)*Math.floor(29/(r+1))*Math.floor((21-n)/11));let i=t+Math.floor(t/4)+r+2-e+Math.floor(e/4);i-=7*Math.floor(i/7);const a=r-i,l=3+Math.floor((a+40)/44),o=a+28-31*Math.floor(l/4);return new Date(t,l-1,o)}function Nd(t){const e=new Date(t,11,25,12,0,0),n=32;let s=e.getDay()%7;s===0&&(s=7);const r=s+n;let i=new Date(e.getTime());return i=je(i,-r),i}function je(t,e){const n=new Date(t);return n.setDate(t.getDate()+e),n}function ae(t,e,n){return new Date(t,e-1,n)}function X(t,e){return{name:t,date:e,dateString:pr(e),trans(n=mr){return console.warn('FeiertageJs: You are using "Holiday.trans() method. This will be replaced in the next major version with translate()"'),this.translate(n)},translate(n=mr){return n==null?void 0:cd[n][this.name]},getNormalizedDate(){return ys(this.date)},equals(n){const s=pr(n);return this.dateString===s}}}function pr(t){const e=new Date(t.getTime()-t.getTimezoneOffset()*60*1e3);return e.setUTCHours(0,0,0,0),e.toISOString().slice(0,10)}function ys(t){const e=new Date(t);return e.setHours(0,0,0,0),e.getTime()}function Ie(t,e){return()=>{const n=document.createElement("div");n.className="modal-footer";const s=document.createElement("button");s.type="Submit",s.className="btn btn-primary",s.ariaLabel=e??"Hinzufügen",s.innerHTML=e??"Hinzufügen",n.appendChild(s),t&&t.forEach(i=>n.appendChild(i));const r=document.createElement("button");return r.type="button",r.className="btn btn-secondary",s.ariaLabel="Abbrechen",r.dataset.bsDismiss="modal",r.textContent="Abbrechen",n.appendChild(r),n}}function fn(){const t=document.createElement("div");t.className="modal-footer";const e=document.createElement("button");e.type="button",e.className="btn btn-primary",e.ariaLabel="editieren",e.dataset.bsDismiss="modal",e.innerHTML="Bearbeiten",e.addEventListener("click",r=>{const i=r.target.closest(".modal").row;i.CustomTable.options.editing.editRow(i)}),t.appendChild(e);const n=document.createElement("button");n.type="button",n.className="btn btn-danger",n.ariaLabel="löschen",n.dataset.bsDismiss="modal",n.innerHTML="Löschen",n.addEventListener("click",r=>{const i=r.target.closest(".modal").row;i.CustomTable.options.editing.deleteRow(i)}),t.appendChild(n);const s=document.createElement("button");return s.type="button",s.className="btn btn-secondary",s.ariaLabel="Schließen",s.dataset.bsDismiss="modal",s.textContent="Schließen",t.appendChild(s),t}function Ye(t){const e=document.createElement("div");e.className=t.divClass??"mb-1 row";const n=document.createElement("label");n.className=t.labelClass??"col-3 col-form-label text-wrap fw-bold",n.setAttribute("for",t.name),n.textContent=t.title,e.appendChild(n);const s=document.createElement("span");return s.className=t.spanClass??"col-9 align-middle text-break my-auto",s.id=t.name,s.innerHTML=String(t.text)??"&nbsp;",e.appendChild(s),e}function V(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("input");n.type=t.type,n.className="form-control validate",n.id=t.name,n.name=t.title,n.value=String(t.value),t.required&&(n.required=!0),t.disabled&&(n.disabled=!0),t.min!=null&&(n.min=String(t.min)),t.max!=null&&(n.max=String(t.max)),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function Ee(t){const e=document.createElement("div");e.className=t.divClass,t.required&&e.classList.add("required");const n=document.createElement("select");n.className="form-select validate",n.id=t.name,t.required&&(n.required=!0),t.options.forEach(r=>{const i=document.createElement("option");i.value=String(r.value),r.html?i.innerHTML=r.text:i.textContent=r.text,r.disabled&&(i.disabled=!0),r.selected&&!t.value&&(i.selected=!0),+i.value===t.value&&(i.selected=!0),n.appendChild(i)}),t.value&&(n.value=String(t.value)),t.eventListener&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-label",s.htmlFor=t.name,s.textContent=t.title,e.appendChild(s),e}function Te(t){const e=document.createElement("div");e.className=t.checkClass;const n=document.createElement("input");n.type="checkbox",n.className="form-check-input",n.id=t.id,t.status&&(n.checked=!0),t.disabled&&(n.disabled=!0),t.eventListener!=null&&n.addEventListener("change",t.eventListener),e.appendChild(n);const s=document.createElement("label");return s.className="form-check-label",s.htmlFor=t.id,s.innerHTML=t.text,e.appendChild(s),e}function Ni(){const t=document.createElement("div");return t.className="w-100",t}function _e(t){const e=document.createElement("h4");return e.className="text-center mb-1",e.innerHTML=t,e}function Le(t,e){const n=document.createElement("span");return n.className=t,n.textContent=e,n}function me(t,e,n,s,r,i=()=>a=>{throw new Error("SubmitEvent fehlt"+a)}){const a=document.querySelector("#modal");if(a===null)throw new Error("Element nicht gefunden");a.innerHTML="",a.row=null,a.role="document";const l=document.createElement("div");l.className="modal-dialog",n&&l.classList.add(`modal-${n}`);const o=e?document.createElement("form"):document.createElement("div");return e&&i&&o.addEventListener("submit",i()),o.className="modal-content",o.appendChild(c(t)),o.appendChild(s()),o.appendChild(r()),l.appendChild(o),a.appendChild(l),{modal:a,form:o};function c(u){const d=document.createElement("div");d.className="modal-header";const h=document.createElement("h5");h.className="modal-title",h.textContent=u,d.appendChild(h);const f=document.createElement("button");return f.type="button",f.className="btn-close",f.dataset.bsDismiss="modal",f.ariaLabel="Schließen",d.appendChild(f),d}}L.locale("de");L.extend(dn);L.extend(vs);L.extend(_s);L.extend(Ci);L.extend(nd);L.extend(Ti);L.extend(Ju);L.extend(Ku);L.extend(ed);const Zn={0:{Name:"B1",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:3,zeit:"07:00",Nwoche:!0},nacht:!1,beginnN:{tag:0,zeit:"19:30",Nwoche:!0},endeN:{tag:3,zeit:"06:15",Nwoche:!0},standard:!0},1:{Name:"B2",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:6,zeit:"19:45",Nwoche:!1},nacht:!1,beginnN:{tag:6,zeit:"19:45",Nwoche:!1},endeN:{tag:3,zeit:"06:15",Nwoche:!0}},2:{Name:"B1 + Nacht",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:3,zeit:"07:00",Nwoche:!0},nacht:!0,beginnN:{tag:0,zeit:"19:30",Nwoche:!0},endeN:{tag:3,zeit:"06:15",Nwoche:!0}},3:{Name:"B1 + Nacht (ab Sa)",beginnB:{tag:3,zeit:"15:45"},endeB:{tag:3,zeit:"07:00",Nwoche:!0},nacht:!0,beginnN:{tag:6,zeit:"19:45",Nwoche:!1},endeN:{tag:3,zeit:"06:15",Nwoche:!0}}};window.addEventListener("load",()=>{const t=o=>L(o).format("DD.MM.YYYY, LT"),e=o=>o||"",n=Lt("tableBZ",{columns:[{name:"beginB",title:"Von",parser:t,sortable:!0,sorted:!0,direction:"ASC"},{name:"endeB",title:"Bis",parser:t,sortable:!0},{name:"pauseB",title:"Pause",parser:e,breakpoints:"xs"}],rows:We(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const o=gr(n,"Zeitraum hinzufügen");o.row=n,new j(o).show()},editRow:o=>{const c=gr(o,"Zeitraum bearbeiten");c.row=o,new j(c).show()},showRow:o=>{const c=Er(o,"Zeitraum anzeigen");c.row=o,new j(c).show()},deleteRow:o=>{o.deleteRow(),G("tableBZ",n)},deleteAllRows:()=>{F({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{n.rows.load([]),le(!1),E.set("dataBZ",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}}),s=Lt("tableBE",{columns:[{name:"tagBE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"auftragsnummerBE",title:"Auftrags-Nr.",classes:["custom-text-truncate"]},{name:"beginBE",title:"Von",breakpoints:"sm",type:"time"},{name:"endeBE",title:"Bis",breakpoints:"sm",type:"time"},{name:"lreBE",title:"LRE"},{name:"privatkmBE",title:"Privat Km",parser:e,breakpoints:"md"}],rows:$t(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const o=br(s,"Einsatz hinzufügen");o.row=s,new j(o).show()},editRow:o=>{const c=br(o,"Einsatz bearbeiten");c.row=o,new j(c).show()},showRow:o=>{const c=Er(o,"Einsatz anzeigen");c.row=o,new j(c).show()},deleteRow:o=>{o.deleteRow(),G("tableBE",s)},deleteAllRows:()=>{F({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{s.rows.load([]),le(!1),E.set("dataBE",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}}),r=document.querySelector("#btnESZ"),i=document.querySelector("#btnESE"),a=document.querySelector("#btnSaveB"),l=document.querySelector("#btnDownloadB");r&&r.addEventListener("click",Ad),i&&i.addEventListener("click",Dd),a&&a.addEventListener("click",()=>{mn(a)}),l&&l.addEventListener("click",()=>{ws(l,"B")})});function Ad(){const{modal:t,form:e}=me("Neue Bereitschaft eingeben",!0,null,n,Ie(),s);new j(t).show();function n(){const r=document.createElement("div");r.className="modal-body row";const i=E.get("VorgabenU",{vorgabenB:Zn}),a=E.get("Monat")-1,l=E.get("Jahr"),o=i.vorgabenB?i.vorgabenB:Zn;let c="2";for(const p in o)if(o[p].standard){c=p;break}const u=Ee({divClass:"form-floating col-12 pb-3",title:"Auswahl Bereitschaft",name:"vorgabeB",value:c,options:Object.entries(o).map(p=>({value:p[0],html:!1,text:`${p[1].Name} | ${L().day(p[1].beginnB.tag).format("ddd")} - ${L().day(p[1].endeB.tag).format("ddd")} | ${p[1].nacht?`${L().day(p[1].beginnN.tag).format("ddd")} - ${L().day(p[1].endeN.tag).format("ddd")}`:"-----"}`+(p[1].standard?" | Standard":"")})),eventListener:()=>{if(!d)throw new Error("VorgabeB Input nicht gefunden");Ai(r,o[d.value])}});r.appendChild(u);const d=u.querySelector("#vorgabeB");if(!d)throw new Error("VorgabeB Input nicht gefunden");const h=d.value;let f=L([l,a,yt(l,a)]).isoWeekday(o[h].beginnB.tag);f.isSameOrBefore(L([l,a]).startOf("M"))?f=f.add(1,"w"):f.isSameOrAfter(L([l,a]).endOf("M"))&&(f=f.subtract(1,"w")),r.appendChild(document.createElement("hr")),r.appendChild(_e("Bereitschafts Anfang")),r.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bA",value:f.format("YYYY-MM-DD"),type:"Date",required:!0,min:f.startOf("M").format("YYYY-MM-DD"),max:f.endOf("M").format("YYYY-MM-DD"),eventListener:()=>{const p=r.querySelector("#bA");if(!p)throw new Error("Datum nicht gefunden");Md(r,o[d.value],L(p.value))}})),r.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"bAT",value:o[h].beginnB.zeit,type:"time",required:!0,disabled:!0})),r.appendChild(_e("Bereitschafts Ende")),r.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"bE",value:f.isoWeekday(o[h].endeB.tag).add(o[h].endeB.Nwoche?7:0,"d").format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:f.startOf("M").format("YYYY-MM-DD"),max:f.add(1,"M").endOf("M").format("YYYY-MM-DD")})),r.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"bET",value:o[h].endeB.zeit,type:"time",required:!0,disabled:!0})),r.appendChild(document.createElement("hr")),r.appendChild(Te({checkClass:"form-check form-switch bereitschaft",id:"nacht",text:"Nachtschicht",status:o[h].nacht,eventListener:()=>Di(r)}));const g=document.createElement("div");g.id="nachtschicht",g.className="row m-0 p-0",o[h].nacht||(g.style.display="none"),r.appendChild(g),g.appendChild(_e("Nacht Anfang")),g.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nA",value:f.isoWeekday(o[h].beginnN.tag).add(o[h].beginnN.Nwoche?7:0,"d").format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:f.startOf("M").format("YYYY-MM-DD"),max:f.add(1,"M").endOf("M").format("YYYY-MM-DD")})),g.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Von",name:"nAT",value:o[h].beginnN.zeit,type:"time",required:!0,disabled:!0})),g.appendChild(_e("Nacht Ende")),g.appendChild(V({divClass:"form-floating col-7 col-sm-6 pb-3",title:"Datum",name:"nE",value:f.isoWeekday(o[h].endeN.tag).add(o[h].endeN.Nwoche?7:0,"d").format("YYYY-MM-DD"),type:"Date",required:!0,disabled:!0,min:f.startOf("M").format("YYYY-MM-DD"),max:f.add(1,"M").endOf("M").format("YYYY-MM-DD")})),g.appendChild(V({divClass:"form-floating col-5 col-sm-6 pb-3",title:"Bis",name:"nET",value:o[h].endeN.zeit,type:"time",required:!0,disabled:!0}));const m=document.createElement("hr");return m.classList.add("mt-3"),r.appendChild(m),r.appendChild(Te({checkClass:"form-check form-switch bereitschaft",id:"eigen",text:"Eingabe Eigene Werte?",status:!1,eventListener:()=>{const p=r.querySelector("#bA");if(!p)throw new Error("Datum nicht gefunden");Ld(r,o[d.value],L(p.value))}})),r}function s(){return r=>{if(e instanceof HTMLFormElement&&!e.checkValidity())return;r.preventDefault(),Od(t,E.get("accessToken"));const i=document.querySelector("#tableBZ");j.getInstance(t).hide(),i&&G("tableBZ",i.instance)}}}function gr(t,e){const{modal:n,form:s}=me(e,!0,"sm",r,Ie(null,t instanceof P?"Speichern":null),i);return n;function r(){const a=document.createElement("div");if(a.className="modal-body row",t instanceof P)t.columns.array.forEach(l=>{let o,c,u;switch(l.name){case"editing":break;case"beginB":case"endeB":o=L(t.cells[l.name]),c=o.startOf("M").format("YYYY-MM-DDTHH:mm"),u=o.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),a.appendChild(V({divClass:"form-floating col-12 pb-3",title:l.title,name:l.name,value:L(t.cells[l.name]).format("YYYY-MM-DDTHH:mm"),type:"datetime-local",required:!0,min:c,max:u}));break;default:a.appendChild(V({divClass:"form-floating col-12",title:l.title,name:l.name,value:l.parser(t.cells[l.name]),type:"number",min:0,max:60}));break}});else if(t instanceof _t){const l=E.get("Monat"),o=E.get("Jahr");t.columns.array.forEach(c=>{let u,d,h;switch(c.name){case"editing":break;case"beginB":case"endeB":u=L([o,l-1,yt(o,l-1)]),d=u.startOf("M").format("YYYY-MM-DDTHH:mm"),h=u.add(1,"M").startOf("M").format("YYYY-MM-DDTHH:mm"),a.appendChild(V({divClass:"form-floating col-12 pb-3",title:c.title,name:c.name,value:null,type:"datetime-local",required:!0,min:d,max:h}));break;default:a.appendChild(V({divClass:"form-floating col-12",title:c.title,name:c.name,value:"",type:"number",min:0,max:60}));break}})}return a}function i(){return a=>{if(s instanceof HTMLDivElement||s.checkValidity&&!s.checkValidity())return;a.preventDefault();const l=n.row;if(!l)throw new Error("Row nicht gefunden");const o=l instanceof P?l.CustomTable:l,c=ef(new FormData(s),o),u={beginB:L(c.beginB).toISOString(),endeB:L(c.endeB).toISOString(),pauseB:Number(c.pauseB)};l instanceof P?l.val(u):l.rows.add(u),j.getInstance(n).hide(),G("tableBZ",o)}}}function Dd(){const{modal:t,form:e}=me("Neuen Bereitschaftseinsatz eingeben",!0,null,n,Ie(),s);new j(t).show();function n(){const r=document.createElement("div");r.className="modal-body row";const i=E.get("Jahr"),a=E.get("Monat")-1,l=L([i,a,yt(i,a)]);r.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Datum",name:"Datum",value:l.format("YYYY-MM-DD"),type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")})),r.appendChild(V({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:"SAPNR",value:"",type:"text",required:!0})),r.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Von",name:"ZeitVon",value:null,type:"time",required:!0})),r.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Bis",name:"ZeitBis",value:null,type:"time",required:!0})),r.appendChild(Ee({divClass:"form-floating col-12 col-sm-6 pb-3",title:"LRE",name:"LRE",value:null,options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),r.appendChild(Ni()),r.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:"Privat Km",name:"privatkm",value:"",type:"number",min:0}));const o=document.createElement("div");return o.className="col-12",o.appendChild(Te({checkClass:"form-check form-switch bereitschaft",id:"berZeit",text:"zusätzliche Bereitschaftszeit Eingeben?<br><small>(z.B. LRE3 Außerhalb der Bereitschaft.)</small>",status:!1})),r.appendChild(o),r}function s(){return r=>{if(e instanceof HTMLFormElement&&!e.checkValidity())return;r.preventDefault(),$d(t);const i=document.querySelector("#tableBE");j.getInstance(t).hide(),i&&G("tableBE",i.instance)}}}function br(t,e){const{modal:n,form:s}=me(e,!0,null,r,Ie(null,t instanceof P?"Speichern":null),i);return n;function r(){const a=document.createElement("div");a.className="modal-body row";let l;if(t instanceof P)l=L(t.cells.tagBE,"DD.MM.YYYY");else if(t instanceof _t){const o=E.get("Monat"),c=E.get("Jahr");l=L([c,o-1,yt(c,o-1)])}else throw new Error("unbekannter Fehler");return t.columns.array.forEach(o=>{switch(o.name){case"tagBE":a.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:o.title,name:o.name,value:l.format("YYYY-MM-DD"),type:"date",required:!0,min:l.startOf("M").format("YYYY-MM-DD"),max:l.endOf("M").format("YYYY-MM-DD")}));break;case"auftragsnummerBE":a.appendChild(V({divClass:"form-floating col-12 pb-3",title:"SAP-Nr / Einsatzbeschreibung",name:o.name,value:t instanceof P?t.cells[o.name]:"",type:"text",required:!0}));break;case"beginBE":case"endeBE":a.appendChild(V({divClass:"form-floating col-12 col-sm-6 pb-3",title:o.title,name:o.name,value:t instanceof P?t.cells[o.name]:"",type:"time",required:!0}));break;case"lreBE":a.appendChild(Ee({divClass:"form-floating col-12 col-sm-6 pb-3",title:o.title,name:o.name,value:t instanceof P?t.cells[o.name]:"",options:[{value:"",text:"Bitte Einsatz auswählen",disabled:!0,selected:!0},{value:"LRE 1",text:"LRE 1"},{value:"LRE 2",text:"LRE 2"},{value:"LRE 1/2 ohne x",text:"LRE 1/2 ohne x"},{value:"LRE 3",text:"LRE 3"},{value:"LRE 3 ohne x",text:"LRE 3 ohne x"}],required:!0})),a.appendChild(Ni());break;case"privatkmBE":a.appendChild(V({divClass:"form-floating col-12 col-sm-6",title:o.title,name:o.name,value:t instanceof P?t.cells[o.name]:"",type:"number",min:0}));break}}),a}function i(){return a=>{var u,d,h,f,g,m;if(!(s instanceof HTMLFormElement)||(a.preventDefault(),!s.checkValidity()))return;const l=n.row;if(!l)throw new Error("Row nicht gefunden");const o=l instanceof P?l.CustomTable:l,c={tagBE:L((u=s.querySelector("#tagBE"))==null?void 0:u.value).format("DD.MM.)YYYY")??"",auftragsnummerBE:((d=s.querySelector("#auftragsnummerBE"))==null?void 0:d.value)??"",beginBE:((h=s.querySelector("#beginBE"))==null?void 0:h.value)??"",endeBE:((f=s.querySelector("#endeBE"))==null?void 0:f.value)??"",lreBE:((g=s.querySelector("#lreBE"))==null?void 0:g.value)??"",privatkmBE:Number((m=s.querySelector("#privatkmBE"))==null?void 0:m.value)??0};l instanceof P?l.val(c):l.rows.add(c),j.getInstance(n).hide(),G("tableBE",o)}}}function Er(t,e){const{modal:n}=me(e,!1,"sm",s,fn);return n;function s(){const r=document.createElement("div");return r.className="modal-body",t.columns.array.forEach(i=>{i.editing||r.appendChild(Ye({divClass:"",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])}))}),r}}function We(t){if(t===void 0){if(!E.check("dataBZ"))return[];t=E.get("dataBZ")}return t===void 0?[]:t}function $t(t){if(t===void 0){if(!E.check("dataBE"))return[];t=E.get("dataBE")}return t===void 0?[]:t}function Ai(t,e,n=L((s=>(s=t.querySelector("#bA"))==null?void 0:s.value)())??null){if(!n)throw new Error("Datum nicht gefunden");const r=t.querySelector("#bA"),i=t.querySelector("#bAT"),a=t.querySelector("#bE"),l=t.querySelector("#bET"),o=t.querySelector("#nacht"),c=t.querySelector("#nA"),u=t.querySelector("#nAT"),d=t.querySelector("#nE"),h=t.querySelector("#nET");if(!r||!i||!a||!l||!o||!c||!u||!d||!h)throw new Error("Input Element nicht gefunden");r.value=n.isoWeekday(e.beginnB.tag).format("YYYY-MM-DD"),i.value=e.beginnB.zeit,a.value=n.isoWeekday(e.endeB.tag).add(e.endeB.Nwoche?7:0,"d").format("YYYY-MM-DD"),l.value=e.endeB.zeit,o.checked=e.nacht,c.value=n.isoWeekday(e.beginnN.tag).add(e.beginnN.Nwoche?7:0,"d").format("YYYY-MM-DD"),u.value=e.beginnN.zeit,d.value=n.isoWeekday(e.endeN.tag).add(e.endeN.Nwoche?7:0,"d").format("YYYY-MM-DD"),h.value=e.endeN.zeit,Di(t)}function Di(t){const e=t.querySelector("#nacht"),n=t.querySelector("#nachtschicht");e&&n&&(n.style.display=e.checked?"flex":"none")}function Md(t,e,n){const s=t.querySelector("#bE"),r=t.querySelector("#bET"),i=t.querySelector("#nA"),a=t.querySelector("#nAT"),l=t.querySelector("#nE"),o=t.querySelector("#nET");if(!s||!r||!i||!a||!l||!o)throw new Error("Element not found");s.value=n.isoWeekday(e.endeB.tag).add(e.endeB.Nwoche?7:0,"d").format("YYYY-MM-DD"),r.value=e.endeB.zeit,i.value=n.isoWeekday(e.beginnN.tag).add(e.beginnN.Nwoche?7:0,"d").format("YYYY-MM-DD"),a.value=e.beginnN.zeit,l.value=n.isoWeekday(e.endeN.tag).add(e.endeN.Nwoche?7:0,"d").format("YYYY-MM-DD"),o.value=e.endeN.zeit}function Ld(t,e,n){const s=t.querySelector("#bAT"),r=t.querySelector("#bE"),i=t.querySelector("#bET"),a=t.querySelector("#nA"),l=t.querySelector("#nAT"),o=t.querySelector("#nE"),c=t.querySelector("#nET"),u=t.querySelector("#eigen");if(!s||!r||!i||!a||!l||!o||!c||!u)throw new Error("Input Element nicht gefunden");u.checked?(s.disabled=!1,r.disabled=!1,i.disabled=!1,a.disabled=!1,l.disabled=!1,o.disabled=!1,c.disabled=!1):(s.disabled=!0,r.disabled=!0,i.disabled=!0,a.disabled=!0,l.disabled=!0,o.disabled=!0,c.disabled=!0,Ai(t,e,n))}function $d(t){Ue("btnESE");const e=t.querySelector("#Datum"),n=t.querySelector("#SAPNR"),s=t.querySelector("#ZeitVon"),r=t.querySelector("#ZeitBis"),i=t.querySelector("#LRE"),a=t.querySelector("#privatkm"),l=t.querySelector("#berZeit"),o=document.querySelector("#tableBE"),c=document.querySelector("#tableBZ");if(!e||!n||!s||!r||!i||!a||!l||!o||!c)throw new Error("Input Element nicht gefunden");const u={tagBE:L(e.value).format("DD.MM.YYYY"),auftragsnummerBE:n.value,beginBE:s.value,endeBE:r.value,lreBE:i.value,privatkmBE:Number(a.value)},d=l.checked;console.log(u);const h=o.instance;if(h.rows.add(u),G("tableBE",h),n.value="",s.value="",r.value="",a.value="",l.checked=!1,i.value="",d){u.tagBE=e.value;const f=L(`${u.tagBE}T${u.beginBE}`),g=L(`${u.tagBE}T${u.endeBE}`).isBefore(f)?L(`${u.tagBE}T${u.endeBE}`).add(1,"d"):L(`${u.tagBE}T${u.endeBE}`),m=se("tableBZ"),p=Nt(f,g,g,g,!1,m);if(!p){te("btnESE"),F({message:"Bereitschaft<br/>Zeitraum bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}E.set("dataBZ",p),c.instance.rows.load(We(p)),F({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}te("btnESE")}async function Od(t,e){Ue("btnESZ");const n=t.querySelector("#bA"),s=t.querySelector("#bAT"),r=t.querySelector("#bE"),i=t.querySelector("#bET"),a=t.querySelector("#nacht"),l=t.querySelector("#nA"),o=t.querySelector("#nAT"),c=t.querySelector("#nE"),u=t.querySelector("#nET"),d=document.querySelector("#Monat"),h=document.querySelector("#Jahr"),f=document.querySelector("#tableBZ");if(!n||!s||!r||!i||!a||!l||!o||!c||!u||!d||!h||!f)throw new Error("Input Element nicht gefunden");const g=L(`${n.value}T${s.value}`),m=L(`${r.value}T${i.value}`),p=a.checked;let T,N;p===!0?(T=L(`${l.value}T${o.value}`),N=L(`${c.value}T${u.value}`)):(T=m,N=m);const x=+d.value,O=+h.value;let v=[],_=se("tableBZ"),b=[];if(!_)throw new Error("Fehler bei Datenermittlung");if(console.log({bereitschaftsAnfang:g,bereitschaftsEnde:m,nachtAnfang:T,nachtEnde:N,nacht:p,monat:x,jahr:O,accessToken:e}),g.isSame(m,"M")||!g.isSame(m,"M")&&m.isSameOrBefore(L([O,m.month(),1,0,0])))v=Nt(g,m,T,N,p,_);else if(navigator.onLine){const S=m.month(),M=m.year(),w=L([M,S]);let k,Y,$;if(w.isBefore(T))k=N.clone(),Y=T.clone(),$=w.clone();else if(w.isAfter(N))k=N.clone(),$=w.clone(),Y=m.clone(),N=m.clone();else if(w.isAfter(T)&&w.isBefore(N))k=L([M,S,1,N.hour(),N.minute()]),Y=L([M,S,1,T.hour(),T.minute()]),$=k.clone();else throw new Error("Fehler bei Nacht und Bereitschaft");_=Nt(g,w,T,k,p,_);try{const A=await De(`${S+1}&${M}`);if(A.statusCode!=200){console.log("Fehler");return}const C=A.data.datenB.datenBZ;console.log(C),b=Nt($,m,Y,N,p,C);const B={BZ:b,Monat:S+1,Jahr:M},y=await De("saveData",B,"POST");if(y.statusCode!=200){console.log("Fehler:",y.message),F({message:"Bereitschaft<br/>Es ist ein Fehler beim Monatswechsel aufgetreten",status:"error",timeout:3e3,position:"br",fixed:!0});return}console.log(y.data),F({message:`Bereitschaft<br/>Daten für Monat ${S+1} gespeichert`,status:"success",timeout:3e3,position:"br",fixed:!0})}catch(A){console.log(A);return}console.log("Daten Monat 1",_),console.log("Daten Monat 2",b),v=_}else{F({message:"Bereitschaft<br/>Du bist Offline: <br/>Kein Monatswechsel möglich!",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",actions:[{text:"ohne wechsel fortsetzten?",function:()=>{if(!_)throw new Error("Fehler bei Datenermittlung");if(v=Nt(g,L([m.year(),m.month()]),T,N,p,_),!v){te("btnESZ"),F({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",icon:"!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}E.set("dataBZ",v),f.instance.rows.load(We(v)),te("btnESZ"),F({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})},dismiss:!0,class:["text-primary"]},{text:"Abbrechen",function:()=>{te("btnESZ")},dismiss:!0}],fixed:!0});return}if(!v){te("btnESZ"),F({message:"Bereitschaft<br/>Bereitschaftszeitraum Bereits vorhanden!",status:"warning",timeout:3e3,position:"br",fixed:!0});return}E.set("dataBZ",v),f.instance.rows.load(We(v)),te("btnESZ"),F({message:"Bereitschaft<br/>Neuer Zeitraum hinzugefügt</br>Speichern nicht vergessen!</br></br>Berechnung wird erst nach Speichern aktualisiert.",status:"success",timeout:3e3,position:"br",fixed:!0})}function Nt(t,e,n,s,r,i){console.groupCollapsed("Vorgaben"),console.log("nacht: "+r),console.log("Bereitschafts Anfang: "+t.toDate()),console.log("Bereitschafts Ende: "+e.toDate()),console.log("Nacht Anfang: "+n.toDate()),console.log("Nacht Ende: "+s.toDate()),console.groupEnd();let a,l,o,c,u,d,h,f,g,m,p,T;const N=y=>{const R=L(y,"HH:mm");return{hours:R.hour(),minutes:R.minute()}},x=E.get("VorgabenU"),O=L.duration(N(x.aZ.eT)),v=L.duration(N(x.aZ.eTF)),_=L.duration(N(x.aZ.bT)),b=10,S=30,M=45,w=L.duration({hours:8}),k=[_,_,_,_,_,w,w,_],Y=[O,O,O,O,v,w,w,O],$=[0,S,S,S,S,0,0,0],A=(y,R,I,q,U,Z)=>{console.group("B2");let H;const K=y.day();return console.log(`Wochentag Bereitschafts Anfang: ${K} --- ${y.format("dd")}`),y.isSame(R,"d")||(U===!0?H=y.add(1,"d").startOf("d").add(I[K]):H=y.add(1,"d").startOf("d").add(w),console.log(`Merker B2.1: ${H.toDate()}`)),(y.isSame(R,"d")||Z===!1)&&(q===!0?H=y.startOf("d").add(I[K===0?6:K-1]):H=y.startOf("d").add(w),console.log(`Merker B2.2: ${H.toDate()}`)),H!=null&&H.isSameOrBefore(y)&&(U===!0?H=y.add(1,"d").startOf("d").add(I[K]):H=y.add(1,"d").startOf("d").add(w),console.log(`Merker B2.3: ${H.toDate()}`)),console.groupEnd(),H},C=(y,R=0)=>(y=y.add(R,"d"),!(ud(y.toDate(),"HE")||y.isoWeekday()>5));h=C(t),console.log(`Arbeitstag Heute: ${h} --- ${t.format("dd")}`),f=C(t,1),console.log(`Arbeitstag Morgen: ${f} --- ${t.add(1,"d").format("dd")}`),c=t.clone();const B=i.length;for(;i.length<26&&t.isBefore(e);){console.groupCollapsed("Bereitschafts Ende"),u=A(t,n,k,h,f,r),console.log(`Bereitschafts Ende A: ${u.toDate()}`),d=t.add(1,"d").hour(8).minute(0),console.log(`Bereitschafts Ende B: ${d.toDate()}`),console.groupEnd(),c=L.min(u,d,n,e),console.log(`Bereitschafts Ende Merker: ${c.toDate()}`),console.groupCollapsed("Bereitschafts Anfang"),a=n.add(1,"d").hour(s.hour()).minute(s.minute()),console.log(`Bereitschafts Anfang Nacht: ${a.toDate()}`),o=A(t,n,Y,h,f,r),console.log(`Bereitschafts Anfang A: ${o.toDate()}`),console.groupEnd(),l=t.isSame(c,"d")?L.min(a,o,d):L.min(L.max(o,d),a),console.log(`Bereitschafts Anfang Merker: ${l.toDate()}`),console.groupCollapsed("Berechnung Pause"),m=t.startOf("d").add(O),g===M?g=0:g=t.isSame(m)?$[t.day()]:0,T=t.hour(s.hour()).minute(s.minute()),p=m.hour(s.hour()).add(b,"h").minute(s.minute()),(t.isSame(T)||t.isSame(p))&&(g=M),console.groupEnd(),console.log(`Pausen Zeit: ${g}`),console.log(`Eingabe Tabelle: ${t.format("L, LT")} --- ${c.format("L, LT")} --- ${g}`);const y={beginB:t.toISOString(),endeB:c.toISOString(),pauseB:g};i.some(R=>JSON.stringify(R)===JSON.stringify(y))?console.log("Bereitschaftszeitraum bereits vorhanden"):i.push(y),console.group("Übernehme Daten neuer Tag"),t=l.clone(),console.log("Bereitschafts Anfang: "+t.toDate()),t.isAfter(n)&&(n=n.add(1,"d")),console.log(`Nacht Anfang: ${n.toDate()}`),n.isAfter(s)&&!n.isSame(e)&&(n=e.clone(),r=!1),console.log(`Nacht: ${r}`),h=C(t),console.log(`Arbeitstag Heute: ${h} --- ${t.format("dd")}`),f=C(t,1),console.log(`Arbeitstag Morgen: ${f} --- ${t.add(1,"d").format("dd")}`),console.groupEnd(),r&&t.isSame(n,"d")&&(t.isSame(n,"d")&&t.isSame(o)||(console.group("Prüfen ob Ruhe nach Nacht:"),u=A(t,n,k,h,f,r),console.log(`Bereitschafts Ende A: ${u.toDate()}`),d=t.add(1,"d").startOf("d").add(w),console.log(`Bereitschafts Ende B: ${d.toDate()}`),c=L.min(u,d,n,e),console.log(`Bereitschafts Ende Merker: ${c.toDate()}`),t.isSame(n,"d")&&a.isBefore(n.subtract(10,"h"))&&c.isAfter(a.add(1,"h"))&&(a=a.add(b,"h"),console.log(`Bereitschafts Anfang Nacht: ${a.toDate()}`),t=L.max(L.min(o,d),a),console.log(`Bereitschafts Anfang: ${t.toDate()}`),h=C(t),console.log(`Arbeitstag Heute: ${h} --- ${t.format("dd")}`),f=C(t,1),console.log(`Arbeitstag Morgen: ${f} --- ${t.add(1,"d").format("dd")}`)),console.groupEnd()))}return Oi(i),B==i.length?(console.log("Keine änderung, Bereitschaft bereits vorhanden"),!1):i}L.locale("de");L.extend(dn);L.extend(vs);L.extend(_s);L.extend(Ci);L.extend(Ti);window.addEventListener("load",()=>{const t=l=>l?'<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input" checked></div>':'<div class="form-check form-switch"><input type="checkbox" class="row-checkbox form-check-input"></div>',e=l=>{switch(l){case"T":return"Tag";case"N":return"Nacht";case"BN":return"<span class='SchichtBereitschaft'>Bereitschaft<br>+ Nacht</span>";case"S":return"Sonder";default:return""}},n=Lt("tableE",{columns:[{name:"tagE",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"eOrtE",title:"Einsatzort",classes:["custom-text-truncate"],type:"text"},{name:"schichtE",title:"Schicht",parser:e,type:"time"},{name:"abWE",title:"Ab Wohnung",breakpoints:"xl",type:"time"},{name:"beginE",title:"Arbeitszeit Von",breakpoints:"md",type:"time"},{name:"ab1E",title:"Ab 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"anEE",title:"An Einsatzort",breakpoints:"lg",type:"time"},{name:"abEE",title:"Ab Einsatzort",breakpoints:"lg",type:"time"},{name:"an1E",title:"An 1.Tgk.-St.",breakpoints:"lg",type:"time"},{name:"endeE",title:"Arbeitszeit Bis",breakpoints:"md",type:"time"},{name:"anWE",title:"An Wohnung",breakpoints:"xl",type:"time"},{name:"berechnen",title:"Berechnen?",parser:t,breakpoints:"xxl"}],rows:pt(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const l=vr(n,"Anwesenheit hinzufügen");l.row=n,new j(l).show()},editRow:l=>{const o=vr(l,"Anwesenheit bearbeiten");o.row=l,new j(o).show()},showRow:l=>{const o=Bd(l,"Anwesenheit anzeigen");o.row=l,new j(o).show()},deleteRow:l=>{l.deleteRow(),G("tableE",n)},deleteAllRows:()=>{F({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{n.rows.load([]),le(!1),E.set("dataE",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})},customButton:[{classes:["btn","btn-secondary"],text:"Alle Zeiten entfernen",function:()=>{F({message:"Möchtest du wirklich alle Zeiten entfernen?<br /><small>(nur bei Zeilen die auch berechnet werden)</small>",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{const l=[...n.rows.array],o=[];l.forEach(c=>(c.cells.berechnen&&(c.cells.abWE="",c.cells.ab1E="",c.cells.anEE="",c.cells.beginE="",c.cells.endeE="",c.cells.abEE="",c.cells.an1E="",c.cells.anWE=""),o.push(c.cells))),n.rows.load(o),G("tableE",n)},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}]},customFunction:{afterDrawRows:xd}}),s=document.querySelector("#btnZb");s&&s.addEventListener("click",()=>{Rd({monat:E.get("Monat"),jahr:E.get("Jahr"),daten:E.get("dataE"),vorgabenU:E.get("VorgabenU")})});const r=document.querySelector("#btnSaveE");r&&r.addEventListener("click",()=>{mn(r)});const i=document.querySelector("#btnDownloadE");i&&i.addEventListener("click",()=>{ws(i,"E")});const a=document.querySelector("#btnESEE");a&&a.addEventListener("click",kd)});function xd(){const t=Array.from(document.querySelectorAll("#tableE .row-checkbox"));for(const e of t)e.addEventListener("click",n=>{var i;n.stopPropagation();const s=(i=e.closest("tr"))==null?void 0:i.data;if(!s)return;const r={...s.cells,berechnen:e.checked};s.val(r),G("tableE",this)})}function kd(){const{modal:t,form:e}=me("Neue Anwesenheit eingeben",!0,"sm",n,Ie(),s);jn(""),new j(t).show();function n(){const r=E.get("VorgabenU"),i=document.createElement("div");i.className="modal-body row g-2";const a=E.get("Jahr"),l=E.get("Monat")-1,o=L([a,l,1]),c=o.endOf("month").format("YYYY-MM-DD"),u=document.createElement("div"),d=document.createElement("button");return d.className="btn btn-secondary btn-lg text-start col-12",d.type="button",d.id="btnNaechsterTag",d.textContent="+1 Tag",d.addEventListener("click",h=>{h.preventDefault(),jn()}),u.appendChild(d),i.appendChild(u),i.appendChild(V({divClass:"form-floating",title:"Tag",name:"tagE",value:"",type:"date",required:!0,min:o.format("YYYY-MM-DD"),max:c})),i.appendChild(Ee({divClass:"form-floating",title:"Einsatzort",name:"EOrt",value:null,required:!1,options:[{value:"",text:"",selected:!0},...r.fZ.map(h=>({value:h.key,text:h.key}))]})),i.appendChild(Ee({divClass:"form-floating",title:"Schicht",name:"Schicht",value:"",options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}],required:!0})),i.appendChild(Te({checkClass:"form-check form-switch mt-3",id:"berechnen1",text:"Berechnen",status:!0})),i}function s(){return r=>{if(!(e instanceof HTMLFormElement)||e.checkValidity&&!e.checkValidity())return;r.preventDefault(),Pd();const i=document.querySelector("#tableE");i&&G("tableE",i.instance)}}}function vr(t,e){const{modal:n,form:s}=me(e,!0,"fullscreen-sm-down",r,Ie(i(),t instanceof P?"Speichern":null),a);return n;function r(){const l=E.get("VorgabenU"),o=document.createElement("div");o.className="modal-body row";const c=E.get("Monat")-1,u=E.get("Jahr");let d;if(t instanceof P)d=Number(t.cells.tagE);else if(t instanceof _t)d=yt(u,c);else throw new Error("unbekannter Fehler");const h=L([u,c,d]);let f;f=t.columns.array.find(m=>m.name==="tagE"),o.appendChild(V({divClass:"form-floating col-12 col-sm-5 pb-3",title:f.title,name:f.name,value:h.format("YYYY-MM-DD"),type:"date",required:!0,min:h.startOf("M").format("YYYY-MM-DD"),max:h.endOf("M").format("YYYY-MM-DD")})),f=t.columns.array.find(m=>m.name==="eOrtE"),o.appendChild(Ee({divClass:"form-floating col-12 col-sm-7 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:null,required:!1,options:[{value:"",text:"",selected:!0},...l.fZ.map(m=>({value:m.key,text:m.key}))]})),f=t.columns.array.find(m=>m.name==="schichtE"),o.appendChild(Ee({divClass:"form-floating col-12 col-sm-7 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:null,required:!0,options:[{value:"T",text:"Tag",selected:!0},{value:"N",text:"Nacht"},{value:"BN",text:"Nacht/Bereitschaft"},{value:"S",text:"Sonder"}]})),f=t.columns.array.find(m=>m.name==="berechnen"),o.appendChild(Te({checkClass:"form-check form-switch col-12 col-sm-4 pb-3",id:f.name,text:f.title,status:t instanceof P?t.cells[f.name]:!0})),o.appendChild(document.createElement("hr"));const g=document.createElement("div");return g.className="icon-ewt",o.appendChild(g),g.appendChild(Le("material-icons-round big-icons","arrow_downward")),g.appendChild(_e("Wohnung")),g.appendChild(Le("material-icons-round big-icons","arrow_upward")),f=t.columns.array.find(m=>m.name==="abWE"),o.appendChild(V({divClass:"form-floating col-6 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),f=t.columns.array.find(m=>m.name==="anWE"),o.appendChild(V({divClass:"form-floating col-6 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),o.appendChild(_e("Arbeitszeit")),f=t.columns.array.find(m=>m.name==="beginE"),o.appendChild(V({divClass:"form-floating col-6 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),f=t.columns.array.find(m=>m.name==="endeE"),o.appendChild(V({divClass:"form-floating col-6 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),o.appendChild(_e("1. Tätigkeitsstätte")),f=t.columns.array.find(m=>m.name==="ab1E"),o.appendChild(V({divClass:"form-floating col-6 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),f=t.columns.array.find(m=>m.name==="an1E"),o.appendChild(V({divClass:"form-floating col-6 pb-3",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),o.appendChild(_e("Einsatzort")),f=t.columns.array.find(m=>m.name==="anEE"),o.appendChild(V({divClass:"form-floating col-6",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),f=t.columns.array.find(m=>m.name==="abEE"),o.appendChild(V({divClass:"form-floating col-6",title:f.title,name:f.name,value:t instanceof P?t.cells[f.name]:"",type:"time"})),o}function i(){if(t instanceof P){const l=document.createElement("button");return l.type="button",l.className="btn btn-danger",l.ariaLabel="Zeiten löschen",l.innerHTML="Zeiten löschen",l.addEventListener("click",()=>Id(n)),[l]}return[]}function a(){return l=>{var d,h,f,g,m,p,T,N,x,O,v,_;if(!(s instanceof HTMLFormElement)||(l.preventDefault(),!s.checkValidity()))return;const o=n.row;if(!o)throw new Error("Row nicht gefunden");const c=o instanceof P?o.CustomTable:o,u={tagE:L((d=s.querySelector("#tagE"))==null?void 0:d.value).format("DD")??"",eOrtE:((h=s.querySelector("#eOrtE"))==null?void 0:h.value)??"",schichtE:((f=s.querySelector("#schichtE"))==null?void 0:f.value)??"",abWE:((g=s.querySelector("#abWE"))==null?void 0:g.value)??"",ab1E:((m=s.querySelector("#ab1E"))==null?void 0:m.value)??"",anEE:((p=s.querySelector("#anEE"))==null?void 0:p.value)??"",beginE:((T=s.querySelector("#beginE"))==null?void 0:T.value)??"",endeE:((N=s.querySelector("#endeE"))==null?void 0:N.value)??"",abEE:((x=s.querySelector("#abEE"))==null?void 0:x.value)??"",an1E:((O=s.querySelector("#an1E"))==null?void 0:O.value)??"",anWE:((v=s.querySelector("#anWE"))==null?void 0:v.value)??"",berechnen:((_=s.querySelector("#berechnen"))==null?void 0:_.checked)??!0};o instanceof P?o.val(u):o.rows.add(u),j.getInstance(n).hide(),G("tableE",c)}}}function Bd(t,e){const{modal:n}=me(e,!1,"sm",s,fn);return n;function s(){const r=document.createElement("div");r.className="modal-body row";let i;i=t.columns.array.find(u=>u.name==="tagE"),r.appendChild(Ye({divClass:"mb-1 col-6",labelClass:"col-5 col-form-label text-wrap fw-bold",spanClass:"col-2 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(u=>u.name==="berechnen");const a=Te({checkClass:"form-check form-switch col-5",id:i.name,text:i.title,status:(t.cells&&t.cells[i.name])??!0});a.addEventListener("click",u=>{const d=u.target.closest(".modal").row;d.cells.berechnen=u.target.checked;const h=d.CustomTable;h.drawRows(),G("tableE",h)}),r.appendChild(a),i=t.columns.array.find(u=>u.name==="eOrtE"),r.appendChild(Ye({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(u=>u.name==="schichtE"),r.appendChild(Ye({labelClass:"col-4 col-sm-5 col-form-label text-wrap fw-bold",spanClass:"col-8 col-sm-7 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),r.appendChild(document.createElement("hr"));const l=document.createElement("div");return l.className="icon-ewt-arrow",r.appendChild(l),l.appendChild(Le("material-icons-round big-icons","arrow_downward")),l.appendChild(Le("material-icons-round big-icons","arrow_upward")),r.appendChild(o({vorTitle:"ab",title:"Wohnung",nachTitle:"an"})),i=t.columns.array.find(u=>u.name==="abWE"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),i=t.columns.array.find(u=>u.name==="anWE"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),r.appendChild(o({vorTitle:"von",title:"Arbeitszeit",nachTitle:"bis"})),i=t.columns.array.find(u=>u.name==="beginE"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),i=t.columns.array.find(u=>u.name==="endeE"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),r.appendChild(o({vorTitle:"ab",title:"1. Tätigkeitsstätte",nachTitle:"an"})),i=t.columns.array.find(u=>u.name==="ab1E"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),i=t.columns.array.find(u=>u.name==="an1E"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),r.appendChild(o({vorTitle:"an",title:"Einsatzort",nachTitle:"ab"})),i=t.columns.array.find(u=>u.name==="anEE"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),i=t.columns.array.find(u=>u.name==="abEE"),r.appendChild(c({name:i.name,text:i.parser(t.cells[i.name]).toString()})),r;function o(u){const d=document.createElement("div");d.className=u.divClass??"icon-ewt";const h=document.createElement("h5");return h.className="my-1",h.textContent=u.title,d.appendChild(Le("",u.vorTitle)),d.appendChild(h),d.appendChild(Le("",u.nachTitle)),d}function c(u){const d=document.createElement("div");d.className=u.divClass??"mb-1 col-6 text-center";const h=document.createElement("span");return h.className=u.spanClass??"",h.id=u.name,h.innerHTML=u.text,d.appendChild(h),d}}}function pt(t){if(t===void 0){if(!E.check("dataE"))return[];t=E.get("dataE")}return t===void 0?[]:t}function Id(t){["abWE","ab1E","anEE","beginE","endeE","abEE","an1E","anWE"].forEach(n=>{const s=t.querySelector(`#${n}`);s&&(s.value="")})}function Rd({monat:t,jahr:e,daten:n,vorgabenU:s}){const r=o(n,e,t);Oi(r);const i=Yd(s,r,e,t);for(const c of i)if(c.berechnen){c.tagE=c.tagE.toString().padStart(2,"0");for(const[u,d]of Object.entries(c))switch(u){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":d&&(c[u]=d.format("LT"));break;default:throw new Error("Datenfehler")}}const a=document.querySelector("#tableE");if(!a)throw new Error("Tabelle nicht gefunden");const l=a.instance;console.log("save ",{ftE:l}),l.rows.load(pt(r)),G("tableE",l),F({message:"EWT<br/>Zeiten berechnet.",status:"success",timeout:3e3,position:"br",fixed:!0});function o(c,u,d){for(const h of c){if(!h.berechnen)continue;const f=Number(h.tagE);h.tagE=f.toString();for(const[g,m]of Object.entries(h))switch(g){case"tagE":case"schichtE":case"eOrtE":case"berechnen":break;case"abWE":case"ab1E":case"anEE":case"beginE":case"endeE":case"abEE":case"an1E":case"anWE":if(m){let p=f;const T=m.split(":");["endeE","abEE","an1E","anWE"].includes(g)&&["BN","N"].includes(h.schichtE)&&(p=+h.tagE-1),h[g]=L([u,d-1,p,+T[0],+T[1],0,0])}else h[g]="";break;default:throw new Error("Datenfehler")}}return c}}function Yd(t,e,n,s){let r,i,a,l,o,c,u,d;const h=t.pers.Vorname==="Ackermann"&&t.pers.Nachname==="Pascal"?L.duration(5,"m"):L.duration(0,"m"),f=m=>{const p=L(m,"HH:mm");return{hours:p.hour(),minutes:p.minute()}},g={fZ:{}};Object.entries(t.aZ).forEach(([m,p])=>{g[m]=L.duration(f(p))}),t.fZ.forEach(m=>{g.fZ[m.key]=L.duration(f(m.value))});for(const m of e){if(!m.berechnen)continue;const p=L([n,s-1,+m.tagE]);switch(m.schichtE){case"N":r=g.bN,i=g.eN.add(1,"d"),a=L.duration(45,"m"),l=a.clone();break;case"S":r=g.bS,i=g.eS,a=L.duration(20,"m"),l=a.clone();break;case"BN":r=g.bBN,i=g.eN.add(1,"d"),a=L.duration(60,"m"),l=L.duration(45,"m");break;case"T":r=g.bT,i=p.isoWeekday()===5?g.eTF:g.eT,a=L.duration(20,"m"),l=a.clone();break;default:throw new Error("Schichtfehler")}m.beginE=c=m.beginE===""?p.add(r):m.beginE,m.endeE=u=m.endeE===""?p.add(i):m.endeE,m.abWE=m.abWE===""?c.subtract(g.rZ):m.abWE,m.ab1E=o=m.ab1E===""?c.add(a):m.ab1E,m.an1E=d=m.an1E===""?u.subtract(l):m.an1E,m.anWE=m.anWE===""?u.add(g.rZ).add(h):m.anWE,m.eOrtE!==""&&(m.anEE=m.anEE===""?o.add(g.fZ[m.eOrtE]):m.anEE,m.abEE=m.abEE===""?d.subtract(g.fZ[m.eOrtE]):m.abEE)}return e}function jn(t,e=se("tableE")){var a;const n=document.querySelector("#tagE");if(!n)throw new Error("Eingabefeld für Tag nicht gefunden");const s=new Set(e.map(l=>+l.tagE)),r=L(n.max).date();let i=!1;t==null&&(t=L(n.value).date()),t==""&&(t=Math.max(...s.values())|0),typeof t=="string"&&(t=+t),s.delete(0);do if(t++,t>r&&!i)t=1,i=!0;else if(t>r&&i)throw(a=document.querySelector("#modal > div > form > div.modal-footer > button.btn.btn-primary"))==null||a.setAttribute("disabled","true"),F({message:"EWT<br/>Fehler beim Finden eines Freien Tages.",status:"error",timeout:3e3,position:"br",fixed:!0}),new Error("Fehler beim Finden eines Freien Tages");while(s.has(t));n.value=L([E.get("Jahr"),E.get("Monat")-1,t]).format("YYYY-MM-DD")}function Pd(){const t=document.querySelector("#tagE");if(t===null)throw new Error("TagE input not found");const e=`0${t.value}`.slice(-2),n=document.querySelector("#EOrt");if(n===null)throw new Error("EOrt select not found");const s=n.value,r=document.querySelector("#Schicht");if(r===null)throw new Error("Schicht select not found");const i=r.value,a=document.querySelector("#berechnen1");if(a===null)throw new Error("Berechnen input not found");const l=a.checked,o={tagE:e,eOrtE:s,schichtE:i,abWE:"",ab1E:"",anEE:"",beginE:"",endeE:"",abEE:"",an1E:"",anWE:"",berechnen:l},c=document.querySelector("#tableE");if(c===null)throw new Error("TableE not found");const u=c.instance;console.log("save ",{ftE:u}),u.rows.add(o),G("tableE",u);const d=u.getRows().map(h=>h.cells);jn(+e,d)}window.addEventListener("load",()=>{var t;(t=document.querySelector("#formEinstellungen"))==null||t.addEventListener("submit",e=>{e.stopPropagation(),e.preventDefault(),mn(document.querySelector("#btnSaveEinstellungen"))}),E.check("VorgabenU")?hn():Mi({})});function hn(t=E.get("VorgabenU")){const e=t.vorgabenB??Zn;for(const a in t.pers){const l=document.querySelector(`#${a}`),o=t.pers[a];(l instanceof HTMLInputElement||l instanceof HTMLSelectElement)&&(l.value=o.toString())}for(const a in t.aZ){const l=document.querySelector(`#${a}`),o=t.aZ[a];l instanceof HTMLInputElement&&(l.value=o)}const n=document.querySelector("#TbodyTätigkeitsstätten");if(n===null)throw new Error;n.innerHTML="";let s,r;for(const{key:a,text:l,value:o}of t.fZ){const c=n.insertRow();i(c,0,"Text",a),i(c,1,"Text",l),i(c,2,"time",o)}for(let a=0;a<3;a++){const l=n.insertRow();i(l,0,"Text",""),i(l,1,"Text",""),i(l,2,"time","")}function i(a,l,o,c){s=a.insertCell(l),r=document.createElement("input"),r.type=o,r.className="form-control text-center",r.value=c,s.appendChild(r)}Mi(e)}function Mi(t){t||(t=E.check("VorgabenU")?E.get("VorgabenU").vorgabenB:{});const e=i=>i?"Ja":"Nein",n=(i,a)=>i.Nwoche===void 0||i.Nwoche===!1?`${a} - `:`${a}+1 Woche`,s=(i,a=!0)=>{const l=a?"<br/>":" | ";switch(i.tag%7){case 1:return`Montag${n(i,l)}${l}${i.zeit}`;case 2:return`Dienstag${n(i,l)}${l}${i.zeit}`;case 3:return`Mittwoch${n(i,l)}${l}${i.zeit}`;case 4:return`Donnerstag${n(i,l)}${l}${i.zeit}`;case 5:return`Freitag${n(i,l)}${l}${i.zeit}`;case 6:return`Samstag${n(i,l)}${l}${i.zeit}`;case 0:case 7:return`Sonntag${n(i,l)}${l}${i.zeit}`;default:return""}},r=Lt("tableVE",{columns:[{name:"Name",title:"Name"},{name:"standard",title:"Standard",parser:e,breakpoints:"md"},{name:"beginnB",title:"Von",parser:s,breakpoints:"sm"},{name:"endeB",title:"Bis",parser:s,breakpoints:"sm"},{name:"nacht",title:"Nacht?",parser:e,breakpoints:"lg"},{name:"beginnN",title:"Von",parser:s,breakpoints:"lg"},{name:"endeN",title:"Bis",parser:s,breakpoints:"lg"}],rows:[...Object.values(t)],editing:{enabled:!0,addRow:()=>{const i=_r(r,"Voreinstellung hinzufügen");i.row=r,new j(i).show()},editRow:i=>{const a=_r(i,"Voreinstellung bearbeiten");a.row=i,new j(a).show()},showRow:i=>{const a=qd(i,"Voreinstellung anzeigen");a.row=i,new j(a).show()},deleteRow:i=>{i.cells.standard?F({message:"Löschen von Standard nicht möglich<br /><small>(Bitte erst neuen Standart setzten)</small>",icon:"!",status:"info",dismissible:!0,timeout:3e3,position:"br",fixed:!0}):i.deleteRow()},deleteAllRows:()=>{F({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{r.rows.load([]),le(!1)},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}})}function _r(t,e){const{modal:n,form:s}=me(e,!0,null,r,Ie(null,t instanceof P?"Speichern":null),i);return n;function r(){const a=document.createElement("div");a.className="modal-body row";let l;return l=t.columns.array.find(o=>o.name==="Name"),a.appendChild(V({divClass:"form-floating col-12 pb-3",title:l.title,name:l.name,value:t instanceof P?t.cells&&t.cells[l.name]:"",type:"text",required:!0})),l=t.columns.array.find(o=>o.name==="standard"),a.appendChild(Te({checkClass:"form-check form-switch col-12 pb-3",id:l.name,text:l.title,status:t instanceof P?t.cells&&t.cells[l.name]:!1})),a.appendChild(document.createElement("hr")),["beginnB","endeB"].forEach(o=>{l=t.columns.array.find(c=>c.name===o),a.appendChild(Ee({divClass:`form-floating col-7 col-sm-6 ${o==="beginnB"?"pb-3":""}`,title:l.title,name:`${l.name}Tag`,value:t instanceof P?t.cells&&t.cells[l.name].tag:"",required:!0,options:[{value:1,text:"Montag"},{value:2,text:"Dienstag"},{value:3,text:"Mittwoch"},{value:4,text:"Donnerstag"},{value:5,text:"Freitag"},{value:6,text:"Samstag"},{value:0,text:"Sonntag"}]})),a.appendChild(V({divClass:`form-floating col-5 col-sm-6 ${o==="beginnB"?"pb-3":""}`,type:"time",title:l.title,name:`${l.name}Zeit`,value:t instanceof P?t.cells&&t.cells[l.name].zeit:"",required:!0})),o==="endeB"&&a.appendChild(Te({checkClass:"form-check form-switch col-12 pb-3",id:`${l.name}Nwoche`,text:'+1 Woche? <span class="text-secondary text-opacity-75">(Sonntag - Samstag)</span>',status:t instanceof P?t.cells&&t.cells[l.name].Nwoche:!1}))}),a.appendChild(document.createElement("hr")),l=t.columns.array.find(o=>o.name==="nacht"),a.appendChild(Te({checkClass:"form-check form-switch col-12 pb-3",id:l.name,text:l.title,status:t instanceof P?t.cells&&t.cells[l.name]:!1})),["beginnN","endeN"].forEach(o=>{l=t.columns.array.find(c=>c.name===o),a.appendChild(Ee({divClass:"form-floating col-7 col-sm-6",title:l.title,name:`${l.name}Tag`,value:t instanceof P?t.cells&&t.cells[l.name].tag:"",required:!0,options:[{value:1,text:"Montag"},{value:2,text:"Dienstag"},{value:3,text:"Mittwoch"},{value:4,text:"Donnerstag"},{value:5,text:"Freitag"},{value:6,text:"Samstag"},{value:0,text:"Sonntag"}]})),a.appendChild(V({divClass:"form-floating col-5 col-sm-6",type:"time",title:l.title,name:`${l.name}Zeit`,value:t instanceof P?t.cells&&t.cells[l.name].zeit:"",required:!0})),a.appendChild(Te({checkClass:"form-check form-switch col-12 pb-3",id:`${l.name}Nwoche`,text:'+1 Woche? <span class="text-secondary text-opacity-75">(Sonntag - Samstag)</span>',status:t instanceof P?t.cells&&t.cells[l.name].Nwoche:!1}))}),a}function i(){return l=>{var M,w,k,Y,$,A,C,B,y,R,I,q,U,Z;if(s instanceof HTMLDivElement||s.checkValidity&&!s.checkValidity())return;l.preventDefault();const o=n.row;if(!o)throw new Error("Row nicht gefunden");const c=o instanceof P?o.CustomTable:o,u=Number(((M=s.querySelector("#beginnBTag"))==null?void 0:M.value)??NaN),d=Number(((w=s.querySelector("#endeBTag"))==null?void 0:w.value)??NaN),h=Number(((k=s.querySelector("#beginnNTag"))==null?void 0:k.value)??NaN),f=Number(((Y=s.querySelector("#endeNTag"))==null?void 0:Y.value)??NaN),g=(($=s.querySelector("#endeBNwoche"))==null?void 0:$.checked)??!1,m=((A=s.querySelector("#beginnNNwoche"))==null?void 0:A.checked)??!1,p=((C=s.querySelector("#endeNNwoche"))==null?void 0:C.checked)??!1,T=((B=s.querySelector("#beginnBZeit"))==null?void 0:B.value)??"",N=((y=s.querySelector("#endeBZeit"))==null?void 0:y.value)??"",x=((R=s.querySelector("#beginnNZeit"))==null?void 0:R.value)??"",O=((I=s.querySelector("#endeNZeit"))==null?void 0:I.value)??"",v=((q=s.querySelector("#Name"))==null?void 0:q.value)??"",_=((U=s.querySelector("#nacht"))==null?void 0:U.checked)??!1,b=((Z=s.querySelector("#standard"))==null?void 0:Z.checked)??!1,S={Name:v,beginnB:{tag:u,zeit:T},endeB:{tag:d,zeit:N,Nwoche:g},nacht:_,beginnN:{tag:h,zeit:x,Nwoche:m},endeN:{tag:f,zeit:O,Nwoche:p},standard:b?!0:void 0};if(b){let H,K;if(o instanceof P)[H,K]=[o.CustomTable,o];else if(o instanceof _t)[H,K]=[o,null];else throw new Error("CustomTable nicht gefunden");a(H,K)}o instanceof P?o.val(S):o.rows.add(S),j.getInstance(n).hide(),G("tableVE",c)};function a(l,o){const c=l.getRows();for(const u in c){const d=c[u].cells;o&&o===c[u]?(d.standard=!0,c[u].val(d)):d.standard&&(delete d.standard,c[u].val(d))}}}}function qd(t,e){const{modal:n}=me(e,!1,null,s,fn);return n;function s(){const r=document.createElement("div");r.className="modal-body row";let i;return i=t.columns.array.find(a=>a.name==="Name"),r.appendChild(Ye({divClass:"mb-1",labelClass:"col-3 col-form-label text-wrap fw-bold",spanClass:"col-9 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),i=t.columns.array.find(a=>a.name==="standard"),r.appendChild(Ye({divClass:"mb-1",labelClass:"col-3 col-form-label text-wrap fw-bold",spanClass:"col-9 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),["beginnB","endeB","nacht","beginnN","endeN"].forEach(a=>{i=t.columns.array.find(l=>l.name===a),r.appendChild(Ye({labelClass:"col-3 col-form-label text-wrap fw-bold",spanClass:"col-9 align-middle text-break my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name],!1)}))}),r}}function Hd(){var s,r;const t=E.get("VorgabenU");function e(i,a){t.pers[i]=a}for(const[i,a]of Object.entries(t.pers))e(i,a);Object.keys(t.aZ).forEach(i=>{const a=document.querySelector(`#${i}`);a&&(t.aZ[i]=a.value)}),t.fZ=n("TbodyTätigkeitsstätten"),t.pers.TB=="Tarifkraft"?((s=document.querySelector("#Neben-tab"))==null?void 0:s.parentElement).classList.remove("d-none"):((r=document.querySelector("#Neben-tab"))==null?void 0:r.parentElement).classList.add("d-none"),t.vorgabenB=Object.fromEntries(se("tableVE").entries()),E.set("VorgabenU",t);function n(i){var o;const a=(o=document.querySelector(`#${i}`))==null?void 0:o.rows;if(!a)return[];const l=[];for(const c of Array.from(a)){const u=c.children,d=u[0].children[0].value;if(!d)continue;const h=u[1].children[0].value,f=u[2].children[0].value;if(!h||!f)throw F({message:`Einstellungen > Fahrzeiten > "${d}": Beschreibung / Fahrzeit fehlt`,status:"error",timeout:3e3,position:"br",fixed:!0}),new Error("Beschreibung / Fahrzeit fehlt");l.push({key:d,text:h,value:f})}return l}}L.extend(dn);L.extend(vs);L.extend(_s);window.addEventListener("load",()=>{const t=Lt("tableN",{columns:[{name:"tagN",title:"Tag",sortable:!0,sorted:!0,direction:"ASC"},{name:"beginN",title:"Arbeit Von",type:"time"},{name:"endeN",title:"Arbeit Bis",type:"time"},{name:"beginPauseN",title:"Pause Von",breakpoints:"sm",type:"time"},{name:"endePauseN",title:"Pause Bis",breakpoints:"sm",type:"time"},{name:"dauerN",title:"Anzahl",breakpoints:"md"},{name:"nrN",title:"Zulage",breakpoints:"md"}],rows:Ot(),sorting:{enabled:!0},editing:{enabled:!0,addRow:()=>{const r=yr(t,"Nebenbezug hinzufügen");r.row=t,new j(r).show()},editRow:r=>{const i=yr(r,"Nebenbezug bearbeiten");i.row=r,new j(i).show()},showRow:r=>{const i=Vd(r,"Nebenbezug anzeigen");i.row=r,new j(i).show()},deleteRow:r=>{r.deleteRow(),G("tableN",t)},deleteAllRows:()=>{F({message:"Möchtest du wirklich alle Zeilen löschen?",icon:"question",status:"error",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Ja",function:()=>{t.rows.load([]),le(!1),E.set("dataBE",[])},dismiss:!0,class:["text-danger"]},{text:"Nein",dismiss:!0,class:["text-primary"]}]})}}}),e=document.querySelector("#btnESN");if(e)e.addEventListener("click",()=>{Wd()});else throw new Error("Button with ID 'btnESN' not found.");const n=document.querySelector("#btnSaveN");if(n)n.addEventListener("click",()=>{mn(n)});else throw new Error("Button with ID 'btnSaveN' not found.");const s=document.querySelector("#btnDownloadN");if(s)s.addEventListener("click",()=>{ws(s,"N")});else throw new Error("Button with ID 'btnDownloadN' not found.")});function Wd(){const{modal:t,form:e}=me("Neuen Nebenbezug eingeben",!0,null,n,Ie([s()]),r);new j(t).show();function n(){const i=se("tableE");if(i.length===0)throw F({message:'Keine Tage in EWT gefunden. </br></br>Bitte erst EWT ausfüllen! </br>oder Manuell über "Neue Zeile"',timeout:3e3,position:"br",fixed:!0}),new Error("'Keine Tage in EWT gefunden.");console.log(i);const a=document.createElement("div");a.className="modal-body";const l=document.createElement("p");return l.className="text-center",l.textContent="!!! Erst EWT Eingeben und Berechnen !!!",a.appendChild(l),a.appendChild(Ee({divClass:"form-floating col mb-3",title:"Tag (Aus EWT)",name:"tagN",required:!0,value:null,options:o()})),a.appendChild(Ee({divClass:"form-floating col mb-3",title:"Nebenbezug (Aktuell nur 1 möglichkeit)",name:"Nebenbezug",required:!0,value:null,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),a.appendChild(V({divClass:"form-floating col",title:"Anzahl",name:"AnzahlN",value:1,type:"number",required:!0,min:1,max:1})),a;function o(){const c=se("tableN"),u=E.get("Jahr"),d=E.get("Monat"),h=[];for(const f of i){const g=f.schichtE;let m,p,T="12:00",N="12:30";["N","BN"].includes(g)?(m=`0${+f.tagE-1}`.slice(-2),p=`${m} | ${new Date(u,d-1,+f.tagE-1).toLocaleDateString("de",{weekday:"short"})}`,T="01:00",N="01:45"):(m=`0${f.tagE}`.slice(-2),p=`${m} | ${new Date(u,d-1,+f.tagE).toLocaleDateString("de",{weekday:"short"})}`,p.includes("Fr")&&(T="",N=""));const x={};g=="N"?x.text=`${p} | Nacht`:g=="BN"?x.text=`${p} | Nacht / Bereitschaft`:x.text=p,x.value=JSON.stringify({tagN:m,beginN:f.beginE,endeN:f.endeE,beginPauseN:T,endePauseN:N,nrN:"",dauerN:0}),c&&c.forEach(O=>{Number(O.tagN)==Number(m)&&(x.disabled=!0)}),h.push(x)}return h}}function s(){const i=document.createElement("button");return i.className="btn btn-info",i.type="button",i.textContent="Manuell",i.ariaLabel="Manuell",i.dataset.bsDismiss="modal",i.addEventListener("click",()=>{const a=document.querySelector("#tableN");if(!a)throw new Error("table N nicht gefunden");a.instance.options.editing.addRow()}),i}function r(){return i=>{e instanceof HTMLFormElement&&!e.checkValidity()||(i.preventDefault(),Fd(e))}}}function yr(t,e){const{modal:n,form:s}=me(e,!0,null,r,Ie(null,t instanceof P?"Speichern":null),i);return n;function r(){const a=document.createElement("div");a.className="modal-body row";const l=E.get("Monat")-1,o=E.get("Jahr");let c;if(t instanceof P)c=t.cells.tagN;else if(t instanceof _t)c=yt(o,l);else throw new Error("unbekannter Fehler");const u=L([o,l,c]);let d;return d=t.columns.array.find(h=>h.name==="tagN"),a.appendChild(V({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:u.format("YYYY-MM-DD"),type:"date",required:!0,min:u.startOf("M").format("YYYY-MM-DD"),max:u.endOf("M").format("YYYY-MM-DD")})),a.appendChild(_e("Arbeitszeit")),["beginN","endeN"].forEach(h=>{d=t.columns.array.find(f=>f.name===h),a.appendChild(V({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof P?t.cells[d.name]:null,type:"time",required:!0}))}),a.appendChild(_e("Pause")),["beginPauseN","endePauseN"].forEach(h=>{d=t.columns.array.find(f=>f.name===h),a.appendChild(V({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof P?t.cells[d.name]:null,type:"time"}))}),a.appendChild(_e("Zulage")),d=t.columns.array.find(h=>h.name==="dauerN"),a.appendChild(V({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof P?t.cells[d.name]:1,type:"number",required:!0,min:1,max:1})),d=t.columns.array.find(h=>h.name==="nrN"),a.appendChild(Ee({divClass:"form-floating col-6 pb-3",title:d.title,name:d.name,value:t instanceof P?t.cells[d.name]:null,required:!0,options:[{value:"040 Fahrentsch.",text:"040 Fahrentsch.",selected:!0}]})),a}function i(){return a=>{var u,d,h,f,g,m,p;if(!(s instanceof HTMLFormElement)||(a.preventDefault(),!s.checkValidity()))return;const l=n.row;if(!l)throw new Error("Row nicht gefunden");const o=l instanceof P?l.CustomTable:l,c={tagN:L(((u=s.querySelector("#tagN"))==null?void 0:u.value)??0).format("DD"),beginN:((d=s.querySelector("#beginN"))==null?void 0:d.value)??"",endeN:((h=s.querySelector("#endeN"))==null?void 0:h.value)??"",beginPauseN:((f=s.querySelector("#beginPauseN"))==null?void 0:f.value)??"",endePauseN:((g=s.querySelector("#endePauseN"))==null?void 0:g.value)??"",nrN:((m=s.querySelector("#nrN"))==null?void 0:m.value)??"",dauerN:Number((p=s.querySelector("#dauerN"))==null?void 0:p.value)??0};l instanceof P?l.val(c):l.rows.add(c),j.getInstance(n).hide(),G("tableN",o)}}}function Vd(t,e){const{modal:n}=me(e,!1,"sm",s,fn);return n;function s(){const r=document.createElement("div");r.className="modal-body row";let i,a;return i=t.columns.array.find(c=>c.name==="tagN"),r.appendChild(Ye({divClass:"mb-2 col-12 text-center",labelClass:"pe-3 align-middle col-form-label text-wrap fw-bold",spanClass:"align-middle my-auto",title:`${i.title}:`,name:i.name,text:i.parser(t.cells[i.name])})),r.appendChild(l("Arbeitszeit")),i=t.columns.array.find(c=>c.name==="beginN"),a=t.columns.array.find(c=>c.name==="endeN"),r.appendChild(o({divClass:"mb-2 col-12 text-center",vorTitle:i.parser(t.cells[i.name]),title:"arrow_right_alt",nachTitle:a.parser(t.cells[a.name])})),r.appendChild(l("Pause")),i=t.columns.array.find(c=>c.name==="beginPauseN"),a=t.columns.array.find(c=>c.name==="endePauseN"),r.appendChild(o({divClass:"mb-2 text-center",vorTitle:i.parser(t.cells[i.name]),title:"arrow_right_alt",nachTitle:a.parser(t.cells[a.name])})),r.appendChild(l("Zulage")),i=t.columns.array.find(c=>c.name==="dauerN"),a=t.columns.array.find(c=>c.name==="nrN"),r.appendChild(o({divClass:"mb-2 col-12 text-center",vorTitleClass:"col-4 align-middle text-break my-auto",vorTitle:i.parser(t.cells[i.name]),titleClass:"align-middle fw-semibold mx-1",title:"X",nachTitleClass:"col-6 align-middle text-break my-auto",nachTitle:a.parser(t.cells[a.name])})),r;function l(c){const u=document.createElement("h4");return u.className="text-center mb-0",u.innerHTML=c,u}function o(c){const u=document.createElement("div");return u.className=c.divClass??"icon-ewt",u.appendChild(Le(c.vorTitleClass??"",c.vorTitle)),u.appendChild(Le(c.titleClass??"material-icons-round big-icons",c.title)),u.appendChild(Le(c.nachTitleClass??"",c.nachTitle)),u}}}function Ot(t){if(t===void 0){if(!E.check("dataN"))return[];t=E.get("dataN")}return t===void 0?[]:t}function Fd(t){const e=t.querySelector("#tagN");if(!e)throw new Error("Select element with ID 'tagN' not found");let n=e.selectedIndex;if(n<0)return;const s=JSON.parse(e.value),r=t.querySelector("#Nebenbezug");if(!r)throw new Error("Select element with ID 'Nebenbezug' not found");s.nrN=r.value;const i=t.querySelector("#AnzahlN");if(!i)throw new Error("Input element with ID 'AnzahlN' not found");for(s.dauerN=+i.value,console.log(s),e.options[n].selected=!1,e.options[n].disabled=!0,n++;n<e.length;){if(!e.options[n].disabled){e.options[n].selected=!0;break}n++}const a=document.querySelector("#tableN");if(!a)throw new Error("table N nicht gefunden");const l=a.instance;l.rows.add(s),G("tableN",l)}L.extend(dn);window.addEventListener("load",()=>{if(E.length()>3&&E.check("UserID")){const v=E.get("Benutzer");en(),F({message:`Hallo ${v},<br/>die App hat ein Update erhalten.<br/>Bitte melde dich neu an, um<br/>die neuen Funktionen zu nutzen.`,status:"info",timeout:1e4,position:"br",fixed:!0})}const t=document.querySelector("#formLogin");t&&t.addEventListener("submit",v=>{v.preventDefault(),Li()});const e=document.querySelector("#formNewUser");e&&e.addEventListener("submit",v=>{v.preventDefault(),Ud()});const n=document.querySelector("#formChangePW");n&&n.addEventListener("submit",v=>{v.preventDefault(),zd()});const s=document.querySelector("#formSelectMonatJahr");s&&s.addEventListener("submit",v=>{v.preventDefault(),Gn()});const r=document.querySelector("#btnNewUser");r&&r.addEventListener("click",()=>{const v=document.querySelector("#loginDisplay"),_=document.querySelector("#NewDisplay");v&&_&&(v.classList.add("d-none"),_.classList.remove("d-none"))});const i=document.querySelector("#btnCancelNewUser");i&&i.addEventListener("click",()=>{const v=document.querySelector("#NewDisplay"),_=document.querySelector("#loginDisplay");v&&_&&(v.classList.add("d-none"),_.classList.remove("d-none"))});const a=document.querySelector("#btnCancelChangePW");a&&a.addEventListener("click",()=>{const v=document.querySelector("#ChangeDisplay"),_=document.querySelector("#SelectDisplay");v&&_&&(v.classList.add("d-none"),_.classList.remove("d-none"))});const l=document.querySelector("#btnPasswortAEndern");l&&l.addEventListener("click",()=>{const v=document.querySelector("#SelectDisplay"),_=document.querySelector("#ChangeDisplay");v&&_&&(v.classList.add("d-none"),_.classList.remove("d-none"))});const o=document.querySelector("#btnLogout");o&&o.addEventListener("click",en);const c=document.querySelector("#Monat");c&&c.addEventListener("change",Kn);const u=document.querySelector("#Jahr");u&&u.addEventListener("change",Kn);const d=document.querySelector("#Willkommen"),h=document.querySelector("#Jahr"),f=document.querySelector("#Monat"),g=document.querySelector("#loginDisplay"),m=document.querySelector("#SelectDisplay"),p=document.querySelector("#Neben-tab");if(!p)throw new Error("Element nicht gefunden");const T=p.parentElement,N=document.querySelector("#admin"),x=document.querySelector("#navmenu"),O=document.querySelector("#btn-navmenu");if(E.check("Benutzer")&&E.check("accessToken")){const v=E.check("VorgabenU")?E.get("VorgabenU").pers.Vorname:E.get("Benutzer");d&&(d.innerHTML=`Hallo, ${v}.`),g&&g.classList.add("d-none");const _=E.get("Jahr");h&&(h.value=_.toString());const b=E.get("Monat");f&&(f.value=b.toString()),m&&m.classList.remove("d-none"),console.log("Benutzer gefunden");const S=E.get("VorgabenU");if(S&&S.pers.TB=="Tarifkraft"&&T&&T.classList.remove("d-none"),E.check("accessToken")){const M=Ss().Berechtigung;N&&M&2&&N.classList.remove("d-none")}x&&x.classList.remove("d-none"),O&&O.classList.remove("d-none"),navigator.onLine&&Gn(b,_)}});function Kn(){const t=document.querySelector("#Monat"),e=document.querySelector("#Jahr");if(t&&e&&t.value===E.get("Monat").toString()&&e.value===E.get("Jahr").toString()){le(!1),navigator.onLine||Xn(!0);return}le(!0);const n=document.querySelector("#btnAuswaehlen");navigator.onLine&&n&&(n.disabled=!1)}async function Li(t,e){var l,o,c,u,d;const n=document.querySelector("#Benutzer");if(!n)throw new Error("Benutzer Input nicht gefunden");t||(t=n.value);const s=document.querySelector("#Passwort");if(!s)throw new Error("Passwort Input nicht gefunden");e||(e=s.value);const r=document.querySelector("#btnLogin");r&&(r.disabled=!0),Ue("btnLogin");const i=document.querySelector("#errorMessage");if(!i)throw new Error("Error Nachrichtenfeld nicht gefunden");const a={Name:t,Passwort:e};try{const h=await De("login",a,"POST");if(h.statusCode==200){const{accessToken:f,refreshToken:g}=h.data;console.log({accessToken:f,refreshToken:g}),t=`${t[0].toUpperCase()}${t.substring(1)}`,E.set("Benutzer",t);const m=document.querySelector("#Willkommen");m&&(m.innerHTML=`Hallo, ${t}.`),(l=document.querySelector("#loginDisplay"))==null||l.classList.add("d-none"),(o=document.querySelector("#ChangeDisplay"))==null||o.classList.add("d-none"),(c=document.querySelector("#NewDisplay"))==null||c.classList.add("d-none"),E.set("accessToken",f),E.set("refreshToken",g);const p=L().year(),T=document.querySelector("#Jahr");T&&(T.value=p.toString());const N=L().month()+1,x=document.querySelector("#Monat");x&&(x.value=N.toString()),(u=document.querySelector("#SelectDisplay"))==null||u.classList.remove("d-none"),n.value="",s.value="",i.innerHTML="",E.check("accessToken")&&Ss().Berechtigung&2&&((d=document.querySelector("#admin"))==null||d.classList.remove("d-none")),console.log("Eingeloggt"),Gn(N,p)}else i.innerHTML=h.message}catch(h){h instanceof Error?console.log(h.message):console.log(h)}finally{te("btnLogin")}}function Gn(t,e){const n=document.querySelector("#Monat");if(!n)throw new Error("Monats Input nicht gefunden");t||(t=+n.value);const s=document.querySelector("#Jahr");if(!s)throw new Error("Jahres Input nicht gefunden");e||(e=+s.value);const r=document.querySelector("#errorMessage");if(!r)throw new Error("Error Nachrichtenfeld nicht gefunden");Ue("btnAuswaehlen"),r.innerHTML="",E.check("Jahr")&&E.check("Monat")&&(E.get("Jahr")!=e||E.get("Monat")!=t)&&E.set("monatswechsel",!0),E.set("Jahr",e),E.set("Monat",t),$i(e,t),E.check("accessToken")&&Zd(t,e)}function en(){Qn.abort(),xi(),E.clear();const t=document.querySelector("#navmenu");t&&t.classList.add("d-none");const e=document.querySelector("#btn-navmenu");e&&e.classList.add("d-none");const n=document.querySelector("#loginDisplay");n&&n.classList.remove("d-none");const s=document.querySelector("#NewDisplay");s&&s.classList.add("d-none");const r=document.querySelector("#SelectDisplay");r&&r.classList.add("d-none");const i=document.querySelector("#admin");i&&i.classList.add("d-none");const a=document.querySelector("#Neben-tab"),l=a==null?void 0:a.parentElement;a&&l&&l.classList.add("d-none");const o=document.querySelector("#Willkommen");o&&(o.innerHTML="Willkommen")}async function zd(){const t=document.querySelector("#errorMessage");if(!t)throw new Error("Fehler: errorMessage nicht gefunden!");const e=document.querySelector("#passwortOld");if(!e)throw new Error("Fehler: passwortOld InputElement nicht gefunden!");const n=e.value.trim(),s=document.querySelector("#Passwort3");if(!s)throw new Error("Fehler: Passwort3 InputElement nicht gefunden!");const r=s.value.trim(),i=document.querySelector("#Passwort4");if(!i)throw new Error("Fehler: Passwort4 InputElement nicht gefunden!");const a=i.value.trim();if(!n){t.textContent="Bitte Aktuelles Passwort Eingeben";return}if(!r){t.textContent="Bitte Neues Passwort Eingeben";return}if(!a){t.textContent="Bitte Neues Passwort wiederholen";return}if(r!=a){t.textContent="Passworter falsch wiederholt";return}if(n==r){t.textContent="Passwörter Alt und Neu sind gleich";return}Ue("btnChange");try{const o=await De("changePW",{PasswortAlt:n,PasswortNeu:r},"POST");if(o.statusCode>=400){console.log(o.message),t.innerHTML=o.message,F({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}else if(o.statusCode==200)console.log(`Passwort geändert: ${o.data}`),F({message:"Login<br/>Passwort wurde geändert.",status:"success",timeout:3e3,position:"br",fixed:!0}),t.innerHTML="";else{console.log("Fehler"),F({message:"Login<br/>Passwort konnte nicht geändert werden.",status:"error",timeout:3e3,position:"br",fixed:!0});return}const c=document.querySelector("#SelectDisplay");if(!c)throw new Error("Fehler: SelectDisplay nicht gefunden!");c.classList.remove("d-none");const u=document.querySelector("#ChangeDisplay");if(!u)throw new Error("Fehler: ChangeDisplay nicht gefunden!");u.classList.add("d-none"),e.value="",s.value="",i.value=""}catch(l){console.log(l);return}finally{te("btnChange")}}async function Ud(){const t=document.querySelector("#errorMessage");if(!t)throw new Error("errorMessage not found");const e=document.querySelector("#Zugang");if(!e||!e.value.trim()){t.textContent="Bitte Zugangscode Eingeben";return}const n=document.querySelector("#Benutzer2");if(!n||!n.value.trim()){t.textContent="Bitte Benutzername Eingeben";return}const s=document.querySelector("#Passwort1");if(!s||!s.value.trim()){t.textContent="Bitte Passwort Eingeben";return}const r=document.querySelector("#Passwort2");if(!r||!r.value.trim()){t.textContent="Bitte Passwort wiederholen";return}if(s.value!==r.value){t.textContent="Passwörter falsch wiederholt";return}Ue("btnNeu");const i={Code:e.value.trim(),Name:n.value.trim(),Passwort:s.value.trim()};try{const a=await De("add",i,"POST");if(a.statusCode>=400){console.log(a.message),t.innerHTML=a.message;return}if(a.statusCode==201)F({message:"Registrierung<br/>Benutzer erfolgreich angelegt.",status:"success",timeout:3e3,position:"br",fixed:!0});else{console.log("Fehler: ",a.message),F({message:`Registrierung <br/>Fehler bei Benutzerstellung: </br>${a.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}}catch(a){console.log(a);return}finally{te("btnNeu")}t.innerHTML="",Li(n.value,s.value),e.value="",n.value="",s.value="",r.value=""}async function Zd(t,e){var p,T,N,x,O,v,_,b;$i(e,t);let n;try{const S=await De(`${t}&${e}`);if(S.statusCode==200)n=S.data;else throw new Error(S.message)}catch(S){console.error(S),F({message:"Server <br/>Keine Verbindung zum Server oder Serverfehler.",status:"error",timeout:3e3,position:"br",fixed:!0});return}finally{te("btnAuswaehlen")}const s=n;console.log("Daten geladen: ",s);const{datenBerechnung:r,datenGeld:i}=s;let{vorgabenU:a}=s,l=s.datenB.datenBZ,o=s.datenB.datenBE,c=s.datenE,u=s.datenN;const d=[];let h=!1;E.check("monatswechsel")&&(h=!0,E.remove("monatswechsel"));let f={};E.check("dataServer")&&(f=E.get("dataServer"),console.log("Unterschiede Server - Client | Bereits vorhanden",f));const g=(S,M,w,k,Y,$=!1)=>{var A;if(!E.check(S))console.log(`${M} speichern, nicht vorhanden`),E.set(S,w),$&&((A=document.querySelector(`#${$.name}`))==null||A.instance.rows.load($.data));else if(h)console.log(`${M} speichern`),E.set(S,w);else if(!E.compare(S,w))return console.log(`${M} vorhanden & änderungen`),d.find(C=>C==Y)||d.push(Y),f[k]=w,E.get(S);return w};a=g("VorgabenU","VorgabenU",a,"vorgabenU","Persönliche Daten",{name:"tableVE",data:[...Object.values(a.vorgabenB)]});const m=document.querySelector("#Willkommen");m&&(m.innerHTML=`Hallo, ${a.pers.Vorname}.`),l=g("dataBZ","DatenBZ",l,"dataBZ","Bereitschaftszeit",{name:"tableBZ",data:We(l)}),o=g("dataBE","DatenBE",o,"dataBE","Bereitschaftseinsatz",{name:"tableBE",data:$t(o)}),c=g("dataE","DatenE",c,"dataE","EWT",{name:"tableE",data:pt(c)}),u=g("dataN","DatenN",u,"dataN","Nebenbezüge",{name:"tableN",data:Ot(u)}),E.set("datenBerechnung",r),E.set("VorgabenGeld",i),d.length>0?(Object.keys(f).length>0&&console.log("Unterschiede Server - Client",f),E.set("dataServer",f),F({message:`<b>Ungespeicherte Daten:</b> <br/>${d.join("<br/>")}`,status:"info",dismissible:!1,timeout:!1,position:"br",fixed:!0,actions:[{text:"Lokale Daten überschreiben",function:()=>{wr(),te("btnAuswaehlen"),le(!1)},dismiss:!0,class:["text-primary"]},{text:"Daten behalten",function:()=>{wr(!1),te("btnAuswaehlen"),le(!1)},dismiss:!0,class:["text-secondary"]}]})):(te("btnAuswaehlen"),le(!1)),(f.dataBZ!=null||h)&&((p=document.querySelector("#tableBZ"))==null||p.instance.rows.load(We(l))),(f.dataBE!=null||h)&&((T=document.querySelector("#tableBE"))==null||T.instance.rows.load($t(o))),(f.dataE!=null||h)&&((N=document.querySelector("#tableE"))==null||N.instance.rows.load(pt(c))),(f.dataN!=null||h)&&((x=document.querySelector("#tableN"))==null||x.instance.rows.load(Ot(u))),(f.dataVE!=null||h)&&((O=document.querySelector("#tableVE"))==null||O.instance.rows.load([...Object.values(a.vorgabenB)])),Es(r,i),hn(a),a.pers.TB=="Tarifkraft"&&((v=document.querySelector("#Neben-tab"))==null?void 0:v.parentElement).classList.remove("d-none"),(_=document.querySelector("#navmenu"))==null||_.classList.remove("d-none"),(b=document.querySelector("#btn-navmenu"))==null||b.classList.remove("d-none"),F({message:"Neue Daten geladen.",status:"success",timeout:3e3,position:"br",fixed:!0})}function $i(t,e){const n=document.querySelector("#Monat"),s=document.querySelector("#MonatB"),r=document.querySelector("#MonatE"),i=document.querySelector("#MonatN"),a=document.querySelector("#MonatBerechnung");if(!n||!s||!r||!i||!a)throw new Error("One or more elements not found.");n.value=e.toString();const l=L([+t,e-1]);s.innerText=r.innerText=i.innerText=l.format("MM / YY"),a.innerText=t.toString()}function wr(t=!0){var n,s,r,i,a;if(!t){E.remove("dataServer");return}const e=E.get("dataServer");console.log({dataServer:e}),e.vorgabenU&&(console.log("VorgabenU überschreiben"),E.set("VorgabenU",e.vorgabenU),(n=document.querySelector("#tableVE"))==null||n.instance.rows.load([...Object.values(e.vorgabenU.vorgabenB)]),hn(e.vorgabenU),delete e.vorgabenU),e.dataBZ&&(console.log("DatenBZ überschreiben"),E.set("dataBZ",e.dataBZ),(s=document.querySelector("#tableBZ"))==null||s.instance.rows.load(We(e.dataBZ)),delete e.dataBZ),e.dataBE&&(console.log("DatenBE überschreiben"),E.set("dataBE",e.dataBE),(r=document.querySelector("#tableBE"))==null||r.instance.rows.load($t(e.dataBE)),delete e.dataBE),e.dataE&&(console.log("DatenE überschreiben"),E.set("dataE",e.dataE),(i=document.querySelector("#tableE"))==null||i.instance.rows.load(pt(e.dataE)),delete e.dataE),e.dataN&&(console.log("DatenN überschreiben"),E.set("dataN",e.dataN),(a=document.querySelector("#tableN"))==null||a.instance.rows.load(Ot(e.dataN)),delete e.dataN),E.remove("dataServer")}var Jn={},jd={get exports(){return Jn},set exports(t){Jn=t}};(function(t,e){(function(n,s){s()})(ne,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function s(c,u,d){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){o(h.response,u,d)},h.onerror=function(){console.error("could not download file")},h.send()}function r(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ne=="object"&&ne.global===ne?ne:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,u,d){var h=a.URL||a.webkitURL,f=document.createElement("a");u=u||c.name||"download",f.download=u,f.rel="noopener",typeof c=="string"?(f.href=c,f.origin===location.origin?i(f):r(f.href)?s(c,u,d):i(f,f.target="_blank")):(f.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(f.href)},4e4),setTimeout(function(){i(f)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,d),u);else if(r(c))s(c,u,d);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){i(h)})}}:function(c,u,d,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return s(c,u,d);var f=c.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||f&&g||l)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var x=p.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=x:location=x,h=null},p.readAsDataURL(c)}else{var T=a.URL||a.webkitURL,N=T.createObjectURL(c);h?h.location=N:location.href=N,h=null,setTimeout(function(){T.revokeObjectURL(N)},4e4)}});a.saveAs=o.saveAs=o,t.exports=o})})(jd);const E={set:(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},get:(t,e=null)=>{const n=localStorage.getItem(t);return n?Kd(n)?JSON.parse(n):Gd(t,n):e},remove:t=>{localStorage.removeItem(t)},clear:()=>{localStorage.clear()},check:t=>!!localStorage.getItem(t),length:()=>localStorage.length,compare:(t,e)=>localStorage.getItem(t)===JSON.stringify(e)};function Kd(t){try{JSON.parse(t)}catch{return!1}return!0}function Gd(t,e){return E.set(t,e),e}window.addEventListener("load",()=>{Jd("localStorage")||F({message:"Bitte Cookies zulassen!",dismissible:!0,status:"error",timeout:!1,position:"tc",fixed:!1});let t;navigator.onLine||e(),window.addEventListener("offline",()=>{e()});function e(){Xn(!0),t=F({message:"Du bist offline",icon:"!",dismissible:!1,status:"error",timeout:!1,position:"tc",fixed:!0}),window.addEventListener("online",()=>{Xn(!1),Kn(),t.Close(),F({message:"Du bist wieder online",dismissible:!1,status:"info",timeout:2e3,position:"tc",fixed:!0})},{once:!0})}if(E.check("accessToken")){const n=document.location.toString();if(n.match("#")){const s=n.split("#")[1];console.log(s);const r=document.querySelector(`#${s}-tab`);r instanceof HTMLButtonElement&&(console.log(r),et.getOrCreateInstance(r).show(),window.scrollTo(0,1))}}Array.from(document.querySelectorAll('[data-bs-toggle="popover"]')).forEach(n=>new ln(n))});const Sr="https://web-app-rn6h2lgzma-ey.a.run.app/api/v1",Jd=t=>{let e;try{e=window[t];const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(n){return e?n instanceof DOMException&&(n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0:!1}};async function ws(t,e){if(t===null)return;Ue(t.id),le(!0);const n=document.querySelector("#Monat"),s=document.querySelector("#Jahr");if(!n||!s)throw new Error("Input Element nicht gefunden");const r=E.get("VorgabenGeld");Object.setPrototypeOf(r,{getMonat:function(o){let c=r[1];const u=Object.keys(r).map(Number);if(u.length>1&&o>1&&Math.max(...u.filter(d=>d<=o))>1)for(let d=2;d<=o;d++)typeof r[d]<"u"&&(c={...c,...r[d]});return c}});const i=+n.value,a=+s.value,l={VorgabenU:E.get("VorgabenU"),VorgabenGeld:r.getMonat(i),Daten:{},Monat:i,Jahr:a};switch(e){case"B":l.Daten.BZ=se("tableBZ"),l.Daten.BE=se("tableBE");break;case"E":l.Daten.EWT=se("tableE");break;case"N":l.Daten.N=se("tableN");break;default:throw new Error("Modus fehlt")}try{console.time("download");const o=await De(`download/${e}`,l,"POST");if(o instanceof Error)return;if(o.statusCode!=200){console.error("Fehler",o.message),F({message:`Download fehlerhaft:<br/>${o.message}`,status:"error",timeout:3e3,position:"br",fixed:!0});return}Jn.saveAs(Xd(o.data.data),o.data.name)}catch(o){console.error(o);return}finally{console.timeEnd("download"),le(!1),te(t.id)}}function Xd(t,e="application/pdf"){const n=window.atob(t),s=new ArrayBuffer(n.length),r=new Uint8Array(s);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return new Blob([s],{type:e})}async function mn(t){if(t!==null){Ue(t.id),le(!0);try{const e=document.querySelector("#tableBZ"),n=document.querySelector("#tableBE"),s=document.querySelector("#tableE"),r=document.querySelector("#tableN");if(!e||!n||!s||!r)throw new Error("Custom table not found");const i=e.instance,a=n.instance,l=s.instance,o=r.instance;G("tableBZ",i),G("tableBE",a),G("tableE",l),G("tableN",o),Hd();const c={BZ:E.get("dataBZ"),BE:E.get("dataBE"),E:E.get("dataE"),N:E.get("dataN"),User:E.get("VorgabenU"),Monat:E.get("Monat"),Jahr:E.get("Jahr")},u=await De("saveData",c,"POST");if(u.statusCode!=200){console.error("Fehler",u.message);const h=JSON.parse(u.message);F({message:"Speichern<br/>Es ist ein Fehler aufgetreten:"+h.map(f=>`<br/>- ${f}`),status:"error",timeout:3e3,position:"br",fixed:!0});return}const d=u.data;console.log(d),Es(d.datenBerechnung),i.rows.load(We(d.daten.datenBZ)),console.log("saved ",{ftBZ:i}),a.rows.load($t(d.daten.datenBE)),console.log("saved ",{ftBE:a}),l.rows.load(pt(d.daten.datenE)),console.log("saved ",{ftE:l}),o.rows.load(Ot(d.daten.datenN)),console.log("saved ",{ftN:o}),G("tableBZ",i),G("tableBE",a),G("tableE",l),G("tableN",o),hn(d.user),E.set("VorgabenU",d.user),E.set("datenBerechnung",d.datenBerechnung),console.log("Erfolgreich gespeichert"),F({message:"Speichern<br/>Daten gespeichert",status:"success",timeout:3e3,position:"br",fixed:!0})}catch(e){console.error(e);return}finally{te(t.id),le(!1)}}}function G(t,e){let n;switch(t){case"tableBZ":n=se("tableBZ",e),E.set("dataBZ",n);break;case"tableBE":n=se("tableBE",e),E.set("dataBE",n);break;case"tableE":n=se("tableE",e),E.set("dataE",n);break;case"tableN":n=se("tableN",e),E.set("dataN",n);break;case"tableVE":n=E.get("VorgabenU"),n.vorgabenB=Object.fromEntries(se("tableVE",e).entries()),E.set("VorgabenU",n)}}function se(t,e){if(!e){const n=document.querySelector(`#${t}`);if(!n)throw new Error("table nicht gefunden");e=n.instance}return e.getRows().map(n=>n.cells)}function Xn(t){const e=document.querySelector("#btnAuswaehlen");e&&(e.disabled=t);const n=document.querySelector("#btnChange");n&&(n.disabled=t),document.querySelectorAll("[id^='btnSave']").forEach(a=>{a.disabled=t}),document.querySelectorAll("[id^='btnDownload']").forEach(a=>{a.disabled=t});const i=document.querySelector("#btnPasswortAEndern");i&&(i.disabled=t)}function le(t){Array.from(document.querySelectorAll("[data-disabler]")).forEach(n=>n.disabled=t),console.log(`Button disabled: ${t}`)}function Ue(t){const e=document.querySelector(`#${t}`);e&&(e.dataset.normaltext||(e.dataset.normaltext=e.innerHTML),e.dataset.loadingtext||(e.dataset.loadingtext="<span class='spinner-grow spinner-grow-sm' role='status' aria-hidden='true'></span>"),e.disabled=!0,e.innerHTML=e.dataset.loadingtext)}function te(t){const e=document.querySelector(`#${t}`);e&&(e.innerHTML=e.dataset.normaltext,e.disabled=!1)}function Oi(t){t.sort((e,n)=>{const s=e[0],r=n[0];return s<r?s==r?0:-1:s==r?0:1})}let Ln=0,Qn,es;xi();function xi(){Qn=new AbortController,es=Qn.signal}async function De(t,e,n="GET",s=0,r=E.get("accessToken")){if(s>2)throw new Error("Zu viele Tokenfehler");const i=+sessionStorage.getItem("lastServerContact");let a=!1;if(!i||i-Date.now()+5*60*1e3<0){const d=F({message:"Serververbindung wird aufgebaut. Bitte warten.",dismissible:!1,status:"info",timeout:!1,position:"br",fixed:!0});try{console.time("Serververbindung herstellen"),await fetch(`${Sr}/`,{method:"GET",signal:es}),sessionStorage.setItem("lastServerContact",Date.now().toString()),a=!0}catch{throw F({message:"Server nicht Erreichbar",status:"error",position:"br",fixed:!0}),new Error("Server nicht Erreichbar")}finally{console.timeEnd("Serververbindung herstellen"),d.Close()}}else a=!0;if(!a)throw new Error("Server nicht Erreichbar");const l=new Headers;n!=="GET"&&l.set("Content-Type","application/json"),r&&((!e||e&&!Object.prototype.hasOwnProperty.call(e,"refreshToken"))&&(r=await Qd(r)),l.set("Authorization",`Bearer ${r}`));const o={mode:"cors",headers:l,method:n,signal:es,cache:"no-cache"};e&&(o.body=JSON.stringify(e));const c=await fetch(`${Sr}/${t}`,o),u=await c.json();return c.status==401&&u.message=="Token abgelaufen"?(r=await ki(s,void 0,r),await De(t,e,n,s+1,r)):(u.statusCode=c.status,u)}async function Qd(t=E.get("accessToken")){return Ss(t).exp*1e3<new Date().getTime()?await ki():t}function Ss(t=E.get("accessToken")){const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(n).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}async function ki(t,e=E.get("refreshToken"),n=E.get("accessToken")){if(!e||!n||Ln>2)throw Ln=0,en(),F({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0}),new Error("Fehler bei Token erneuerung");const s=await De("refreshToken",{refreshToken:e},"POST",t,n);if(s instanceof Error)throw new Error("Fehler");if(s.statusCode===200){Ln++;const{accessToken:r,refreshToken:i}=s.data;return console.log({accessToken:r,refreshToken:i}),E.set("accessToken",r),E.set("refreshToken",i),r}else throw en(),F({message:"Login<br/>Fehlerhafte Anmeldung,</br> bitte Erneut anmelden!",status:"error",timeout:3e3,position:"br",fixed:!0}),new Error("Fehler bei Token erneuerung")}function yt(t,e){return L([t,e,L().date()]).month()===e?L().date():1}function ef(t,e){const n=e.columns.array.filter(r=>r.name!=="editing").reduce((r,i)=>(r[i.title]=i.name,r),{}),s={};return t.forEach((r,i)=>{console.log(i,r);const a=n[i];a&&(s[a]?Array.isArray(s[a])?s[a].push(r):s[a]=[s[a],r]:s[a]=r)}),s}
//# sourceMappingURL=index-231c0b99.js.map
